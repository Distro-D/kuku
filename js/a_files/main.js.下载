/*!
 * Project:    echo web
 * Buildat:    [hash]
 * Author:     zhaoyujie [825407762@qq.com](https://www.825407762.com)
 *             wangcaibin []()
 *             zhangtaotao []()
 *             taolei []()
 *             wangmengsha []()
 */
webpackJsonp([1],{0:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(290),a=i(r),o=n(262),s=i(o),u=n(1),l=i(u),c=n(2),d=i(c),h=n(4),p=i(h),f=n(5),m=i(f),g=n(294),y=i(g),v=n(199),_=i(v),b=n(777),T=i(b);d.default.config.errorHandler=function(t,e){var n={page:window.location.href,url:e.$route.fullPath,line:1,message:t.stack,ua:window.navigator.userAgent};console.info("%cVue error in %s\n%s","color:#333;background:#ccc;",n.url,n.message),"www.app-echo.com"===location.host&&((new Image).src="//www.app-echo.com/get_js_error_report?"+l.default.param(n))};var w="www.app-echo.com"==location.host;window.jQuery=window.$=l.default,window.alert_msg=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;(0,l.default)(".js-alert-msg").remove(),(0,l.default)("body").append('<div class="js-alert-msg"><em>'+t+"</em></div>"),setTimeout(function(){(0,l.default)(".js-alert-msg").fadeOut(500,e)},n)},window.share_weibo=function(t){"SoundInfo"==vm.$route.name&&vm.$http.get("api/integral/add-integral?type=3&sound_id="+vm.$route.params.id);var e="http://service.weibo.com/share/share.php?",n=l.default.param({url:location.href,title:t.title+"（来自@echo回声APP）",appkey:3898630147,pic:t.pic?t.pic:""});window.open(e+n)},l.default.fn.extend({preventScroll:function(){(0,l.default)(this).each(function(){var t=this;navigator.userAgent.indexOf("Firefox")>=0?t.addEventListener("DOMMouseScroll",function(e){t.scrollTop+=e.detail>0?60:-60,e.preventDefault()},!1):t.onmousewheel=function(e){return e=e||window.event,t.scrollTop+=e.wheelDelta>0?-60:60,!1}})}}),window.String.prototype.trim||(window.String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}),l.default.cookie=function(t,e,n){if(arguments.length>1&&(null===e||"object"!==("undefined"==typeof e?"undefined":(0,s.default)(e)))){if(n=jQuery.extend({},n),null===e&&(n.expires=-1),"number"==typeof n.expires){var i=n.expires,r=n.expires=new Date;r.setDate(r.getDate()+i)}return document.cookie=[encodeURIComponent(t),"=",n.raw?String(e):encodeURIComponent(String(e)),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=e||{};var a,o=n.raw?function(t){return t}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?o(a[1]):null};var k=(0,l.default)("meta[name=csrf-token]").prop("content");d.default.use(p.default),d.default.use(m.default),d.default.http.options.root=w?location.protocol+"//www.app-echo.com":"//"+location.host,d.default.http.options.emulateJSON=!0,d.default.http.options.emulateHTTP=!0,d.default.http.interceptors.push(function(t,e){"POST"==t.method&&(t.body._csrf=k),e(function(t){if(302==t.status,499==t.status)return alert(t.data.desc),void(location.href="#/")})}),(0,a.default)(_.default).forEach(function(t){return d.default.filter(t,_.default[t])}),window.vm=null,window.TITLE_BASE=document.title,window.TITLE_SUFFIX=window.TITLE_SUFFIX||" - echo回声";var S=new p.default({routes:y.default});S.beforeEach(function(t,e,n){window.scrollTo(0,0),t.matched.some(function(e){vm&&vm.$store.state.mp_modal.playing===!0||(e.meta.title?(console.log("title:",e.meta.title),document.title=e.meta.title+TITLE_SUFFIX):document.title=TITLE_BASE),e.meta.need_login?vm&&vm.$store.state.user_modal.self&&vm.$store.state.user_modal.self.id?(console.info("\\need_login\\true normal"),n()):USER_SELF.id?(console.info("\\need_login\\true then frist"),n()):(console.info("\\need_login\\false"),n({name:"UserLogin",query:{redirect:t.fullPath}})):n()})}),d.default.component("im-service",n(781)),d.default.component("tocode-modal",n(787)),d.default.component("mini-player",n(790)),d.default.component("qr-code",n(880)),d.default.component("pay-card",n(884)),d.default.component("router-nav",w?{template:"<div></div>"}:n(887));var C=window.navigator.userAgent,E=/(mobile|mobi|wap|iphone)/i.test(C),O=/android/i.test(C),A=/(ipad)/i.test(C);if("/"==location.pathname&&(E||O||A))"#/"!=location.hash?location.hash.indexOf("h5group")>-1?location.href=location.hash.replace("#/group/h5group/","/group/"):location.href=location.hash.replace("#",""):location.href=location.origin+"/sound/exploration";else{var x=parseInt(location.href.replace(/[^0-9]/gi,""));location.href.indexOf("group")>-1&&x>34&&location.href.indexOf("h5group")==-1&&location.href.indexOf("id=")==-1&&(location.href=location.hash.replace(/#\/group/,"#/group/h5group"),console.log(location)),vm=new d.default({router:S,store:T.default}),vm.$store.dispatch("user_modal/init",function(){vm.$mount("#app"),setTimeout(function(){(0,l.default)("#ebsgovicon").show()},500)}),vm.$store.dispatch("realname_info/init",function(){vm.$mount("#app")})}},290:function(t,e,n){t.exports={default:n(291),__esModule:!0}},291:function(t,e,n){n(292),t.exports=n(184).Object.keys},292:function(t,e,n){var i=n(232),r=n(216);n(293)("keys",function(){return function(t){return r(i(t))}})},293:function(t,e,n){var i=n(182),r=n(184),a=n(193);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],o={};o[t]=e(n),i(i.S+i.F*a(function(){n(1)}),"Object",o)}},294:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=i(r),o=a.default.extend({template:'\n<main class="main-app">\n    <nav-header></nav-header>\n    <login-modal></login-modal>\n    <main class="main-center">\n        <router-view></router-view>\n    </main>\n    <nav-footer></nav-footer>\n</main>',components:{"nav-header":n(295),"nav-footer":n(303),"login-modal":n(306)}}),s=a.default.extend({template:'\n<main class="main-app">\n    <nav-header></nav-header>\n    <login-modal></login-modal>\n    <main class="main-center100">\n        <router-view></router-view>\n    </main>\n    <nav-footer style="margin-top:0"></nav-footer>\n</main>',components:{"nav-header":n(295),"nav-footer":n(303),"login-modal":n(306)}}),u=[{path:"/sound",component:o,children:[{name:"SoundExploration",path:"exploration",redirect:{name:"Index"}},{name:"SoundUpload",path:"upload",meta:{need_login:!0},component:function(t){n.e(2,function(e){var n=[e(309)];t.apply(null,n)}.bind(this))}},{name:"SoundInfoOld",path:"info",redirect:function(t){return{name:"SoundInfo",params:{id:t.query.sound_id},query:{p_c:t.query.p_c}}}},{name:"SoundInfo",path:":id(\\d+)",component:function(t){n.e(3,function(e){var n=[e(319)];t.apply(null,n)}.bind(this))}}]},{path:"/rank",component:s,children:[{name:"HotSound",path:"sound-hot",component:function(t){n.e(4,function(e){var n=[e(346)];t.apply(null,n)}.bind(this))}},{name:"OriginSound",path:"sound-origin",component:function(t){n.e(5,function(e){var n=[e(349)];t.apply(null,n)}.bind(this))}},{name:"HotMv",path:"mv-hot",component:function(t){n.e(6,function(e){var n=[e(352)];t.apply(null,n)}.bind(this))}}]},{path:"/channel",component:o,children:[{name:"ChannelIndex",path:"",meta:{title:"频道页"},component:function(t){n.e(7,function(e){var n=[e(355)];t.apply(null,n)}.bind(this))}},{name:"ChannelTag",path:"tag/:id",component:function(t){n.e(8,function(e){var n=[e(361)];t.apply(null,n)}.bind(this))}},{name:"ChannelInfo",path:":id(\\d+)",component:function(t){n.e(9,function(e){var n=[e(364)];t.apply(null,n)}.bind(this))}}]},{path:"/mv",component:o,children:[{name:"MvUpload",path:"upload",meta:{need_login:!0},component:function(t){n.e(10,function(e){var n=[e(367)];t.apply(null,n)}.bind(this))}},{name:"MvIndex",path:"",component:function(t){n.e(11,function(e){var n=[e(370)];t.apply(null,n)}.bind(this))}},{name:"MvInfo",path:":id(\\d+)",component:function(t){n.e(12,function(e){var n=[e(373)];t.apply(null,n)}.bind(this))}}]},{path:"/sitcom",component:o,children:[{name:"SitcomIndex",path:"",component:function(t){n.e(13,function(e){var n=[e(376)];t.apply(null,n)}.bind(this))}},{name:"SitcomInfo",path:":id(\\d+)",component:function(t){n.e(14,function(e){var n=[e(379)];t.apply(null,n)}.bind(this))}}]},{path:"/user",component:s,children:[{name:"UserLogin",path:"login",component:function(t){n.e(15,function(e){var n=[e(382)];t.apply(null,n)}.bind(this))}},{name:"UserReg",path:"reg",component:function(t){n.e(16,function(e){var n=[e(385)];t.apply(null,n)}.bind(this))}},{name:"UserForgetPwd",path:"forget-pwd",component:function(t){n.e(17,function(e){var n=[e(388)];t.apply(null,n)}.bind(this))}},{name:"UserEdit",path:"edit",meta:{need_login:!0},component:function(t){n.e(18,function(e){var n=[e(391)];t.apply(null,n)}.bind(this))}},{name:"UserSound",path:"sound",meta:{need_login:!0},component:function(t){n.e(19,function(e){var n=[e(394)];t.apply(null,n)}.bind(this))}},{name:"UserPhoto",path:"photo",meta:{need_login:!0},component:function(t){n.e(20,function(e){var n=[e(397)];t.apply(null,n)}.bind(this))}},{name:"UserMv",path:"mv",component:function(t){n.e(21,function(e){var n=[e(400)];t.apply(null,n)}.bind(this))}},{name:"UserThridLogin",path:"thrid-login",component:function(t){n.e(22,function(e){var n=[e(403)];t.apply(null,n)}.bind(this))}},{name:"UserBindMobile",path:"bind-mobile",component:function(t){n.e(23,function(e){var n=[e(406)];t.apply(null,n)}.bind(this))}},{name:"UserSoundLikes",path:"sound-likes",meta:{need_login:!0},component:function(t){n.e(24,function(e){var n=[e(409)];t.apply(null,n)}.bind(this))}},{name:"UserFollowed",path:"followed",meta:{need_login:!0},component:function(t){n.e(25,function(e){var n=[e(412)];t.apply(null,n)}.bind(this))}},{name:"UserFollowing",path:"following",meta:{need_login:!0},component:function(t){n.e(26,function(e){var n=[e(418)];t.apply(null,n)}.bind(this))}},{name:"UserAlbum",path:"album",component:function(t){n.e(27,function(e){var n=[e(421)];t.apply(null,n)}.bind(this))}},{name:"UserFeed",path:"feed",component:function(t){n.e(28,function(e){var n=[e(424)];t.apply(null,n)}.bind(this))}},{name:"UserTimeline",path:"timeline",meta:{need_login:!0},component:function(t){n.e(29,function(e){var n=[e(436)];t.apply(null,n)}.bind(this))}},{name:"UserInfo",path:":id(\\d+)",meta:{need_login:!0},component:function(t){n.e(30,function(e){var n=[e(439)];t.apply(null,n)}.bind(this))}},{name:"UserSelf",path:"",meta:{need_login:!0},component:function(t){n.e(30,function(e){var n=[e(439)];t.apply(null,n)}.bind(this))}}]},{path:"/pay",component:o,children:[{name:"PayMembership",path:"membership",component:function(t){n.e(31,function(e){var n=[e(453)];t.apply(null,n)}.bind(this))}},{name:"PayCoins",path:"coins",component:function(t){n.e(32,function(e){var n=[e(458)];t.apply(null,n)}.bind(this))}},{name:"PayOrder",path:"order",meta:{need_login:!0},component:function(t){n.e(33,function(e){var n=[e(461)];t.apply(null,n)}.bind(this))}},{name:"PayStatus",path:"status",meta:{need_login:!0},component:function(t){n.e(34,function(e){var n=[e(466)];t.apply(null,n)}.bind(this))}}]},{path:"/famous",component:o,children:[{name:"FamousList",path:"list",component:function(t){n.e(35,function(e){var n=[e(471)];t.apply(null,n)}.bind(this))}},{name:"FamousApply",path:"apply",meta:{need_login:!0},component:function(t){n.e(36,function(e){var n=[e(474)];t.apply(null,n)}.bind(this))}},{name:"FamousIndex",path:"",component:function(t){n.e(37,function(e){var n=[e(477)];t.apply(null,n)}.bind(this))}}]},{path:"/famous/data",component:o,children:[{name:"FamousDataIndex",path:"",meta:{need_login:!0},component:function(t){n.e(38,function(e){var n=[e(480)];t.apply(null,n)}.bind(this))}},{name:"FamousDataWorks",path:"works",meta:{need_login:!0},component:function(t){n.e(39,function(e){var n=[e(643)];t.apply(null,n)}.bind(this))}},{name:"FamousDataFans",path:"fans",meta:{need_login:!0},component:function(t){n.e(40,function(e){var n=[e(646)];t.apply(null,n)}.bind(this))}},{name:"FamousDataIncome",path:"income",meta:{need_login:!0},component:function(t){n.e(41,function(e){var n=[e(649)];t.apply(null,n)}.bind(this))}}]},{path:"/group",component:s,children:[{name:"groupH5",path:"h5group/:groupid?",meta:{need_login:!0},component:function(t){n.e(42,function(e){var n=[e(652)];t.apply(null,n)}.bind(this))}},{name:"GroupIndex",path:"index",meta:{need_login:!0},component:function(t){n.e(43,function(e){var n=[e(662)];t.apply(null,n)}.bind(this))}},{name:"GroupAdd",path:"add",meta:{need_login:!0},component:function(t){n.e(44,function(e){var n=[e(665)];t.apply(null,n)}.bind(this))}},{name:"GroupPreview",path:"preview",component:function(t){n.e(45,function(e){var n=[e(670)];t.apply(null,n)}.bind(this))}},{name:"GroupUpload",path:"upload",meta:{need_login:!0},component:function(t){n.e(46,function(e){var n=[e(676)];t.apply(null,n)}.bind(this))}},{name:"GroupAward",path:"award",meta:{need_login:!0},component:function(t){n.e(47,function(e){var n=[e(679)];t.apply(null,n)}.bind(this))}},{name:"GroupList",path:"list",meta:{need_login:!0},component:function(t){n.e(48,function(e){var n=[e(682)];t.apply(null,n)}.bind(this))}},{name:"GroupAddress",path:"address",meta:{need_login:!0},component:function(t){n.e(49,function(e){var n=[e(685)];t.apply(null,n)}.bind(this))}},{name:"GroupRankPreview",path:"rank-preview",meta:{need_login:!0},component:function(t){n.e(50,function(e){var n=[e(688)];t.apply(null,n)}.bind(this))}},{name:"GroupRankUpload",path:"rank-upload",meta:{need_login:!0},component:function(t){n.e(51,function(e){var n=[e(691)];t.apply(null,n)}.bind(this))}},{name:"GroupRankGift",path:"rank-gift",meta:{need_login:!0},component:function(t){n.e(52,function(e){var n=[e(694)];t.apply(null,n)}.bind(this))}}]},{path:"/store",component:s,children:[{name:"StoreMyStore",path:"my-store",meta:{need_login:!0},component:function(t){n.e(53,function(e){var n=[e(697)];t.apply(null,n)}.bind(this))}},{name:"StoreOrder",path:"order",meta:{need_login:!0},component:function(t){n.e(54,function(e){var n=[e(703)];t.apply(null,n)}.bind(this))}},{name:"StoreOrderInfo",path:"order-info",meta:{need_login:!0},component:function(t){n.e(55,function(e){var n=[e(717)];t.apply(null,n)}.bind(this))}},{name:"StoreInfo",path:"info",component:function(t){n.e(56,function(e){var n=[e(720)];t.apply(null,n)}.bind(this))}},{name:"StoreList",path:"lists",component:function(t){n.e(57,function(e){var n=[e(723)];t.apply(null,n)}.bind(this))}},{name:"StoreIndex",path:"",component:function(t){n.e(57,function(e){var n=[e(723)];t.apply(null,n)}.bind(this))}}]},{path:"/album",component:s,children:[{name:"AlbumIndex",path:"",component:function(t){n.e(58,function(e){var n=[e(726)];t.apply(null,n)}.bind(this))}},{name:"AlbumAdd",path:"add",meta:{need_login:!0},component:function(t){n.e(59,function(e){var n=[e(730)];t.apply(null,n)}.bind(this))}},{name:"AlbumInfo",path:"info",component:function(t){n.e(60,function(e){var n=[e(733)];t.apply(null,n)}.bind(this))}}]},{path:"/search",component:o,children:[{name:"Search",path:":keyword",component:function(t){n.e(61,function(e){var n=[e(736)];t.apply(null,n)}.bind(this))}}]},{path:"/feed",component:o,children:[{name:"FeedInfo",path:":id(\\d+)",component:function(t){n.e(62,function(e){var n=[e(739)];t.apply(null,n)}.bind(this))}}]},{path:"/index",component:s,children:[{name:"IndexAbout",path:"about",component:function(t){n.e(63,function(e){var n=[e(742)];t.apply(null,n)}.bind(this))}}]},{path:"/",component:o,children:[{name:"Index",path:"",component:function(t){n.e(64,function(e){var n=[e(745)];t.apply(null,n)}.bind(this))}},{name:"NotFound",path:"*",component:function(t){n.e(64,function(e){var n=[e(745)];t.apply(null,n)}.bind(this))}}]}];e.default=u},295:function(t,e,n){var i,r;i=n(296);var a=n(300);r=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(r=i=i.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=i},296:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(297),a=i(r),o=n(200);e.default={data:function(){return{search:{keyword:"",lock:!1},result_temp:[],keys:[]}},computed:{self:function(){return this.$store.state.user_modal.self},get_nav_show_type:function(){return this.$store.state.header_nav.nav_show_active},results:function(){var t=[],e=[];if(this.result_temp.length){var n=!0,i=!1,r=void 0;try{for(var o,s=(0,a.default)(this.result_temp);!(n=(o=s.next()).done);n=!0){var u=o.value;1==u.type?t.push(u.sound):2==u.type&&e.push(u.user)}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}return{sounds:t,users:e}}},methods:{default_avatar:o.default_avatar,do_login:function(){"UserLogin"==this.$route.name?alert_msg("请先登录"):this.$store.commit("login_modal/toggle_show")},show_active:function(t){"activity1"==t&&this.$store.commit("tocode_modal/toggle_show",{show:!0,type:"event"}),"activity2"==t&&this.$store.commit("tocode_modal/toggle_show",{show:!0,type:"topic"}),this.$store.commit("header_nav/changeNavshow",t)},input_box_recommend:function(){var t=this;this.search.keyword.trim()&&(this.search.lock||(this.search.lock=!0,$.Deferred(this.get_result).done(function(e){t.result_temp=e.data,t.keys=e.keys,t.search.lock=!1}).fail(function(){t.search.lock=!1})))},get_result:function(t){this.$http.get("api/search/input-box-recommend?keyword="+this.search.keyword).then(function(e){t.resolve(e.body)},function(e){t.reject()})},high_light:function(t,e){if(!t)return"";var n=!0,i=!1,r=void 0;try{for(var o,s=(0,a.default)(e);!(n=(o=s.next()).done);n=!0){var u=o.value;if(u){var l=new RegExp(u,"ig"),c="<span>"+u+"</span>";t=t.replace(l,c)}}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return t},go_to_search:function(){this.$router.push({name:"Search",params:{keyword:this.search.keyword}}),this.search.keyword=""}}}},297:function(t,e,n){t.exports={default:n(298),__esModule:!0}},298:function(t,e,n){n(233),n(205),t.exports=n(299)},299:function(t,e,n){var i=n(189),r=n(243);t.exports=n(184).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},300:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return e("header",{staticClass:"headerv3"},[e("div",{staticClass:"headerv3-nav"},[e("a",{staticClass:"nav index",class:{active:"index"==t.get_nav_show_type},attrs:{href:"#/"},on:{click:function(e){t.show_active("index")}}},["首页"])," ",e("div",{staticClass:"nav has_list",class:{active:"c_f_s"==t.get_nav_show_type||"activity"==t.get_nav_show_type}},[e("a",{attrs:{href:"javascript:;"}},["发现"])," ",e("ul",{staticClass:"navlist"},[e("li",{on:{click:function(e){t.show_active("c_f_s")}}},[e("a",{attrs:{href:"#/channel"}},["频道"])])," ",e("li",{on:{click:function(e){t.show_active("c_f_s")}}},[e("a",{attrs:{href:"#/famous"}},["名人"])])," ",e("li",{on:{click:function(e){t.show_active("c_f_s")}}},[e("a",{attrs:{href:"#/store"}},["商城"])])," ",e("li",{on:{click:function(e){t.show_active("activity1")}}},[e("a",["活动"])])," ",e("li",{on:{click:function(e){t.show_active("activity2")}}},[e("a",["专题"])])," ",t._m(0)])])," "," ",e("a",{staticClass:"nav friend",class:{active:"friend"==t.get_nav_show_type},attrs:{href:"#/user/timeline"},on:{click:function(e){t.show_active("friend")}}},["好友圈"])," "," ",e("a",{staticClass:"nav",attrs:{target:"**echo.download**",href:"/index/download"}},["下载客户端"])])," ",e("router-link",{staticClass:"headerv3-logo",attrs:{to:{name:"UserSelf"}}},[e("img",{attrs:{src:n(301)}})])," ",e("div",{staticClass:"headerv3-user"},[t.self.id?t._e():[e("a",{staticClass:"headerv3-login",on:{click:t.do_login}},["登录"])]," ",t.self.id?[e("img",{staticClass:"avatar",attrs:{src:t.default_avatar(t.self.avatar_50)}})," ",e("div",{staticClass:"user-info"},[e("div",{staticClass:"top clearfix"},[e("router-link",{staticClass:"to-user",attrs:{to:{name:"UserSelf"}}},[e("img",{staticClass:"avatar",attrs:{src:t.default_avatar(t.self.avatar_50)}})," ",t.self.famous_icon||8==t.self.famous_type?e("img",{staticClass:"avatar-icon",attrs:{src:t.self.famous_icon?t.self.famous_icon:8==t.self.famous_type?"http://qn-qn-echo-image-cdn.app-echo.com/FsUBdPAHqI8FYqXfe5sH0syvsgNJ":""}}):t._e()])," ",e("div",{staticClass:"user-name"},[e("h2",{staticClass:"user-vip",class:"user-vip-"+t.self.pay_class},[t._s(t.self.name)])," ",t.self.pay_expiry?t._e():e("span",["您还未购买会员"])])," ",e("a",{staticClass:"logout",attrs:{href:"/api/user/logout"}},["退出"])])," ",e("div",{staticClass:"middle"},[t.self.pay_expiry?e("div",{staticClass:"member clearfix"},[e("span",{staticClass:"l"},["会员时间"])," ",e("span",{staticClass:"r"},["剩余",e("em",[t._s(t.self.left_days)]),"天"])]):t._e()," ",t.self.pay_expiry?e("div",{staticClass:"all"},[e("div",{staticClass:"now",style:"width:"+t.self.used_days_rate+"%"})]):t._e()," ",e("div",{staticClass:"coin clearfix"},[e("span",{staticClass:"l"},["我的金币"])," ",e("span",{staticClass:"r"},[e("img",{attrs:{src:n(302)}}),t._s(t.self.coins)])])])," ",e("div",{staticClass:"bottom"},[e("router-link",{staticClass:"to-member",attrs:{to:{name:"PayMembership"}},domProps:{textContent:t._s(t.self.pay_expiry?"我的会员":"开通echo会员")}})," ",e("router-link",{staticClass:"to-coin",attrs:{to:{name:"PayCoins"}}},["充值金币"])])])]:t._e()])," ",e("router-link",{staticClass:"headerv3-upload-audio",attrs:{to:{name:"SoundUpload"}}},["上传作品"])," ",e("div",{staticClass:"headerv3-search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search.keyword,expression:"search.keyword"}],attrs:{type:"text",placeholder:"搜索内容"},domProps:{value:t._s(t.search.keyword)},on:{keyup:[t.input_box_recommend,function(e){t._k(e.keyCode,"enter",13)||t.go_to_search(e)}],input:function(e){e.target.composing||(t.search.keyword=e.target.value)}}})," ",t.search.keyword?e("div",{staticClass:"empty-text",on:{click:function(e){t.search.keyword=""}}}):t._e()," ",t.search.keyword?e("div",{staticClass:"js-search-result"},[e("i",{staticClass:"triangle-top"})," ",e("h2",["搜索“",e("span",[t._s(t.search.keyword)]),"”相关"])," ",t.results.sounds.length?e("div",{staticClass:"js-search-type clearfix"},[e("div",{staticClass:"type-name"},["回声"])," ",e("div",{staticClass:"type-search-list sound"},[t._l(t.results.sounds,function(n){return[e("router-link",{attrs:{to:{name:"SoundInfo",params:{id:n.id}}},domProps:{innerHTML:t._s(t.high_light(n.name,t.keys))}})]})])]):t._e()," ",t.results.users.length?e("div",{staticClass:"js-search-type clearfix"},[e("div",{staticClass:"type-name"},["用户"])," ",e("div",{staticClass:"type-search-list bg-grey user"},[t._l(t.results.users,function(n){return[e("router-link",{attrs:{to:{name:"UserInfo",params:{id:n.id}}},domProps:{innerHTML:t._s(t.high_light(n.name,t.keys))}})]})])]):t._e()]):t._e()])])},staticRenderFns:[function(){var t=this,e=t.$createElement;t._self._c||e;return e("li",{staticClass:"last"},[e("a",{attrs:{target:"**tickets**",href:"/event/music-festival/"}},["echo回声音乐节"])])}]}},301:function(t,e,n){t.exports=n.p+"images/2c35330d407d3f6edb9d09a4ce563da9.png"},302:function(t,e,n){t.exports=n.p+"images/b44007835536ca494e4718f3791ed034.png"},303:function(t,e,n){var i,r;i=n(304);var a=n(305);r=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(r=i=i.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=i},304:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},ready:function(){}}},305:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return e("footer",{staticClass:"footerv3"},[t._m(0)," ",e("ul",{staticClass:"footerv3-nav"},[t._m(1)," ",e("li",[e("router-link",{attrs:{to:{name:"IndexAbout"}}},["关于echo"])])," ",t._m(2)," ",e("li",[e("router-link",{attrs:{to:{name:"FamousApply"}}},["echo名人申请"])])," ",t._m(3)," ",t._m(4)," ",e("li",[e("router-link",{attrs:{to:{name:"UserThridLogin"}}},["第三方帐号绑定"])])])," ",t._m(5)])},staticRenderFns:[function(){var t=this,e=t.$createElement;t._self._c||e;return e("div",{staticClass:"footerv3-cp clearfix"},[e("div",{staticClass:"footerv3-logo"},[e("img",{attrs:{src:"/statics/v3/images/kibeylogo@2x.png",alt:"启维 文化 Kibey Culture Media Co.,Ltd."}})])," ",e("p",{staticClass:"footerv3-desc"},["启维文化是一个年轻人的文化品牌，旗下有多个互联网产品线，覆盖生活方式、音乐、创意，时尚等多个领域。"])," ",e("div",{staticClass:"footerv3-contact"},["商业合作\n      ",e("em",["business@kibey.com"])," ",e("br"),"广告投放\n      ",e("em",["ad@kibey.com"])," ",e("br"),"echo回声渠道合作\n      ",e("em",["echo@kibey.com"])," ",e("br"),"版权合作、投诉\n      ",e("em",["legal@kibey.com"])," ",e("br"),"联系客服\n      ",e("em",["echo-service@kibey.com"])," ",e("br"),"其他事项\n      ",e("em",["info@kibey.com"])," ",e("br"),"客服电话\n      ",e("em",["400-820-1791"])])])},function(){var t=this,e=t.$createElement;t._self._c||e;return e("li",[e("a",{attrs:{target:"_blank",href:"http://www.kibey.com/"}},["青声首页"])])},function(){var t=this,e=t.$createElement;t._self._c||e;return e("li",[e("a",{attrs:{target:"_blank",href:"http://www.kibey.com/#page-7"}},["职位招聘"])])},function(){var t=this,e=t.$createElement;t._self._c||e;return e("li",[e("a",{attrs:{target:"_blank",href:"/index/download"}},["下载app"])])},function(){var t=this,e=t.$createElement;t._self._c||e;return e("li",[e("a",{attrs:{target:"_blank",href:"/echobeat"}},["手游echobeat"])])},function(){var t=this,e=t.$createElement;t._self._c||e;return e("div",{staticClass:"copyright"},[e("a",{attrs:{href:"http://www.miitbeian.gov.cn/",rel:"nofollow",target:"_blank"}},["沪ICP备15035783号-1"]),"  |  网络文化经营许可证：沪网文【2015】0593-143号\n      |  \n    ",e("a",{attrs:{target:"_blank",href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31010602000310"}},[e("img",{staticStyle:{width:"16px",height:"16px","vertical-align":"sub"},attrs:{src:"//qn-qn-echo-image-cdn.app-echo.com/FinEALw7ifYIV2baxOAzDe1ctz1S"}}),"\n      沪公网安备 31010602000310号\n    "]),"\n      |  \n    "," ",e("a",{attrs:{href:"//szcert.ebs.org.cn/ff7dcf9c-d995-4bbd-ac03-11c4f5f31722",target:"_blank"}},[e("img",{staticStyle:{width:"15px",height:"20px","vertical-align":"sub"},attrs:{src:"//szcert.ebs.org.cn/Images/govIcon.gif",title:"深圳市市场监督管理局企业主体身份公示",alt:"深圳市市场监督管理局企业主体身份公示"}}),"\n      工商网监\n    "])," ",e("br"),"增值电信业务经营许可证：沪 B2-20160047  |  客服电话：400-820-1791\n    ",e("br"),"联系地址：上海市静安区江宁路631号3号楼2层\n    ",e("br"),"©2009-2018 上海青声网络科技有限公司保留所有权利\n  "])}]}},306:function(t,e,n){var i,r;i=n(307);var a=n(308);r=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(r=i=i.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=i},307:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(175),a=i(r);e.default={data:function(){return{all_country_codes:{},country_codes:[],tab_show:"phone",error_msg:"",show_codes:!1,login_form:{name:"",password:"","area-code":"+86"},login_lock:!1}},computed:{show_modal:function(){return this.$store.state.login_modal.show_modal}},watch:{error_msg:function(){var t=this;setTimeout(function(){t.error_msg=""},3e3)}},mounted:function(){this.load_area_code()},methods:{load_area_code:function(){this.all_country_codes=a.default;for(var t in this.all_country_codes.all){var e=this.all_country_codes.all[t].data;for(var t in e)this.country_codes.push(e[t])}},changeTab:function(){this.login_form.password=""},chose_code:function(t){this.show_codes=!1,this.login_form["area-code"]=t.code},login:function(){var t=this,e=this;return e.login_form.name?e.login_form.password?!e.login_lock&&(e.login_lock=!0,void this.$http.post("user/ajax-login",{login_form:e.login_form}).then(function(n){n=n.data,100==n.status?(t.close_modal(),t.$store.dispatch("user_modal/init"),t.$store.dispatch("realname_info/init"),e.login_lock=!1):(e.error_msg=n.desc,e.login_lock=!1)},function(t){console.log(t.status),e.login_lock=!1})):(e.error_msg="请输入密码",!1):(e.error_msg="请输入手机号/邮箱号",!1)},close_modal:function(){this.$store.commit("login_modal/toggle_show",!this.show_modal),this.login_form.password=""}}}},308:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return e("div",[t.show_modal?e("div",{staticClass:"login-modal-bg",on:{click:t.close_modal}}):t._e()," ",e("transition",{attrs:{name:"fade"}},[t.show_modal?e("div",{staticClass:"login-modal"},[t.show_codes?e("div",{staticClass:"mask",on:{click:function(e){t.show_codes=!1}}}):t._e()," ",e("h2",["请先登录"])," ",e("i",{staticClass:"close",on:{click:t.close_modal}})," ",e("div",{staticClass:"tab-title"},[e("span",{class:{on:"phone"==t.tab_show},on:{click:function(e){t.changeTab(t.tab_show="phone")}}},["手机号登录"])," ",e("span",{class:{on:"email"==t.tab_show},on:{click:function(e){t.changeTab(t.tab_show="email")}}},["邮箱登录"])])," ",e("div",{staticClass:"js-error"},[t._s(t.error_msg)])," ","phone"==t.tab_show?e("div",{staticClass:"phone-area"},[e("p",{staticClass:"areacode",on:{click:function(e){t.show_codes=!t.show_codes}}},[t._s(t.login_form["area-code"])])," ",e("input",{directives:[{name:"model",rawName:"v-model",value:t.login_form.name,expression:"login_form.name"}],staticClass:"phone",attrs:{type:"text",placeholder:"请输入手机号码",name:"username"},domProps:{value:t._s(t.login_form.name)},on:{input:function(e){e.target.composing||(t.login_form.name=e.target.value)}}})]):t._e()," ",t.show_codes?e("div",{staticClass:"area-list"},[t._l(t.country_codes,function(n){return e("p",{on:{click:function(e){t.chose_code(n)}}},[e("span",{staticClass:"name"},[t._s(n.name)]),e("span",{staticClass:"code"},[t._s(n.code)])])})]):t._e()," ","email"==t.tab_show?e("input",{directives:[{name:"model",rawName:"v-model",value:t.login_form.name,expression:"login_form.name"}],staticClass:"email",attrs:{type:"text",placeholder:"请输入邮箱"},domProps:{value:t._s(t.login_form.name)},on:{input:function(e){e.target.composing||(t.login_form.name=e.target.value)}}}):t._e()," ",e("input",{directives:[{name:"model",rawName:"v-model",value:t.login_form.password,expression:"login_form.password"}],staticClass:"password",attrs:{type:"password",placeholder:"输入密码"},domProps:{value:t._s(t.login_form.password)},on:{keyup:function(e){13===e.keyCode&&t.login(e)},input:function(e){e.target.composing||(t.login_form.password=e.target.value)}}})," ",e("button",{staticClass:"login-btn",attrs:{type:"submit"},on:{click:t.login}},["登录"])," ",e("div",{staticClass:"other"},[e("div",{staticClass:"other-login"},["其他登录方式：\n                ",e("a",{staticClass:"weibo-btn",attrs:{title:"使用微博帐号登录",href:"/index/open-login?platform=sina",target:"_blank"},on:{click:t.close_modal}},["微博登录"])," ",e("a",{staticClass:"weixin-btn",attrs:{title:"使用微信帐号登录",href:"/index/open-login?platform=wechat",target:"_blank"},on:{click:t.close_modal}},["微信登录"])])," ",e("div",{staticClass:"forget-reg"},[e("a",{staticClass:"forget-password",attrs:{href:"#/user/forget-pwd",target:"_blank"},on:{click:t.close_modal}},["忘记密码？"])," ",e("a",{staticClass:"reg",attrs:{href:"#/user/reg",target:"_blank"},on:{click:t.close_modal}},["立即注册"])])])]):t._e()])])},staticRenderFns:[]}},341:function(t,e,n){t.exports={default:n(342),__esModule:!0}},342:function(t,e,n){n(343),t.exports=n(184).Object.assign},343:function(t,e,n){var i=n(182);i(i.S+i.F,"Object",{assign:n(344)})},344:function(t,e,n){"use strict";var i=n(216),r=n(272),a=n(273),o=n(232),s=n(219),u=Object.assign;t.exports=!u||n(193)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=o(t),u=arguments.length,l=1,c=r.f,d=a.f;u>l;)for(var h,p=s(arguments[l++]),f=c?i(p).concat(c(p)):i(p),m=f.length,g=0;m>g;)d.call(p,h=f[g++])&&(n[h]=p[h]);return n}:u},469:function(t,e,n){t.exports=n.p+"images/c899efc5aebdd405503be117034d0f5d.png"},470:function(t,e,n){t.exports=n.p+"images/ff440d3e54c46fc1553121df1a9178d6.png"},777:function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(341),o=r(a),s=n(2),u=r(s),l=n(3),c=r(l),d=n(778),h=i(d),p=n(779),f=r(p),m=n(780),g=r(m);
u.default.use(c.default);var y=!1;u.default.config.debug=y,e.default=new c.default.Store({strict:y,state:g.default,mutations:f.default,actions:h,modules:{danmu_modal:{state:{type1:!1,type2:!1,type6:!1},mutations:{"danmu_modal/toggle":function(t,e){t["type"+~~e.type]=e.status}}},mp_modal:{state:{playing:!1,progress:0,sound_now:null},actions:{"mp_modal/toggle":function(t,e){t.commit("mp_modal/toggle",e),t.commit("danmu_modal/toggle",{type:1,status:e})}},mutations:{"mp_modal/toggle":function(t,e){t.playing=e,e&&t.sound_now?document.title="▶ "+t.sound_now.name+TITLE_SUFFIX:document.title=TITLE_BASE},"mp_modal/load":function(t,e){t.sound_now=e},"mp_modal/progress":function(t,e){t.progress=e},"mp_modal/sound_now_set":function(t,e){t.sound_now[e.key]=e.val}}},mv_modal:{state:{playing:!1,progress:0,mv_now:null},actions:{"mv_modal/toggle":function(t,e){t.commit("mv_modal/toggle",e),t.commit("danmu_modal/toggle",{type:2,status:e})}},mutations:{"mv_modal/toggle":function(t,e){t.playing=e},"mv_modal/load":function(t,e){t.mv_now=e},"mv_modal/progress":function(t,e){t.progress=e}}},sitcom_modal:{state:{playing:!1,progress:0,sitcom_now:null},actions:{"sitcom_modal/toggle":function(t,e){t.commit("sitcom_modal/toggle",e),t.commit("danmu_modal/toggle",{type:6,status:e})}},mutations:{"sitcom_modal/toggle":function(t,e){t.playing=e},"sitcom_modal/load":function(t,e){t.sitcom_now=e},"sitcom_modal/progress":function(t,e){t.progress=e}}},login_modal:{state:{show_modal:!1},mutations:{"login_modal/toggle_show":function(t,e){void 0===e?t.show_modal=!t.show_modal:t.show_modal=e}}},tocode_modal:{state:{show:!1,type:""},mutations:{"tocode_modal/toggle_show":function(t,e){t.type=e.type,t.show=e.show}}},realname_card:{state:{show:!1},mutations:{"realname_card/toggle_show":function(t,e){t.show=e}}},realname_info:{state:{info:{}},actions:{"realname_info/init":function(t,e){vm.$http.get("api/user/get-auth").then(function(n){n=n.data,100==n.status&&(t.commit("realname_info/init",n.info),console.log("realname_info/init")),e&&e()},function(t){alert_msg("服务器错误.")})}},mutations:{"realname_info/init":function(t,e){t.info=e}}},im_service:{state:{show:!1},mutations:{"im_service/toggle_show":function(t,e){t.show=e}}},user_modal:{state:{self:{id:null}},actions:{"user_modal/init":function(t,e){vm.$http.get("api/user/info").then(function(n){n=n.data,100==n.status&&(n.info&&t.commit("user_modal/init",n.info),console.info("\\user_modal\\init %c%d","color:#f0f",n.info.id)),e&&e()},function(t){alert_msg("服务器错误.")})}},mutations:{"user_modal/init":function(t,e){t.self=e}}},photo_modal:{state:{show:!1,infos:{},index:0},actions:{"photo_modal/fetch_data":function(t,e){vm.$http.get("feed/api-info?feed_id="+e.id).then(function(n){t.commit("photo_modal/fetch_data",{index:e.index,infos:n.body.desc})},function(t){})}},mutations:{"photo_modal/close":function(t){t.show=!1,t.infos=new Object,t.index=0},"photo_modal/fetch_data":function(t,e){t.infos=e.infos,t.index=e.index,t.show=!0},"photo_modal/change_index":function(t,e){t.index=e}}},channelselect_modal:{state:{show:!1,info:{}},mutations:{"channelselect_modal/toggle_show":function(t,e){t.show=e},"channelselect_modal/get_info":function(t,e){t.show=!1,t.info=e}}},pay_modal:{state:{show:!1,pay_status:"ing",allow_channels_id:[],channel_id:null,params:{},successHandler:function(){},errorHandler:function(){},handlerObj:{}},actions:{"pay_modal/load":function(t,e){t.commit("pay_modal/reset"),setTimeout(function(){t.commit("pay_modal/set_allow_channels_id",[1,2]),t.commit("pay_modal/load",e)},100)}},mutations:{"pay_modal/set_allow_channels_id":function(t,e){t.allow_channels_id=e},"pay_modal/set_channel_id":function(t,e){t.channel_id=e},"pay_modal/set_pay_status":function(t,e){t.pay_status=e.status,t.handlerObj=e.handlerObj},"pay_modal/load":function(t,e){t.channel_id=e.default_channel_id?e.default_channel_id:2,t.params=e.params,t.successHandler=e.successHandler?e.successHandler:function(){vm.$store.commit("pay_modal/close")},t.errorHandler=e.errorHandler?e.errorHandler:function(t){vm.$store.commit("pay_modal/close")},window.PayWebIframeSuccessHandler=function(t){console.info("\\pay_modal\\son\\success call %c%s","color:#f0f",t),vm.$store.commit("pay_modal/set_pay_status",{status:"success",handlerObj:{trade_no:t}})},window.PayWebIframeErrorHandler=function(t){console.info("\\pay_modal\\son\\error call %c%s","color:#f0f",t),vm.$store.commit("pay_modal/set_pay_status",{status:"error",handlerObj:{msg:t}})},t.show=!0},"pay_modal/reset":function(t){t.pay_status="ing",t.channel_id=null,t.allow_channels_id=[],t.params={},t.successHandler=function(){},window.PayWebIframeSuccessHandler=function(t){},t.errorHandler=function(){},window.PayWebIframeErrorHandler=function(t){}},"pay_modal/close":function(t){t.show=!1}}},store_address_modal:{state:{show:{gift:!1,ticket:!1},info:{},address_id:null},mutations:{"store_address_modal/toggle_show":function(t,e){t.show[e.type]=e.bool,e.bool||(t.info={})},"store_address_modal/modify":function(t,e){t.info=(0,o.default)({},e.info),t.show[e.type]=!0},"store_address_modal/select_address":function(t,e){e?t.address_id=e:t.address_id=null}}},header_nav:{state:{nav_show_active:""},mutations:{"header_nav/changeNavshow":function(t,e){t.nav_show_active=e}}}}})},778:function(t,e){"use strict"},779:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={SOUND_NOW_SET:function(t,e){t.sound_now.id=e.id,t.sound_now.playing=e.playing},toggle:function(t,e){console.log("toggle123")}}},780:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={test_count:1}},781:function(t,e,n){var i,r;i=n(782);var a=n(785);r=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(r=i=i.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=i},782:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(783),a=i(r),o=n(201),s=i(o);e.default={data:function(){return{user_msg:"",message_list:[],picUploader:{},now_sid:1e5,io:{},temp_tip:0,firstload:!0,session_id:null,has_minimodal:!1,has_unread:!1}},computed:{self_user:function(){return this.$store.state.user_modal.self},has_show:function(){return this.$store.state.im_service.show}},directives:{preventScroll:{bind:function(t){$(t).preventScroll()}}},watch:{message_list:function(t){t&&t.length>0&&setTimeout(function(){document.getElementById("msgscroll-f").scrollTop=document.getElementById("msgscroll").scrollHeight})},self_user:function(t){t.id&&1e5!=t.id?this.session_id?this.init():this.get_session_id():3===this.io.readyState&&this.io.close()},has_show:function(t){t&&this.firstload&&this.upload_imgs(),this.firstload=!1}},created:function(){this.self_user.id&&this.get_session_id()},methods:{fetch_data:function(){var t=this;this.init(),this.message_list.push({ab_id:this.self_user.id+"-629311",send_id:629311,time:~~((new Date).getTime()/1e3),msg:{text:"请问有什么需要咨询的~"}}),setInterval(function(){1===t.io.readyState?t.io.send((0,a.default)({ver:1,op:10,seq:Number((new Date).getTime().toString().substr(4))})):t.reconnect()},18e3)},get_session_id:function(){var t=this;this.$http.get("api/user/get-session-id").then(function(e){e=e.data,100==e.status&&(t.session_id=e.session_id,t.fetch_data())},function(t){})},init:function(){var t=this;return 0===this.io.readyState?void this.check_temp_tip("正在重新连接，请稍侯","text"):(this.io=new WebSocket("wss://chat.app-echo.com:443/0x8"),this.io.onopen=function(e){t.io.send((0,a.default)({ver:1,op:50,seq:Number((new Date).getTime().toString().substr(4)),body:{token:{lg_source:10,sess_id:""+t.session_id,room_id:200}}}))},this.io.onmessage=function(e){var n=JSON.parse(e.data);n.forEach(function(e){switch(e.op){case 11:break;case 31:break;case 51:console.log("鉴权应答 err_code = %s",e.body.err_code),e.body.err_code||t.check_temp_tip("连接成功","text");break;case 60:if(10!=e.body.category||1e5!=e.body.s_id||!e.body.c)return;t.set_history_msg(t.self_user.id,e.body.s_id,e.body.s_id,e.body.c),t.has_show||(t.has_minimodal=!0),t.has_minimodal&&(t.has_unread=!0),t.ack_response(e.body.m_id);break;default:console.log(e)}})},void(this.io.onclose=function(e){t.check_temp_tip("当前连接已关闭","text")}))},send_msg:function(){var t=this;if(this.user_msg){var e={text:this.user_msg};this.post_msg(e,10,function(){t.set_history_msg(t.self_user.id,t.now_sid,t.self_user.id,e),setTimeout(function(){t.user_msg=""},0)})}},post_msg:function(t,e,n){1===this.io.readyState?(this.io.send((0,a.default)({ver:1,op:30,seq:Number((new Date).getTime().toString().substr(4)),body:{m_time:0,m_source:10,category:10,t_id:this.now_sid,c_t:e,c:t}})),n&&n()):this.reconnect()},set_history_msg:function(t,e,n,i){var r={ab_id:t+"-"+e,send_id:n,time:~~((new Date).getTime()/1e3),msg:i};this.check_temp_tip(r.time,"time"),this.message_list.push(r)},check_temp_tip:function(t,e){"time"===e?t-this.temp_tip>60&&(this.temp_tip=t,this.message_list.push({type:e,tip:t})):this.message_list.push({type:e,tip:t})},reconnect:function(){this.check_temp_tip("当前已断线，正在重新连接，请稍候","text"),this.io.readyState&&this.io.close(),this.init()},ack_response:function(t){this.io.send((0,a.default)({ver:1,op:61,seq:Number((new Date).getTime().toString().substr(4)),body:{acks:[t]}}))},upload_imgs:function(){var t=this;console.log("uploadpic init"),new s.default({pick:"#img9btn",scope:"echo-image",fileSingleSizeLimit:2,accept:[{title:"Images",extensions:"jpg,jpeg,png,gif"}]}).then(function(e){t.picUploader=e,e.on("fileQueued",function(e){t.picUploader.upload()}),e.on("uploadAccept",function(n,i){var r={image:{w:"",h:"",url:e.domain+i.key}};t.post_msg(r,70),t.set_history_msg(t.self_user.id,t.now_sid,t.self_user.id,r),t.picUploader.reset()}),e.on("uploadError",function(t){alert_msg("上传出错，刷新页面后重新尝试")})})},close_modal:function(){this.$store.commit("im_service/toggle_show",!1),this.has_minimodal=!1},close_mask:function(){this.$store.commit("im_service/toggle_show",!1),this.has_minimodal=!0},mini_btn:function(){this.has_minimodal=!0,this.$store.commit("im_service/toggle_show",!1)},open_mini_modal:function(){this.$store.commit("im_service/toggle_show",!0),this.has_minimodal=!1,this.has_unread=!1}}}},783:function(t,e,n){t.exports={default:n(784),__esModule:!0}},784:function(t,e,n){var i=n(184),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},785:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return e("div",[e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.has_show,expression:"has_show"}],staticClass:"im-service-mask",on:{click:function(e){e.target===e.currentTarget&&t.close_mask(e)}}},[e("div",{staticClass:"im-service"},[e("div",{staticClass:"title"},["echo客服",e("i",{staticClass:"small",on:{click:t.mini_btn}}),e("i",{staticClass:"close",on:{click:t.close_modal}})])," ",e("div",{directives:[{name:"preventScroll",rawName:"v-preventScroll"}],staticClass:"msg-list-wrapper",attrs:{id:"msgscroll-f"}},[e("ul",{attrs:{id:"msgscroll"}},[t._l(t.message_list,function(n,i){return e("li",{staticClass:"clearfix"},["tip"in n?[e("div",{staticClass:"time-area"},["time"===n.type?e("div",{staticClass:"info"},[t._s(t._f("fmtDate")(n.tip,"hh:mm"))]):t._e()," ","text"===n.type?e("div",{staticClass:"info"},[t._s(n.tip)]):t._e()])]:[e("div",{staticClass:"avatar-img",class:{right:n.send_id==t.self_user.id}},[e("img",{attrs:{src:n.send_id!=t.self_user.id?"http://qn-qn-echo-image-cdn.app-echo.com/FrjQzEvLO1p875IkKB56iCrywuo9":t.self_user.avatar_50}})])," ",e("section",{class:{right:n.send_id==t.self_user.id}},["text"in n.msg?[e("p",{class:{self_msg:n.send_id==t.self_user.id}},[t._s(n.msg.text)])]:t._e()," ","image"in n.msg?[e("a",{attrs:{href:n.msg.image.url,target:"_blank"}},[e("img",{staticClass:"msg-img",attrs:{src:n.msg.image.url}})])]:t._e()])]," "])})])])," ",e("div",{staticClass:"userinput"},[e("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.user_msg,expression:"user_msg",modifiers:{trim:!0}}],attrs:{placeholder:"在此输入需要咨询的问题哦"},domProps:{value:t._s(t.user_msg)},on:{keyup:function(e){t._k(e.keyCode,"enter",13)||t.send_msg(e)},input:function(e){e.target.composing||(t.user_msg=e.target.value.trim())}}})," ",e("div",{staticClass:"btn-area clearfix"},[e("div",{staticClass:"upload-area"},[e("img",{attrs:{src:n(786)}})," ",e("div",{staticClass:"upload-pic",attrs:{id:"img9btn"}})])," ",e("div",{staticClass:"upload-tip"},["只能选择 < 2MB 的图片"])," ",e("div",{staticClass:"send-btn",on:{click:t.send_msg}},["发送"])])])])])])," ",t.has_minimodal?e("div",{staticClass:"mini-im-service",on:{click:t.open_mini_modal}},[e("i",{staticClass:"msg-icon",class:{new:t.has_unread}})," ",e("p",{class:{new:t.has_unread}},[t._s(t.has_unread?"你有新的未读消息":"客服聊天")])]):t._e()])},staticRenderFns:[]}},786:function(t,e,n){t.exports=n.p+"images/3256c57b2dac565abcecde482a2ad4e5.png"},787:function(t,e,n){var i,r;i=n(788);var a=n(789);r=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(r=i=i.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=i},788:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{android_download_url:"",ios_download_url:""}},computed:{show_modal:function(){return this.$store.state.tocode_modal.show},show_type:function(){return this.$store.state.tocode_modal.type}},mounted:function(){var t=this;this.$http.get("api/other/get-download-url").then(function(e){e=e.data,100==e.status&&(t.android_download_url=e.android_download_url,t.ios_download_url=e.ios_download_url)},function(t){})},methods:{close:function(){this.$store.commit("tocode_modal/toggle_show",{show:!1,type:""})}}}},789:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_modal,expression:"show_modal"}],staticClass:"download-modal-mask",on:{click:function(e){e.target===e.currentTarget&&t.close(e)}}},[e("div",{staticClass:"download-modal"},[e("h2",["温馨提示"])," ",e("i",{staticClass:"close",on:{click:t.close}})," ","event"==t.show_type?e("p",["发现精彩活动，请扫描左侧二维码"]):t._e()," ","topic"==t.show_type?e("p",["发现最新专题，请扫描左侧二维码"]):t._e()," ",t._m(0)," ",e("div",{staticClass:"btncode clearfix"},[e("div",{staticClass:"code-area"},["event"==t.show_type?e("img",{staticClass:"code",attrs:{src:"http://qn-qn-echo-image-cdn.app-echo.com/FpLPdJPkeNJwjrGLafFKrsiG-INs"}}):t._e()," "," ","topic"==t.show_type?e("img",{staticClass:"code",attrs:{src:"http://qn-qn-echo-image-cdn.app-echo.com/FkhiJa3Hm5r2OZZumEjVRxrmLXUh"}}):t._e()," "," ",e("span",{domProps:{textContent:t._s("topic"==t.show_type?"扫描二维码进入专题页":"扫描二维码进入活动页")}})])," ",e("div",{staticClass:"btn"},[e("a",{staticClass:"ios",attrs:{href:t.ios_download_url,target:"**download**"}},["ios"])," ",e("a",{staticClass:"android",attrs:{href:t.android_download_url}},["android"])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement;t._self._c||e;return e("p",{staticClass:"logo"},["下载",e("img",{attrs:{src:"http://qn-qn-echo-image-cdn.app-echo.com/FgCKx-Qp7CZArQVRKXOEvcjTqL4q"}}),"APP体验更多精彩！"])}]}},790:function(t,e,n){var i,r;n(791),i=n(793);var a=n(876);r=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(r=i=i.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-b4a70102",t.exports=i},791:function(t,e,n){var i=n(792);"string"==typeof i&&(i=[[t.id,i,""]]);n(284)(i,{});i.locals&&(t.exports=i.locals)},792:function(t,e,n){e=t.exports=n(283)(),e.push([t.id,"\n.toast[data-v-b4a70102]{\n  background-color: rgba(0, 0, 0, 0.5);\n  position: fixed;\n  bottom: 80px;\n  left: 20px;\n  color: #fff;\n  padding: 5px 20px;\n  border-radius: 5px;\n}\n.upShow-enter-active[data-v-b4a70102], .upShow-leave-active[data-v-b4a70102] {\n  transition: all 0.5s ease;\n}\n.upShow-enter[data-v-b4a70102], .upShow-leave-active[data-v-b4a70102] {\n  transform: translate(0, 80%);\n  opacity: 0\n}\n",""])},793:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),a=i(r);n(794);var o=vm&&vm.mp;e.default={data:function(){return{net_err:!1,sound_now:null,is_vip:0,show_playlist:!1,show_looppanel:!1,limit_prevnext:!1,sound_sources:{},sound_ids:{1:null,2:null,3:null,4:null},gid:1,gid_show:1,loop:4,cookie_conf:{expires:7,path:"/"},toast_show:0,toast_msg:""}},computed:{is_vip:function(){var t=this.$store.state.user_modal.self;return t&&t.css?t.css.vip:0},self:function(){return this.$store.state.user_modal.self},SoundNow:function(){return this.$store.state.mp_modal.sound_now},playing:function(){return this.$store.state.mp_modal.playing}},watch:{gid:function(){console.info("\\mp\\watch Gid ",this.gid)},gid_show:function(){console.info("\\mp\\watch gid_show ",this.gid_show)},loop:function(){console.info("\\mp\\watch loop to ",this.loop)},sound_now:function(){var t=this;t.sound_now?(console.log("\\mp\\watch sound_now Load %d",~~t.sound_now.id),o.pause().src({src:t.sound_sources[t.sound_now.id].source}).load()):console.log("\\mp\\watch sound_now")},sound_ids:{deep:!0,handler:function(t,e){null!==e&&this.mp_list_save()}},SoundNow:{handler:function(t){t&&2!=Number(t.sound_type)&&(this.sound_now=t)},deep:!0}},mounted:function(){var t=this;t.startVideo(),t.load_list(t.gid,1),$(".mp-main .panel-center").preventScroll(),$(document).on("click",".main-app",function(){t.toggle_playlist(!1)}),$(document).on("click",".sound-info .play-btn",function(){var e=$(this).data("sid");console.info("\\mp\\main play "+e),t.playing&&t.sound_now&&t.sound_now.id==e?o.pause():t.sound_now&&t.sound_now&&t.sound_now.id==e?o.play():t.one_key_play(e)}),$(document).on("click",".js-mp-play-one",function(e){var n=$(this).attr("data-sid");if(!n)return!1;var i=$(this).data("need-login");return console.info("\\mp\\one_key_play need-login:%s %s",i,n),i&&!t.self.id?(t.do_login(),!1):void(n.indexOf(",")==-1?t.one_key_play(n):(n=n.split(","),t.one_key_plays(n)))});var e=this;$(document).on("click",".vjs-play-control",function(t){console.log(o.readyState()),0==o.readyState()&&e.sound_ids[1].length>0&&(e.toastShow("无法正确加载资源，请检查网络"),e.net_err&&(e.play(),e.net_err=!1),$(".thumb").find("img").attr("src",e.sound_now.pic_100)),1==o.readyState()&&(e.net_err&&(e.play(),e.net_err=!1),$(".thumb").find("img").attr("src",e.sound_now.pic_100)),2==o.readyState()&&(e.net_err&&(e.play(),e.net_err=!1),e.toastShow("检测到网络不通畅，播放即将暂停，请检查网络")),3==o.readyState()&&(e.net_err&&(e.play(),e.net_err=!1),e.toastShow("检测到网络不通畅，请检查网络"))})},methods:{toastShow:function(t){this.toast_show=1,this.toast_msg=t;var e=this;setTimeout(function(){e.toast_show=0},2500)},startVideo:function(){var t=this;o=(0,a.default)("js-mp-video",{controls:!1}).ready(function(){var e=this;$(".mp-control .panel-left").append(o.controlBar.playToggle.contentEl()),$(".mp-control .panel-center").append(o.controlBar.progressControl.contentEl()),$(".mp-control .panel-center").append(o.controlBar.currentTimeDisplay.contentEl()),$(".mp-control .panel-center").append(o.controlBar.durationDisplay.contentEl()),$(".mp-control .panel-volume").append(o.controlBar.volumeMenuButton.contentEl()),e.on("play",function(){t.$root.mp_mv&&t.$root.mp_mv.pause(),t.$root.mp_sitcom&&t.$root.mp_sitcom.pause(),t.$root.mp_shortvideo&&t.$root.mp_shortvideo.pause()}).on("ended",function(){switch(t.loop){case 2:return;case 3:return void o.play();default:t.next()}}).on("timeupdate",function(){if("SoundInfo"===t.$route.name&&t.sound_now&&2!=Number(t.sound_now.sound_type)){var n=~~e.currentTime();t.$store.commit("mp_modal/progress",n)}}).on(["play","pause","ended"],function(){console.log("this.sound_now.id: ",t.sound_now.id),t.sound_now&&2!=Number(t.sound_now.sound_type)&&t.$store.dispatch("mp_modal/toggle",!e.paused())}).on("error",function(e){t.net_err=!0,t.toastShow("网络连接异常"),console.log("网络连接异常"),o.pause(),console.log(e),$("#js-mp-video").attr("src",t.sound_now.source)})}),this.$root.mp=o},one_key_play:function(t){var e=this;t in this.sound_sources?(this.sound_ids[1].indexOf(t)==-1&&this.sound_ids[1].unshift(t),this.playing&&this.sound_now&&this.sound_now.id==t?o.pause():this.play(t,1)):$.when(this.load_source([t])).done(function(){e.sound_ids[1].indexOf(t)==-1&&e.sound_ids[1].unshift(t),e.playing&&e.sound_now&&e.sound_now.id==t?o.pause():e.play(t,1)})},one_key_plays:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];for(var i in e)e[i]in this.sound_sources||n.push(e[i]);1==$(this).data("random")&&(e=e.sort(function(){return Math.random()-.5})),$.when(this.load_source(n)).then(function(){t.sound_ids[1]=e,t.play(e[0],1)})},mp_list_save:function(){$.cookie("MP_LIST",this.sound_ids[1].join(),this.cookie_conf)},mp_list_clear:function(){this.sound_ids[1]=[],1==this.gid&&o.pause()},toggle_looppanel:function(){this.show_looppanel=!this.show_looppanel},toggle_playlist:function(t){"boolean"==typeof t?this.show_playlist=t:this.show_playlist=!this.show_playlist},change_loop:function(t){this.loop=~~t.target.getAttribute("data-num")},change_playlist:function(t){var e=~~t.target.getAttribute("data-type");this.gid_show=e,this.sound_ids[e]&&0!=this.sound_ids[e].length||this.load_list(e)},sound_like:function(t){var e=this,n=~~t;return 0==n?(alert_msg("您没播放歌曲！"),!1):this.self.id?void(this.sound_sources[n].is_like&&!confirm("确认要将这首歌曲\n从“我喜欢的”列表移除？")||this.$http.post("sound/api-like",{id:n}).then(function(t){if(t=t.data,100==t.status){if(e.sound_now&&e.sound_now.id!=n?e.sound_sources[n].is_like=~~t.ret:e.$store.commit("mp_modal/sound_now_set",{key:"is_like",val:~~t.ret}),e.sound_now&&n==e.sound_now.id&&2==e.gid&&e.next(),0==t.ret&&e.sound_ids[2]){var i=e.sound_ids[2].indexOf(n);e.sound_ids[2].splice(i,1)}}else alert_msg(t.desc)},function(t){})):(this.do_login(),!1)},sound_unlike:function(t){var e=this,n=~~t;return 0==n?(alert_msg("您没播放歌曲！"),!1):this.self.id?void this.$http.post("sound/api-unlike",{type:~~!this.sound_sources[n].is_unlike,id:n}).then(function(t){if(t=t.data,100==t.status){if(alert_msg("echo将记住你的喜好，\n不再播放这首歌曲。"),e.sound_now&&e.sound_now.id!=n?e.sound_sources[n].is_unlike=~~t.ret:e.$store.commit("mp_modal/sound_now_set",{key:"is_unlike",val:~~t.ret}),e.sound_now&&n==e.sound_now.id&&e.next(),1==t.ret&&e.sound_ids[e.gid]){var i=e.sound_ids[e.gid].indexOf(~~n);e.sound_ids[e.gid].splice(i,1)}}else alert_msg(t.desc)},function(t){}):(this.do_login(),!1)},sound_remove:function(t){var e=this.sound_ids[1].indexOf(~~t);this.sound_ids[1].splice(e,1)},sound_offline_remove:function(t){var e=this,n=~~t;confirm("确认要将这首歌曲\n从“我的离线”列表删除？")&&this.$http.post("sound/api-offline-remove",{id:n}).then(function(t){if(t=t.data,100==t.status){var i=e.sound_ids[4].indexOf(~~n);e.sound_ids[4].splice(i,1)}else alert_msg(t.desc)},function(t){})},load_list:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.sound_ids[t]||(this.sound_ids[t]=[]),n>5||this.$http.get("sound/play-list",{params:{type:t,page:n}}).then(function(i){if(i=i.data,100==i.status){var r=0;for(var a in i.desc){r++;var o=~~i.desc[a].id;e.sound_ids[t].push(o),e.sound_sources[o]=i.desc[a]}r>=5&&e.load_list(t,++n)}e.sound_now||(e.gid=e.gid_show,e.$store.commit("mp_modal/load",e.sound_sources[e.sound_ids[t][0]]))},function(t){})},load_source:function(t){console.log("\\mp\\load_source",t.join());var e=this,n=$.Deferred();return $.ajax({type:"get",url:"/sound/api-infos",data:{ids:t.join()},dataType:"json",success:function(t){if(100==t.status){for(var i in t.desc){var r=~~t.desc[i].id;e.sound_sources[r]=t.desc[i]}n.resolve()}else n.reject()},error:function(){n.reject()}}),n.promise()},play_gid:function(){var t=this.sound_ids[this.gid_show][0];t&&this.play(t,this.gid_show)},play:function(t,e){var n=this,i=$.Deferred();return e&&(this.gid=e),this.$store.commit("mp_modal/load",this.sound_sources[t]),o.pause().src({type:"audio/mpeg",src:this.sound_now.source}).load(),setTimeout(function(){n.$store.commit("mp_modal/progress",0),o.play(),i.resolve()},200),i.promise()},prev:function(){var t=this;if(t.limit_prevnext)return void console.warn("\\mp\\prev limit_prevnext is true 正常逻辑不会到这里啊?");switch(t.limit_prevnext=!0,t.loop){case 1:var e=t.random();$.when(t.play(e)).done(function(){t.limit_prevnext=!1});break;default:for(var n in t.sound_ids[t.gid])if(t.sound_now&&t.sound_ids[t.gid][n]==t.sound_now.id){var i=0!=n?--n:t.sound_ids[t.gid].length-1,e=t.sound_ids[t.gid][i];$.when(t.play(e)).done(function(){t.limit_prevnext=!1});break}}},next:function(){var t=this;if(t.limit_prevnext)return void console.warn("\\mp\\next limit_prevnext is true 正常逻辑不会到这里啊?");switch(t.limit_prevnext=!0,t.loop){case 1:var e=t.random();$.when(t.play(e)).done(function(){t.limit_prevnext=!1});break;default:for(var n in t.sound_ids[t.gid])if(t.sound_now&&t.sound_ids[t.gid][n]==t.sound_now.id){var i=n!=t.sound_ids[t.gid].length-1?++n:0,e=t.sound_ids[t.gid][i];$.when(t.play(e)).done(function(){t.limit_prevnext=!1});break}}},random:function(){var t,e,n=this;do t=Math.floor(Math.random()*this.sound_ids[this.gid].length),e=this.sound_ids[this.gid][t];while(n.sound_now&&this.sound_now.id==e&&this.sound_ids[this.gid].length>1);return e},do_login:function(){this.show_playlist=!1,"UserLogin"==this.$route.name?alert_msg("请先登录"):this.$store.commit("login_modal/toggle_show"),this.gid_show=1}}}},794:function(t,e,n){/**
	 * @file videojs-contrib-hls.js
	 *
	 * The main file for the HLS project.
	 * License: https://github.com/videojs/videojs-contrib-hls/blob/master/LICENSE
	 */
"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(795),l=i(u),c=n(797),d=i(c),h=n(811),p=i(h),f=n(812),m=i(f),g=n(813),y=n(821),v=i(y),_=n(822),b=n(806),T=i(b),w=n(800),k=i(w),S=n(856),C=n(859),E=i(C),O=n(873),A=i(O),x=n(86),P=i(x),L=n(874),I=i(L),M=n(875),D=i(M),R=n(862),j={PlaylistLoader:d.default,Playlist:p.default,Decrypter:g.Decrypter,AsyncStream:g.AsyncStream,decrypt:g.decrypt,utils:v.default,STANDARD_PLAYLIST_SELECTOR:R.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:R.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:R.comparePlaylistBandwidth,comparePlaylistResolution:R.comparePlaylistResolution,xhr:(0,m.default)()},B=4194304;["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(j,t,{get:function(){return k.default.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),E.default[t]},set:function(e){return k.default.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?void k.default.log.warn("value of Hls."+t+" must be greater than or equal to 0"):void(E.default[t]=e)}})});var N=function(t,e){for(var n=e.media(),i=-1,r=0;r<t.length;r++)if(t[r].id===n.uri){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})},U=function(t,e){e.representations().forEach(function(e){t.addQualityLevel(e)}),N(t,e.playlists)};j.canPlaySource=function(){return k.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},j.supportsNativeHls=function(){var t=l.default.createElement("video");if(!k.default.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),j.isSupported=function(){return k.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var F=k.default.getComponent("Component"),H=function(t){function e(t,n,i){var a=this;if(r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,n,i.hls),n.options_&&n.options_.playerId){var o=(0,k.default)(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return k.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),a}})}if(this.tech_=n,this.source_=t,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(l.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(t){var e=l.default.fullscreenElement||l.default.webkitFullscreenElement||l.default.mozFullScreenElement||l.default.msFullscreenElement;e&&e.contains(a.tech_.el())&&a.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){return this.ignoreNextSeekingEvent_?void(this.ignoreNextSeekingEvent_=!1):void this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return a(e,t),o(e,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=B),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===B,["withCredentials","bandwidth","handleManifestRedirects"].forEach(function(e){"undefined"!=typeof t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(t){var e=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=j,this.masterPlaylistController_=new S.MasterPlaylistController(this.options_),this.playbackWatcher_=new I.default(k.default.mergeOptions(this.options_,{seekable:function(){return e.seekable()}})),this.masterPlaylistController_.on("error",function(){var t=k.default.players[e.tech_.options_.playerId];t.error(e.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):j.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=j.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;e=this.throughput>0?1/this.throughput:0;var n=Math.floor(1/(t+e));return n},set:function(){k.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return e.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return e.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return e.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return e.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return e.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return e.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return e.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return e.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,A.default)(e)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return e.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(k.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=k.default.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){U(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){N(t.qualityLevels_,t.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),s(Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}}]),e}(F),q=function t(e){return{canHandleSource:function(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=k.default.mergeOptions(k.default.options,i);return(!r.hls||!r.hls.mode||r.hls.mode===e)&&t.canPlayType(n.type,r)},handleSource:function(t,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=k.default.mergeOptions(k.default.options,i,{hls:{mode:e}});return"flash"===e&&n.setTimeout(function(){n.trigger("loadstart")},1),n.hls=new H(t,n,r),n.hls.xhr=(0,m.default)(),n.hls.src(t.src),n.hls},canPlayType:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=k.default.mergeOptions(k.default.options,n);return t.canPlayType(e,i)?"maybe":""}}};q.canPlayType=function(t,e){if(k.default.browser.IE_VERSION&&k.default.browser.IE_VERSION<=10)return!1;var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!(!e.hls.overrideNative&&j.supportsNativeHls)&&n.test(t)},"undefined"!=typeof k.default.MediaSource&&"undefined"!=typeof k.default.URL||(k.default.MediaSource=_.MediaSource,k.default.URL=_.URL);var V=k.default.getTech("Flash");_.MediaSource.supportsNativeMediaSources()&&k.default.getTech("Html5").registerSourceHandler(q("html5"),0),P.default.Uint8Array&&V&&V.registerSourceHandler(q("flash")),k.default.HlsHandler=H,k.default.HlsSourceHandler=q,k.default.Hls=j,k.default.use||k.default.registerComponent("Hls",j),k.default.m3u8=T.default,k.default.options.hls=k.default.options.hls||{},k.default.registerPlugin?k.default.registerPlugin("reloadSourceOnError",D.default):k.default.plugin("reloadSourceOnError",D.default),t.exports={Hls:j,HlsHandler:H,HlsSourceHandler:q}},795:function(t,e,n){(function(e){var i,r="undefined"!=typeof e?e:"undefined"!=typeof window?window:{},a=n(796);"undefined"!=typeof document?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=a)),t.exports=i}).call(e,function(){return this}())},796:function(t,e){},797:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(798),l=i(u),c=n(800),d=n(806),h=i(d),p=n(86),f=i(p),m=function(t,e,n){var i=e.slice();n=n||0;for(var r=Math.min(t.length,e.length+n),a=n;a<r;a++)i[a-n]=(0,c.mergeOptions)(t[a],i[a-n]);return i};e.updateSegments=m;var g=function(t,e){t.resolvedUri||(t.resolvedUri=(0,l.default)(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=(0,l.default)(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=(0,l.default)(e,t.map.uri))};e.resolveSegmentUris=g;var y=function(t,e){var n=(0,c.mergeOptions)(t,{}),i=n.playlists.filter(function(t){return t.uri===e.uri})[0];if(!i)return null;if(i.segments&&e.segments&&i.segments.length===e.segments.length&&i.mediaSequence===e.mediaSequence)return null;var r=(0,c.mergeOptions)(i,e);i.segments&&(r.segments=m(i.segments,e.segments,e.mediaSequence-i.mediaSequence)),r.segments.forEach(function(t){g(t,r.resolvedUri)});for(var a=0;a<n.playlists.length;a++)n.playlists[a].uri===e.uri&&(n.playlists[a]=r);return n.playlists[e.uri]=r,n};e.updateMaster=y;var v=function(t){for(var e=t.playlists.length;e--;){var n=t.playlists[e];t.playlists[n.uri]=n,n.resolvedUri=(0,l.default)(t.uri,n.uri),n.attributes||(n.attributes={},c.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};e.setupMediaPlaylists=v;var _=function(t){["AUDIO","SUBTITLES"].forEach(function(e){for(var n in t.mediaGroups[e])for(var i in t.mediaGroups[e][n]){var r=t.mediaGroups[e][n][i];r.uri&&(r.resolvedUri=(0,l.default)(t.uri,r.uri))}})};e.resolveMediaGroupUris=_;var b=function(t,e){var n=t.segments[t.segments.length-1],i=void 0;return i=e&&n&&n.duration?1e3*n.duration:500*(t.targetDuration||10)};e.refreshDelay=b;var T=function(t){function e(t,n,i){var a=this;if(r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),i=i||{},this.srcUrl=t,this.hls_=n,this.withCredentials=!!i.withCredentials,this.handleManifestRedirects=!!i.handleManifestRedirects,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===a.state&&(a.state="HAVE_CURRENT_METADATA",a.request=a.hls_.xhr({uri:(0,l.default)(a.master.uri,a.media().uri),withCredentials:a.withCredentials},function(t,e){if(a.request)return t?a.playlistRequestError(a.request,a.media().uri,"HAVE_METADATA"):void a.haveMetadata(a.request,a.media().uri)}))})}return a(e,t),o(e,[{key:"playlistRequestError",value:function(t,e,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var n=this;this.request=null,this.state="HAVE_METADATA";var i=new h.default.Parser;i.push(t.responseText),i.end(),i.manifest.uri=e,i.manifest.attributes=i.manifest.attributes||{};var r=y(this.master,i.manifest);this.targetDuration=i.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[i.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(f.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=f.default.setTimeout(function(){n.trigger("mediaupdatetimeout")},b(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),f.default.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var i=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(i){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(i,r){if(e.request){if(t.resolvedUri=e.resolveManifestRedirect(t.resolvedUri,r),i)return e.playlistRequestError(e.request,t.uri,n);e.haveMetadata(r,t.uri),"HAVE_MASTER"===n?e.trigger("loadedmetadata"):e.trigger("mediachange")}})}}},{key:"resolveManifestRedirect",value:function(t,e){return this.handleManifestRedirects&&e.responseURL&&t!==e.responseURL?e.responseURL:t}},{key:"pause",value:function(){this.stopRequest(),f.default.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;f.default.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var i=n?n.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=f.default.setTimeout(function(){return e.load()},i))}return this.started?void(n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")):void this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,n){if(t.request){if(t.request=null,e)return t.error={status:n.status,message:"HLS playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var i=new h.default.Parser;return i.push(n.responseText),i.end(),t.state="HAVE_MASTER",t.srcUrl=t.resolveManifestRedirect(t.srcUrl,n),i.manifest.uri=t.srcUrl,i.manifest.playlists?(t.master=i.manifest,v(t.master),_(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(i.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:f.default.location.href,playlists:[{uri:t.srcUrl,resolvedUri:t.srcUrl,attributes:{}}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.haveMetadata(n,t.srcUrl),t.trigger("loadedmetadata"))}})}}]),e}(c.EventTarget);e.default=T},798:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(799),a=i(r),o=n(86),s=i(o),u=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=a.default.buildAbsoluteURL(s.default.location.href,t)),a.default.buildAbsoluteURL(t,e))};e.default=u,t.exports=e.default},799:function(t,e,n){!function(e){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),e=e.trim(),!e){if(!n.alwaysNormalize)return t;var r=o.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):e;var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=i.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(l.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;l.path=o.normalizePath(d)}else l.path=s.path,a.params||(l.params=s.params,a.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(l)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=o}(this)},800:function(t,e,n){/**
	 * @license
	 * Video.js 6.12.1 <http://videojs.com/>
	 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
	 * Available under Apache License Version 2.0
	 * <https://github.com/videojs/video.js/blob/master/LICENSE>
	 *
	 * Includes vtt.js <https://github.com/mozilla/vtt.js>
	 * Available under Apache License Version 2.0
	 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
	 */
function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function r(t,e){fe(t).forEach(function(n){return e(t[n],n)})}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return fe(t).reduce(function(n,i){return e(n,t[i],i)},n)}function o(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[t].concat(n)):(n.forEach(function(e){e&&r(e,function(e,n){t[n]=e})}),t)}function s(t){return!!t&&"object"===("undefined"==typeof t?"undefined":ue(t))}function u(t){return s(t)&&"[object Object]"===pe.call(t)&&t.constructor===Object}function l(t,e){if(!t||!e)return"";if("function"==typeof It.getComputedStyle){var n=It.getComputedStyle(t);return n?n[e]:""}return t.currentStyle[e]||""}function c(t){return"string"==typeof t&&/\S/.test(t)}function d(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function h(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function p(){return Mt===It.document&&"undefined"!=typeof Mt.createElement}function f(t){return s(t)&&1===t.nodeType}function m(){try{return It.parent!==It.self}catch(t){return!0}}function g(t){return function(e,n){if(!c(e))return Mt[t](null);c(n)&&(n=Mt.querySelector(n));var i=f(n)?n:Mt;return i[t]&&i[t](e)}}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],r=Mt.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];t.indexOf("aria-")!==-1||"role"===t||"type"===t?(_e.warn(Dt(be,t,n)),r.setAttribute(t,n)):"textContent"===t?v(r,n):r[t]=n}),Object.getOwnPropertyNames(n).forEach(function(t){r.setAttribute(t,n[t])}),i&&B(r,i),r}function v(t,e){return"undefined"==typeof t.textContent?t.innerText=e:t.textContent=e,t}function _(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function b(t,e){return d(e),t.classList?t.classList.contains(e):h(e).test(t.className)}function T(t,e){return t.classList?t.classList.add(e):b(t,e)||(t.className=(t.className+" "+e).trim()),t}function w(t,e){return t.classList?t.classList.remove(e):(d(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function k(t,e,n){var i=b(t,e);if("function"==typeof n&&(n=n(t,e)),"boolean"!=typeof n&&(n=!i),n!==i)return n?T(t,e):w(t,e),t}function S(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var i=e[n];null===i||"undefined"==typeof i||i===!1?t.removeAttribute(n):t.setAttribute(n,i===!0?"":i)})}function C(t){var e={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var i=t.attributes,r=i.length-1;r>=0;r--){var a=i[r].name,o=i[r].value;"boolean"!=typeof t[a]&&n.indexOf(","+a+",")===-1||(o=null!==o),e[a]=o}return e}function E(t,e){return t.getAttribute(e)}function O(t,e,n){t.setAttribute(e,n)}function A(t,e){t.removeAttribute(e)}function x(){Mt.body.focus(),Mt.onselectstart=function(){return!1}}function P(){Mt.onselectstart=function(){return!0}}function L(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),n.height||(n.height=parseFloat(l(t,"height"))),n.width||(n.width=parseFloat(l(t,"width"))),n}}function I(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=Mt.documentElement,i=Mt.body,r=n.clientLeft||i.clientLeft||0,a=It.pageXOffset||i.scrollLeft,o=e.left+a-r,s=n.clientTop||i.clientTop||0,u=It.pageYOffset||i.scrollTop,l=e.top+u-s;return{left:Math.round(o),top:Math.round(l)}}function M(t,e){var n={},i=I(t),r=t.offsetWidth,a=t.offsetHeight,o=i.top,s=i.left,u=e.pageY,l=e.pageX;return e.changedTouches&&(l=e.changedTouches[0].pageX,u=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-u+a)/a)),n.x=Math.max(0,Math.min(1,(l-s)/r)),n}function D(t){return s(t)&&3===t.nodeType}function R(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function j(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),f(t)||D(t)?t:"string"==typeof t&&/\S/.test(t)?Mt.createTextNode(t):void 0}).filter(function(t){return t})}function B(t,e){return j(e).forEach(function(e){return t.appendChild(e)}),t}function N(t,e){return B(R(t),e)}function U(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||(9===ne||0===t.button&&1===t.buttons))}function F(){return Se++}function H(t){var e=t[Ee];return e||(e=t[Ee]=F()),Ce[e]||(Ce[e]={}),Ce[e]}function q(t){var e=t[Ee];return!!e&&!!Object.getOwnPropertyNames(Ce[e]).length}function V(t){var e=t[Ee];if(e){delete Ce[e];try{delete t[Ee]}catch(e){t.removeAttribute?t.removeAttribute(Ee):t[Ee]=null}}}function G(t,e){var n=H(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&V(t)}function W(t,e,n,i){n.forEach(function(n){t(e,n,i)})}function z(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var i=t||It.event;t={};for(var r in i)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&i.preventDefault||(t[r]=i[r]));if(t.target||(t.target=t.srcElement||Mt),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!==t.clientX&&void 0!==t.clientX){var a=Mt.documentElement,o=Mt.body;t.pageX=t.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}function $(t,e,n){if(Array.isArray(e))return W($,t,e,n);var i=H(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=F()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(e,n){if(!i.disabled){e=z(e);var r=i.handlers[e.type];if(r)for(var a=r.slice(0),o=0,s=a.length;o<s&&!e.isImmediatePropagationStopped();o++)try{a[o].call(t,e,n)}catch(t){_e.error(t)}}}),1===i.handlers[e].length)if(t.addEventListener){var r=!1;Oe&&Ae.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function X(t,e,n){if(q(t)){var i=H(t);if(i.handlers){if(Array.isArray(e))return W(X,t,e,n);var r=function(t,e){i.handlers[e]=[],G(t,e)};if(void 0!==e){var a=i.handlers[e];if(a){if(!n)return void r(t,e);if(n.guid)for(var o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);G(t,e)}}else for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&r(t,s)}}}function Y(t,e,n){var i=q(t)?H(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=z(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)Y.call(null,r,e,n);else if(!r&&!e.defaultPrevented){var a=H(e.target);e.target[e.type]&&(a.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function K(t,e,n){if(Array.isArray(e))return W(K,t,e,n);var i=function i(){X(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||F(),$(t,e,i)}function Q(t,e){e&&(Le=e),It.setTimeout(Ie,t)}function J(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=y("span",{className:"vjs-event-bus"});return o(t,ze),t.on("dispose",function(){t.off(),It.setTimeout(function(){t.eventBusEl_=null},0)}),t}function Z(t,e){return o(t,$e),t.state=o({},t.state,e),"function"==typeof t.handleStateChanged&&Ue(t)&&t.on("statechanged",t.handleStateChanged),t}function tt(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function et(t,e){return tt(t)===tt(e)}function nt(){for(var t={},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){e&&r(e,function(e,n){return u(e)?(u(t[n])||(t[n]={}),void(t[n]=nt(t[n],e))):void(t[n]=e)})}),t}function it(t,e,n){if("number"!=typeof e||e<0||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+n+").")}function rt(t,e,n,i){return it(t,i,n.length-1),n[i][e]}function at(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:rt.bind(null,"start",0,t),end:rt.bind(null,"end",1,t)}}function ot(t,e){return Array.isArray(t)?at(t):void 0===t||void 0===e?at():at([[t,e]])}function st(t,e){var n=0,i=void 0,r=void 0;if(!e)return 0;t&&t.length||(t=ot(0,0));for(var a=0;a<t.length;a++)i=t.start(a),r=t.end(a),r>e&&(r=e),n+=r-i;return n/e}function ut(t){return t instanceof ut?t:("number"==typeof t?this.code=t:"string"==typeof t?this.message=t:s(t)&&("number"==typeof t.code&&(this.code=t.code),o(this,t)),void(this.message||(this.message=ut.defaultMessages[this.code]||"")))}function lt(t){return void 0!==t&&null!==t&&"function"==typeof t.then}function ct(t){lt(t)&&t.then(null,function(t){})}function dt(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;var o=new Hn.text.TrackClass(r);return a.addTrack(o),o}function ht(t,e){Vn[t]=Vn[t]||[],Vn[t].push(e)}function pt(t,e,n){t.setTimeout(function(){return wt(e,Vn[e.type],n,t)},1)}function ft(t,e){t.forEach(function(t){return t.setTech&&t.setTech(e)})}function mt(t,e,n){return t.reduceRight(vt(n),e[n]())}function gt(t,e,n,i){return e[n](t.reduce(vt(n),i))}function yt(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="call"+tt(n),a=t.reduce(vt(r),i),o=a===Wn,s=o?null:e[n](a);return _t(t,n,s,o),s}function vt(t){return function(e,n){return e===Wn?Wn:n[t]?n[t](e):e}}function _t(t,e,n,i){for(var r=t.length-1;r>=0;r--){var a=t[r];a[e]&&a[e](i,n)}}function bt(t){Gn[t.id()]=null}function Tt(t,e){var n=Gn[t.id()],i=null;if(void 0===n||null===n)return i=e(t),Gn[t.id()]=[[e,i]],i;for(var r=0;r<n.length;r++){var a=n[r],o=a[0],s=a[1];o===e&&(i=s)}return null===i&&(i=e(t),n.push([e,i])),i}function wt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],i=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=e[0],u=e.slice(1);if("string"==typeof s)wt(t,Vn[s],n,i,r,a);else if(s){var l=Tt(i,s);if(!l.setSource)return r.push(l),wt(t,u,n,i,r,a);l.setSource(o({},t),function(e,o){return e?wt(t,u,n,i,r,a):(r.push(l),void wt(o,t.type===o.type?u:Vn[o.type],n,i,r,a))})}else u.length?wt(t,u,n,i,r,a):a?n(t,r):wt(t,Vn["*"],n,i,r,!0)}function kt(t){var e=Kn(t.src);return!t.type&&e&&(t.type=e),t}function St(t,e){var n=void 0;if(4===t.length)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");n=t.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Ct(t,e,n){try{t.style[e]=n}catch(t){return}}function Et(t){hi=t}function Ot(){hi=di}function At(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function xt(t,e){var n=t.options[t.options.selectedIndex].value;return At(n,e)}function Pt(t,e,n){if(e)for(var i=0;i<t.options.length;i++)if(At(t.options[i].value,n)===e){t.selectedIndex=i;break}}function Lt(t,e,n){var i=Lt.getPlayer(t);if(i)return e&&_e.warn('Player "'+t+'" is already initialised. Options will not be applied.'),n&&i.ready(n),i;var r="string"==typeof t?Te("#"+Jr(t)):t;if(!f(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");Mt.body.contains(r)||_e.warn("The element supplied is not included in the DOM"),e=e||{},Lt.hooks("beforesetup").forEach(function(t){var n=t(r,nt(e));return!s(n)||Array.isArray(n)?void _e.error("please return an object in beforesetup hooks"):void(e=nt(e,n))});var a=Xe.getComponent("Player");return i=new a(r,e,n),Lt.hooks("setup").forEach(function(t){return t(i)}),i}var It=i(n(86)),Mt=i(n(795)),Dt=i(n(16)),Rt=i(n(75)),jt=i(n(801)),Bt=i(n(802)),Nt="6.12.1",Ut=It.navigator&&It.navigator.userAgent||"",Ft=/AppleWebKit\/([\d.]+)/i.exec(Ut),Ht=Ft?parseFloat(Ft.pop()):null,qt=/iPad/i.test(Ut),Vt=/iPhone/i.test(Ut)&&!qt,Gt=/iPod/i.test(Ut),Wt=Vt||qt||Gt,zt=function(){var t=Ut.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),$t=/Android/i.test(Ut),Xt=function(){var t=Ut.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return e&&n?parseFloat(t[1]+"."+t[2]):e?e:null}(),Yt=$t&&/webkit/i.test(Ut)&&Xt<2.3,Kt=$t&&Xt<5&&Ht<537,Qt=/Firefox/i.test(Ut),Jt=/Edge/i.test(Ut),Zt=!Jt&&(/Chrome/i.test(Ut)||/CriOS/i.test(Ut)),te=function(){var t=Ut.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),ee=/MSIE\s8\.0/.test(Ut),ne=function(){var t=/MSIE\s(\d+)\.\d/.exec(Ut),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Ut)&&/rv:11.0/.test(Ut)&&(e=11),e}(),ie=/Safari/i.test(Ut)&&!Zt&&!$t&&!Jt,re=(ie||Wt)&&!Zt,ae=p()&&("ontouchstart"in It||It.navigator.maxTouchPoints||It.DocumentTouch&&It.document instanceof It.DocumentTouch),oe=p()&&"backgroundSize"in It.document.createElement("video").style,se=(Object.freeze||Object)({IS_IPAD:qt,IS_IPHONE:Vt,IS_IPOD:Gt,IS_IOS:Wt,IOS_VERSION:zt,IS_ANDROID:$t,ANDROID_VERSION:Xt,IS_OLD_ANDROID:Yt,IS_NATIVE_ANDROID:Kt,IS_FIREFOX:Qt,IS_EDGE:Jt,IS_CHROME:Zt,CHROME_VERSION:te,IS_IE8:ee,IE_VERSION:ne,IS_SAFARI:ie,IS_ANY_SAFARI:re,TOUCH_ENABLED:ae,BACKGROUND_SIZE_SUPPORTED:oe}),ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ce=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},de=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},he=function(t,e){return t.raw=e,t},pe=Object.prototype.toString,fe=function(t){return s(t)?Object.keys(t):[]},me=void 0,ge="info",ye=[],ve=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!ne&&ne<11,i=me.levels[ge],r=new RegExp("^("+i+")$");if("log"!==t&&e.unshift(t.toUpperCase()+":"),ye&&ye.push([].concat(e)),e.unshift("VIDEOJS:"),It.console){var a=It.console[t];a||"debug"!==t||(a=It.console.info||It.console.log),a&&i&&r.test(t)&&(n&&(e=e.map(function(t){if(s(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}).join(" ")),a.apply?a[Array.isArray(e)?"apply":"call"](It.console,e):a(e))}};me=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];ve("log",e)},me.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:ge},me.level=function(t){if("string"==typeof t){if(!me.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');ge=t}return ge},me.history=function(){return ye?[].concat(ye):[]},me.history.clear=function(){ye&&(ye.length=0)},me.history.disable=function(){null!==ye&&(ye.length=0,ye=null)},me.history.enable=function(){null===ye&&(ye=[])},me.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return ve("error",e)},me.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return ve("warn",e)},me.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return ve("debug",e)};var _e=me,be=he(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),Te=g("querySelector"),we=g("querySelectorAll"),ke=(Object.freeze||Object)({isReal:p,isEl:f,isInFrame:m,createEl:y,textContent:v,prependTo:_,hasClass:b,addClass:T,removeClass:w,toggleClass:k,setAttributes:S,getAttributes:C,getAttribute:E,setAttribute:O,removeAttribute:A,blockTextSelection:x,unblockTextSelection:P,getBoundingClientRect:L,findPosition:I,getPointerPosition:M,isTextNode:D,emptyEl:R,normalizeContent:j,appendContent:B,insertContent:N,isSingleLeftClick:U,$:Te,$$:we}),Se=1,Ce={},Ee="vdata"+(new Date).getTime(),Oe=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){Oe=!0}});It.addEventListener("test",null,t),It.removeEventListener("test",null,t)}catch(t){}}();var Ae=["touchstart","touchmove"],xe=(Object.freeze||Object)({fixEvent:z,on:$,off:X,trigger:Y,one:K}),Pe=!1,Le=void 0,Ie=function(){if(p()&&Le.options.autoSetup!==!1){var t=Mt.getElementsByTagName("video"),e=Mt.getElementsByTagName("audio"),n=Mt.getElementsByTagName("video-js"),i=[];if(t&&t.length>0)for(var r=0,a=t.length;r<a;r++)i.push(t[r]);if(e&&e.length>0)for(var o=0,s=e.length;o<s;o++)i.push(e[o]);if(n&&n.length>0)for(var u=0,l=n.length;u<l;u++)i.push(n[u]);if(i&&i.length>0)for(var c=0,d=i.length;c<d;c++){var h=i[c];if(!h||!h.getAttribute){Q(1);break}if(void 0===h.player){var f=h.getAttribute("data-setup");null!==f&&Le(h)}}else Pe||Q(1)}};p()&&"complete"===Mt.readyState?Pe=!0:K(It,"load",function(){Pe=!0});var Me=function(t){var e=Mt.createElement("style");return e.className=t,e},De=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},Re=function(t,e,n){e.guid||(e.guid=F());var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i},je=function(t,e){var n=Date.now(),i=function(){var i=Date.now();i-n>=e&&(t.apply(void 0,arguments),n=i)};return i},Be=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:It,r=void 0;return function(){var a=this,o=arguments,s=function(){r=null,s=null,n||t.apply(a,o)};!r&&n&&t.apply(a,o),i.clearTimeout(r),r=i.setTimeout(s,e)}},Ne=function(){};Ne.prototype.allowedEvents_={},Ne.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},$(this,t,e),this.addEventListener=n},Ne.prototype.addEventListener=Ne.prototype.on,Ne.prototype.off=function(t,e){X(this,t,e)},Ne.prototype.removeEventListener=Ne.prototype.off,Ne.prototype.one=function(t,e){var n=this.addEventListener;this.addEventListener=function(){},K(this,t,e),this.addEventListener=n},Ne.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=z(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Y(this,t)},Ne.prototype.dispatchEvent=Ne.prototype.trigger;var Ue=function(t){return t instanceof Ne||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},Fe=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},He=function(t){if(!t.nodeName&&!Ue(t))throw new Error("Invalid target; must be a DOM node or evented object.")},qe=function(t){if(!Fe(t))throw new Error("Invalid event type; must be a non-empty string or array.")},Ve=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},Ge=function(t,e){var n=e.length<3||e[0]===t||e[0]===t.eventBusEl_,i=void 0,r=void 0,a=void 0;return n?(i=t.eventBusEl_,e.length>=3&&e.shift(),r=e[0],a=e[1]):(i=e[0],r=e[1],a=e[2]),He(i),qe(r),Ve(a),a=Re(t,a),{isTargetingSelf:n,target:i,type:r,listener:a}},We=function(t,e,n,i){He(t),t.nodeName?xe[e](t,n,i):t[e](n,i)},ze={on:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ge(this,n),a=r.isTargetingSelf,o=r.target,s=r.type,u=r.listener;if(We(o,"on",s,u),!a){var l=function(){return t.off(o,s,u)};l.guid=u.guid;var c=function(){return t.off("dispose",l)};c.guid=u.guid,We(this,"on","dispose",l),We(o,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=Ge(this,n),a=r.isTargetingSelf,o=r.target,s=r.type,u=r.listener;if(a)We(o,"one",s,u);else{var l=function e(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];t.off(o,s,e),u.apply(null,i)};l.guid=u.guid,We(o,"one",s,l)}},off:function(t,e,n){if(!t||Fe(t))X(this.eventBusEl_,t,e);else{var i=t,r=e;He(i),qe(r),Ve(n),n=Re(this,n),this.off("dispose",n),i.nodeName?(X(i,r,n),X(i,"dispose",n)):Ue(i)&&(i.off(r,n),i.off("dispose",n))}},trigger:function(t,e){return Y(this.eventBusEl_,t,e)}},$e={state:{},setState:function(t){var e=this;"function"==typeof t&&(t=t());var n=void 0;return r(t,function(t,i){e.state[i]!==t&&(n=n||{},n[i]={from:e.state[i],to:t}),e.state[i]=t}),n&&Ue(this)&&this.trigger({changes:n,type:"statechanged"}),n}},Xe=function(){function t(e,n,i){if(le(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=nt({},this.options_),n=this.options_=nt(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+F()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.evented!==!1&&J(this,{eventBusKey:this.el_?"el_":null}),Z(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),V(this.el_),this.el_=null),this.player_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return _e.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=nt(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,n){return y(t,e,n)},t.prototype.localize=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[i],o=i&&i.split("-")[0],s=r&&r[o],u=n;return a&&a[t]?u=a[t]:s&&s[t]&&(u=s[t]),e&&(u=u.replace(/\{(\d+)\}/g,function(t,n){var i=e[n-1],r=i;return"undefined"==typeof i&&(r=t),r})),u},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){if(t)return t=tt(t),this.childNameIndex_[t]},t.prototype.addChild=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,r=void 0,a=void 0;if("string"==typeof e){a=tt(e);var o=n.componentClass||a;n.name=a;var s=t.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,n)}else r=e;if(this.children_.splice(i,0,r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),a=a||r.name&&tt(r.name()),a&&(this.childNameIndex_[a]=r),"function"==typeof r.el&&r.el()){var u=this.contentEl().children,l=u[i]||null;this.contentEl().insertBefore(r.el(),l)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,n=this.options_.children;if(n){var i=this.options_,r=function(t){var n=t.name,r=t.opts;if(void 0!==i[n]&&(r=i[n]),r!==!1){r===!0&&(r={}),r.playerOptions=e.options_.playerOptions;var a=e.addChild(n,r);a&&(e[n]=a)}},a=void 0,o=t.getComponent("Tech");a=Array.isArray(n)?n:Object.keys(n),a.concat(Object.keys(this.options_).filter(function(t){return!a.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var i=void 0,r=void 0;return"string"==typeof t?(i=t,r=n[i]||e.options_[i]||{}):(i=t.name,r=t),{name:i,opts:r}}).filter(function(e){var n=t.getComponent(e.opts.componentClass||tt(e.name));return n&&!o.isTech(n)}).forEach(r)}},t.prototype.buildCSSClass=function(){return""},t.prototype.ready=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,e){return Te(t,e||this.contentEl())},t.prototype.$$=function(t,e){return we(t,e||this.contentEl())},t.prototype.hasClass=function(t){return b(this.el_,t)},t.prototype.addClass=function(t){T(this.el_,t)},t.prototype.removeClass=function(t){w(this.el_,t)},t.prototype.toggleClass=function(t,e){k(this.el_,t,e)},t.prototype.show=function(){this.removeClass("vjs-hidden")},t.prototype.hide=function(){this.addClass("vjs-hidden")},t.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},t.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.prototype.getAttribute=function(t){return E(this.el_,t)},t.prototype.setAttribute=function(t,e){O(this.el_,t,e)},t.prototype.removeAttribute=function(t){A(this.el_,t)},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},t.prototype.dimension=function(t,e,n){if(void 0!==e)return null!==e&&e===e||(e=0),(""+e).indexOf("%")!==-1||(""+e).indexOf("px")!==-1?this.el_.style[t]=e:"auto"===e?this.el_.style[t]="":this.el_.style[t]=e+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var i=this.el_.style[t],r=i.indexOf("px");return r!==-1?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+tt(t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof It.getComputedStyle){var n=It.getComputedStyle(this.el_);e=n.getPropertyValue(t)||n[t]}if(e=parseFloat(e),0===e){var i="offset"+tt(t);e=this.el_[i]}return e},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var t=0,e=null,n=10,i=200,r=void 0;this.on("touchstart",function(n){1===n.touches.length&&(e={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},t=(new Date).getTime(),r=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)r=!1;else if(e){var i=t.touches[0].pageX-e.pageX,a=t.touches[0].pageY-e.pageY,o=Math.sqrt(i*i+a*a);o>n&&(r=!1)}});var a=function(){r=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(n){if(e=null,r===!0){var a=(new Date).getTime()-t;a<i&&(n.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=Re(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.prototype.setTimeout=function(t,e){var n,i,r=this;return t=Re(this,t),n=It.setTimeout(function(){r.off("dispose",i),t()},e),i=function(){return r.clearTimeout(n)},i.guid="vjs-timeout-"+n,this.on("dispose",i),n},t.prototype.clearTimeout=function(t){It.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){var n=this;t=Re(this,t);var i=It.setInterval(t,e),r=function(){return n.clearInterval(i)};return r.guid="vjs-interval-"+i,this.on("dispose",r),i},t.prototype.clearInterval=function(t){It.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.prototype.requestAnimationFrame=function(t){var e,n,i=this;return this.supportsRaf_?(t=Re(this,t),e=It.requestAnimationFrame(function(){i.off("dispose",n),t()}),n=function(){return i.cancelAnimationFrame(e)},n.guid="vjs-raf-"+e,this.on("dispose",n),e):this.setTimeout(t,1e3/60)},t.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){It.cancelAnimationFrame(t);var e=function(){};return e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},t.registerComponent=function(e,n){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var i=t.getComponent("Tech"),r=i&&i.isTech(n),a=t===n||t.prototype.isPrototypeOf(n.prototype);if(r||!a){var o=void 0;throw o=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+o+".")}e=tt(e),t.components_||(t.components_={});var s=t.getComponent("Player");if("Player"===e&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map(function(t){return u[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=n,n},t.getComponent=function(e){if(e)return e=tt(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();Xe.prototype.supportsRaf_="function"==typeof It.requestAnimationFrame&&"function"==typeof It.cancelAnimationFrame,Xe.registerComponent("Component",Xe);for(var Ye={},Ke=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Qe=Ke[0],Je=void 0,Ze=0;Ze<Ke.length;Ze++)if(Ke[Ze][1]in Mt){
Je=Ke[Ze];break}if(Je)for(var tn=0;tn<Je.length;tn++)Ye[Qe[tn]]=Je[tn];ut.prototype.code=0,ut.prototype.message="",ut.prototype.status=null,ut.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ut.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var en=0;en<ut.errorTypes.length;en++)ut[ut.errorTypes[en]]=en,ut.prototype[ut.errorTypes[en]]=en;var nn=function(t){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,n,i){return t[n]&&(e[n]=t[n]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return e},rn=function(t){var e=t.$$("track"),n=Array.prototype.map.call(e,function(t){return t.track}),i=Array.prototype.map.call(e,function(t){var e=nn(t.track);return t.src&&(e.src=t.src),e});return i.concat(Array.prototype.filter.call(t.textTracks(),function(t){return n.indexOf(t)===-1}).map(nn))},an=function(t,e){return t.forEach(function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return n.addCue(t)})}),e.textTracks()},on={textTracksToJson:rn,jsonToTextTracks:an,trackToJson_:nn},sn="vjs-modal-dialog",un=27,ln=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=y("div",{className:sn+"-content"},{role:"document"}),r.descEl_=y("p",{className:sn+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),v(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return sn+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){t.which===un&&this.closeable()&&this.close()},e.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",Re(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Re(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.prototype.closeable=function t(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},e.prototype.fill=function(){this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),n=e.parentNode,i=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(e),this.empty(),N(e,t),this.trigger("modalfill"),i?n.insertBefore(e,i):n.appendChild(e);var r=this.getChild("closeButton");r&&n.appendChild(r.el_)},e.prototype.empty=function(){this.trigger("beforemodalempty"),R(this.contentEl()),this.trigger("modalempty")},e.prototype.content=function(t){return"undefined"!=typeof t&&(this.content_=t),this.content_},e.prototype.conditionalFocus_=function(){var t=Mt.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus(),this.on(Mt,"keydown",this.handleKeyDown))},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(Mt,"keydown",this.handleKeyDown)},e.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),n=this.el_.querySelector(":focus"),i=void 0,r=0;r<e.length;r++)if(n===e[r]){i=r;break}Mt.activeElement===this.el_&&(i=0),t.shiftKey&&0===i?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||i!==e.length-1||(e[0].focus(),t.preventDefault())}},e.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof It.HTMLAnchorElement||t instanceof It.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof It.HTMLInputElement||t instanceof It.HTMLSelectElement||t instanceof It.HTMLTextAreaElement||t instanceof It.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof It.HTMLIFrameElement||t instanceof It.HTMLObjectElement||t instanceof It.HTMLEmbedElement||t.hasAttribute("tabindex")&&t.getAttribute("tabindex")!==-1||t.hasAttribute("contenteditable")})},e}(Xe);ln.prototype.options_={pauseOnOpen:!0,temporary:!0},Xe.registerComponent("ModalDialog",ln);var cn=function(t){function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;le(this,e);var a=de(this,t.call(this));if(!r&&(r=a,ee)){r=Mt.createElement("custom");for(var o in e.prototype)"constructor"!==o&&(r[o]=e.prototype[o])}r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var s=0;s<i.length;s++)r.addTrack(i[s]);return n=r,de(a,n)}return ce(e,t),e.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.prototype.removeTrack=function(t){for(var e=void 0,n=0,i=this.length;n<i;n++)if(this[n]===t){e=this[n],e.off&&e.off(),this.tracks_.splice(n,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},e}(Ne);cn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var dn in cn.prototype.allowedEvents_)cn.prototype["on"+dn]=null;var hn=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].enabled=!1)},pn=function(t){function e(){var n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];le(this,e);for(var a=void 0,o=r.length-1;o>=0;o--)if(r[o].enabled){hn(r,r[o]);break}if(ee){a=Mt.createElement("custom");for(var s in cn.prototype)"constructor"!==s&&(a[s]=cn.prototype[s]);for(var u in e.prototype)"constructor"!==u&&(a[u]=e.prototype[u])}return a=n=de(this,t.call(this,r,a)),a.changing_=!1,i=a,de(n,i)}return ce(e,t),e.prototype.addTrack=function(e){var n=this;e.enabled&&hn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,hn(n,e),n.changing_=!1,n.trigger("change"))})},e}(cn),fn=function(t,e){for(var n=0;n<t.length;n++)Object.keys(t[n]).length&&e.id!==t[n].id&&(t[n].selected=!1)},mn=function(t){function e(){var n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];le(this,e);for(var a=void 0,o=r.length-1;o>=0;o--)if(r[o].selected){fn(r,r[o]);break}if(ee){a=Mt.createElement("custom");for(var s in cn.prototype)"constructor"!==s&&(a[s]=cn.prototype[s]);for(var u in e.prototype)"constructor"!==u&&(a[u]=e.prototype[u])}return a=n=de(this,t.call(this,r,a)),a.changing_=!1,Object.defineProperty(a,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),i=a,de(n,i)}return ce(e,t),e.prototype.addTrack=function(e){var n=this;e.selected&&fn(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,fn(n,e),n.changing_=!1,n.trigger("change"))})},e}(cn),gn=function(t){function e(){var n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];le(this,e);var a=void 0;if(ee){a=Mt.createElement("custom");for(var o in cn.prototype)"constructor"!==o&&(a[o]=cn.prototype[o]);for(var s in e.prototype)"constructor"!==s&&(a[s]=e.prototype[s])}return a=n=de(this,t.call(this,r,a)),i=a,de(n,i)}return ce(e,t),e.prototype.addTrack=function(e){t.prototype.addTrack.call(this,e),e.addEventListener("modechange",Re(this,function(){this.trigger("change")}));var n=["metadata","chapters"];n.indexOf(e.kind)===-1&&e.addEventListener("modechange",Re(this,function(){this.trigger("selectedlanguagechange")}))},e}(cn),yn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];le(this,t);var n=this;if(ee){n=Mt.createElement("custom");for(var i in t.prototype)"constructor"!==i&&(n[i]=t.prototype[i])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var r=0,a=e.length;r<a;r++)n.addTrackElement_(e[r]);if(ee)return n}return t.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),this.trackElements_.indexOf(t)===-1&&this.trackElements_.push(t)},t.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n].track){e=this.trackElements_[n];break}return e},t.prototype.removeTrackElement_=function(t){for(var e=0,n=this.trackElements_.length;e<n;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}(),vn=function(){function t(e){le(this,t);var n=this;if(ee){n=Mt.createElement("custom");for(var i in t.prototype)"constructor"!==i&&(n[i]=t.prototype[i])}if(t.prototype.setCues_.call(n,e),Object.defineProperty(n,"length",{get:function(){return this.length_}}),ee)return n}return t.prototype.setCues_=function(t){var e=this.length||0,n=0,i=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<i)for(n=e;n<i;n++)r.call(this,n)},t.prototype.getCueById=function(t){for(var e=null,n=0,i=this.length;n<i;n++){var r=this[n];if(r.id===t){e=r;break}}return e},t}(),_n={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},bn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Tn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},wn={disabled:"disabled",hidden:"hidden",showing:"showing"},kn=function(t){function e(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};le(this,e);var r=de(this,t.call(this)),a=r;if(ee){a=Mt.createElement("custom");for(var o in e.prototype)"constructor"!==o&&(a[o]=e.prototype[o])}var s={id:i.id||"vjs_track_"+F(),kind:i.kind||"",label:i.label||"",language:i.language||""},u=function(t){Object.defineProperty(a,t,{get:function(){return s[t]},set:function(){}})};for(var l in s)u(l);return n=a,de(r,n)}return ce(e,t),e}(Ne),Sn=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=Mt.createElement("a");n.href=t;var i=""===n.host&&"file:"!==n.protocol,r=void 0;i&&(r=Mt.createElement("div"),r.innerHTML='<a href="'+t+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),Mt.body.appendChild(r));for(var a={},o=0;o<e.length;o++)a[e[o]]=n[e[o]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=It.location.protocol),i&&Mt.body.removeChild(r),a},Cn=function(t){if(!t.match(/^https?:\/\//)){var e=Mt.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},En=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=e.exec(t);if(n)return n.pop().toLowerCase()}return""},On=function(t){var e=It.location,n=Sn(t),i=":"===n.protocol?e.protocol:n.protocol,r=i+n.host!==e.protocol+e.host;return r},An=(Object.freeze||Object)({parseUrl:Sn,getAbsoluteURL:Cn,getFileExtension:En,isCrossOrigin:On}),xn=function(t,e){var n=new It.WebVTT.Parser(It,It.vttjs,It.WebVTT.StringDecoder()),i=[];n.oncue=function(t){e.addCue(t)},n.onparsingerror=function(t){i.push(t)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&(It.console&&It.console.groupCollapsed&&It.console.groupCollapsed("Text Track parsing errors for "+e.src),i.forEach(function(t){return _e.error(t)}),It.console&&It.console.groupEnd&&It.console.groupEnd()),n.flush()},Pn=function(t,e){var n={uri:t},i=On(t);i&&(n.cors=i),jt(n,Re(this,function(t,n,i){if(t)return _e.error(t,n);if(e.loaded_=!0,"function"!=typeof It.WebVTT){if(e.tech_){var r=function(){return xn(i,e)};e.tech_.on("vttjsloaded",r),e.tech_.on("vttjserror",function(){_e.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",r)})}}else xn(i,e)}))},Ln=function(t){function e(){var n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(le(this,e),!r.tech)throw new Error("A tech was not provided.");var a=nt(r,{kind:Tn[r.kind]||"subtitles",language:r.language||r.srclang||""}),o=wn[a.mode]||"disabled",s=a.default;"metadata"!==a.kind&&"chapters"!==a.kind||(o="hidden");var u=n=de(this,t.call(this,a));if(u.tech_=a.tech,ee)for(var l in e.prototype)"constructor"!==l&&(u[l]=e.prototype[l]);u.cues_=[],u.activeCues_=[];var c=new vn(u.cues_),d=new vn(u.activeCues_),h=!1,p=Re(u,function(){this.activeCues=this.activeCues,h&&(this.trigger("cuechange"),h=!1)});return"disabled"!==o&&u.tech_.ready(function(){u.tech_.on("timeupdate",p)},!0),Object.defineProperty(u,"default",{get:function(){return s},set:function(){}}),Object.defineProperty(u,"mode",{get:function(){return o},set:function(t){var e=this;wn[t]&&(o=t,"showing"===o&&this.tech_.ready(function(){e.tech_.on("timeupdate",p)},!0),this.trigger("modechange"))}}),Object.defineProperty(u,"cues",{get:function(){return this.loaded_?c:null},set:function(){}}),Object.defineProperty(u,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return d;for(var t=this.tech_.currentTime(),e=[],n=0,i=this.cues.length;n<i;n++){var r=this.cues[n];r.startTime<=t&&r.endTime>=t?e.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&e.push(r)}if(h=!1,e.length!==this.activeCues_.length)h=!0;else for(var a=0;a<e.length;a++)this.activeCues_.indexOf(e[a])===-1&&(h=!0);return this.activeCues_=e,d.setCues_(this.activeCues_),d},set:function(){}}),a.src?(u.src=a.src,Pn(a.src,u)):u.loaded_=!0,i=u,de(n,i)}return ce(e,t),e.prototype.addCue=function(t){var e=t;if(It.vttjs&&!(t instanceof It.vttjs.VTTCue)){e=new It.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var n in t)n in e||(e[n]=t[n]);e.id=t.id,e.originalCue_=t}for(var i=this.tech_.textTracks(),r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.prototype.removeCue=function(t){for(var e=this.cues_.length;e--;){var n=this.cues_[e];if(n===t||n.originalCue_&&n.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(kn);Ln.prototype.allowedEvents_={cuechange:"cuechange"};var In=function(t){function e(){var n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};le(this,e);var a=nt(r,{kind:bn[r.kind]||""}),o=n=de(this,t.call(this,a)),s=!1;if(ee)for(var u in e.prototype)"constructor"!==u&&(o[u]=e.prototype[u]);return Object.defineProperty(o,"enabled",{get:function(){return s},set:function(t){"boolean"==typeof t&&t!==s&&(s=t,this.trigger("enabledchange"))}}),a.enabled&&(o.enabled=a.enabled),o.loaded_=!0,i=o,de(n,i)}return ce(e,t),e}(kn),Mn=function(t){function e(){var n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};le(this,e);var a=nt(r,{kind:_n[r.kind]||""}),o=n=de(this,t.call(this,a)),s=!1;if(ee)for(var u in e.prototype)"constructor"!==u&&(o[u]=e.prototype[u]);return Object.defineProperty(o,"selected",{get:function(){return s},set:function(t){"boolean"==typeof t&&t!==s&&(s=t,this.trigger("selectedchange"))}}),a.selected&&(o.selected=a.selected),i=o,de(n,i)}return ce(e,t),e}(kn),Dn=0,Rn=1,jn=2,Bn=3,Nn=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};le(this,e);var i=de(this,t.call(this)),r=void 0,a=i;if(ee){a=Mt.createElement("custom");for(var o in e.prototype)"constructor"!==o&&(a[o]=e.prototype[o])}var s=new Ln(n);if(a.kind=s.kind,a.src=s.src,a.srclang=s.language,a.label=s.label,a.default=s.default,Object.defineProperty(a,"readyState",{get:function(){return r}}),Object.defineProperty(a,"track",{get:function(){return s}}),r=Dn,s.addEventListener("loadeddata",function(){r=jn,a.trigger({type:"load",target:a})}),ee){var u;return u=a,de(i,u)}return i}return ce(e,t),e}(Ne);Nn.prototype.allowedEvents_={load:"load"},Nn.NONE=Dn,Nn.LOADING=Rn,Nn.LOADED=jn,Nn.ERROR=Bn;var Un={audio:{ListClass:pn,TrackClass:In,capitalName:"Audio"},video:{ListClass:mn,TrackClass:Mn,capitalName:"Video"},text:{ListClass:gn,TrackClass:Ln,capitalName:"Text"}};Object.keys(Un).forEach(function(t){Un[t].getterName=t+"Tracks",Un[t].privateName=t+"Tracks_"});var Fn={remoteText:{ListClass:gn,TrackClass:Ln,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:yn,TrackClass:Nn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Hn=nt(Un,Fn);Fn.names=Object.keys(Fn),Un.names=Object.keys(Un),Hn.names=[].concat(Fn.names).concat(Un.names);var qn=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};le(this,e),n.reportTouchActivity=!1;var r=de(this,t.call(this,null,n,i));return r.hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),Hn.names.forEach(function(t){var e=Hn[t];n&&n[e.getterName]&&(r[e.privateName]=n[e.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){n["native"+t+"Tracks"]===!1&&(r["featuresNative"+t+"Tracks"]=!1)}),n.nativeCaptions===!1||n.nativeTextTracks===!1?r.featuresNativeTextTracks=!1:n.nativeCaptions!==!0&&n.nativeTextTracks!==!0||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new Hn.text.ListClass,r.initTrackListeners(),n.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}return ce(e,t),e.prototype.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},e.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Re(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},e.prototype.onDurationChange=function(t){this.duration_=this.duration()},e.prototype.buffered=function(){return ot(0,0)},e.prototype.bufferedPercent=function(){return st(this.buffered(),this.duration_)},e.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.dispose=function(){this.clearTracks(Un.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.prototype.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach(function(t){for(var n=e[t+"Tracks"]()||[],i=n.length;i--;){var r=n[i];"text"===t&&e.removeRemoteTextTrack(r),n.removeTrack(r)}})},e.prototype.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var n=t[e];this.removeRemoteTextTrack(n)}},e.prototype.reset=function(){},e.prototype.error=function(t){return void 0!==t&&(this.error_=new ut(t),this.trigger("error")),this.error_},e.prototype.played=function(){return this.hasStarted_?ot(0,0):ot()},e.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.initTrackListeners=function(){var t=this;Un.names.forEach(function(e){var n=Un[e],i=function(){t.trigger(e+"trackchange")},r=t[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),t.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)})})},e.prototype.addWebVttScript_=function(){var t=this;if(!It.WebVTT)if(Mt.body.contains(this.el())){if(!this.options_["vtt.js"]&&u(Bt)&&Object.keys(Bt).length>0)return void this.trigger("vttjsloaded");var e=Mt.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){e.onload=null,e.onerror=null}),It.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},e.prototype.emulateTextTracks=function(){var t=this,e=this.textTracks(),n=this.remoteTextTracks(),i=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();var a=function(){return t.trigger("texttrackchange")},o=function(){a();for(var t=0;t<e.length;t++){var n=e[t];n.removeEventListener("cuechange",a),"showing"===n.mode&&n.addEventListener("cuechange",a)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(var t=0;t<e.length;t++){var s=e[t];s.removeEventListener("cuechange",a)}})},e.prototype.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return dt(this,t,e,n)},e.prototype.createRemoteTextTrack=function(t){var e=nt(t,{tech:this});return new Fn.remoteTextEl.TrackClass(e)},e.prototype.addRemoteTextTrack=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i=this.createRemoteTextTrack(e);return n!==!0&&n!==!1&&(_e.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),n!==!0&&this.ready(function(){return t.autoRemoteTextTracks_.addTrack(i.track)}),i},e.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},e.prototype.getVideoPlaybackQuality=function(){return{}},e.prototype.setPoster=function(){},e.prototype.playsinline=function(){},e.prototype.setPlaysinline=function(){},e.prototype.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,n){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,n){if(e.techs_||(e.techs_={}),!e.isTech(n))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=tt(t),e.techs_[t]=n,"Tech"!==t&&e.defaultTechOrder_.push(t),n},e.getTech=function(t){if(t)return t=tt(t),e.techs_&&e.techs_[t]?e.techs_[t]:It&&It.videojs&&It.videojs[t]?(_e.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),It.videojs[t]):void 0},e}(Xe);Hn.names.forEach(function(t){var e=Hn[t];qn.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),qn.prototype.featuresVolumeControl=!0,qn.prototype.featuresMuteControl=!0,qn.prototype.featuresFullscreenResize=!1,qn.prototype.featuresPlaybackRate=!1,qn.prototype.featuresProgressEvents=!1,qn.prototype.featuresSourceset=!1,qn.prototype.featuresTimeupdateEvents=!1,qn.prototype.featuresNativeTextTracks=!1,qn.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){for(var n=t.sourceHandlers||[],i=void 0,r=0;r<n.length;r++)if(i=n[r].canPlayType(e))return i;return""},t.selectSourceHandler=function(e,n){for(var i=t.sourceHandlers||[],r=void 0,a=0;a<i.length;a++)if(r=i[a].canHandleSource(e,n))return i[a];return null},t.canPlaySource=function(e,n){var i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""};var e=["seekable","seeking","duration"];e.forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:_e.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Xe.registerComponent("Tech",qn),qn.registerTech("Tech",qn),qn.defaultTechOrder_=[];var Vn={},Gn={},Wn={},zn={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},$n={setCurrentTime:1},Xn={play:1,pause:1},Yn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Kn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=En(t),n=Yn[e.toLowerCase()];return n||""},Qn=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var n=t.cache_.sources.filter(function(t){return t.src===e});if(n.length)return n[0].type;for(var i=t.$$("source"),r=0;r<i.length;r++){var a=i[r];if(a.type&&a.src&&a.src===e)return a.type}return Kn(e)},Jn=function t(e){if(Array.isArray(e)){var n=[];e.forEach(function(e){e=t(e),Array.isArray(e)?n=n.concat(e):s(e)&&n.push(e)}),e=n}else e="string"==typeof e&&e.trim()?[kt({src:e})]:s(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[kt(e)]:[];return e},Zn=function(t){function e(n,i,r){le(this,e);var a=nt({createEl:!1},i),o=de(this,t.call(this,n,a,r));if(i.playerOptions.sources&&0!==i.playerOptions.sources.length)n.src(i.playerOptions.sources);else for(var s=0,u=i.playerOptions.techOrder;s<u.length;s++){var l=tt(u[s]),c=qn.getTech(l);if(l||(c=Xe.getComponent(l)),c&&c.isSupported()){n.loadTech_(l);break}}return o}return ce(e,t),e}(Xe);Xe.registerComponent("MediaLoader",Zn);var ti=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.emitTapEvents(),r.enable(),r}return ce(e,t),e.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=o({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===e&&_e.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),i=o({role:"button"},i),this.tabIndex_=n.tabIndex;var r=t.prototype.createEl.call(this,e,n,i);return this.createControlTextEl(r),r},e.prototype.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},e.prototype.createControlTextEl=function(t){return this.controlTextEl_=y("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var n=this.localize(t);this.controlText_=t,v(this.controlTextEl_,n),this.nonIconControl||e.setAttribute("title",n)},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},e.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),
this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},e.prototype.handleClick=function(t){},e.prototype.handleFocus=function(t){$(Mt,"keydown",Re(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e.prototype.handleBlur=function(t){X(Mt,"keydown",Re(this,this.handleKeyPress))},e}(Xe);Xe.registerComponent("ClickableComponent",ti);var ei=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.update(),n.on("posterchange",Re(r,r.update)),r}return ce(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=y("div",{className:"vjs-poster",tabIndex:-1});return oe||(this.fallbackImg_=y("img"),t.appendChild(this.fallbackImg_)),t},e.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?ct(this.player_.play()):this.player_.pause())},e}(ti);Xe.registerComponent("PosterImage",ei);var ni="#222",ii="#ccc",ri={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},ai=function(t){function e(n,i,r){le(this,e);var a=de(this,t.call(this,n,i,r));return n.on("loadstart",Re(a,a.toggleDisplay)),n.on("texttrackchange",Re(a,a.updateDisplay)),n.on("loadstart",Re(a,a.preselectTrack)),n.ready(Re(a,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",Re(this,this.updateDisplay));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()})),a}return ce(e,t),e.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,i=void 0,r=void 0,a=void 0,o=0;o<e.length;o++){var s=e[o];n&&n.enabled&&n.language===s.language?s.kind===n.kind?a=s:a||(a=s):n&&!n.enabled?(a=null,i=null,r=null):s.default&&("descriptions"!==s.kind||i?s.kind in t&&!r&&(r=s):i=s)}a?a.mode="showing":r?r.mode="showing":i&&(i.mode="showing")},e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.prototype.clearDisplay=function(){"function"==typeof It.WebVTT&&It.WebVTT.processCues(It,[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();for(var e=null,n=null,i=t.length;i--;){var r=t[i];"showing"===r.mode&&("descriptions"===r.kind?e=r:n=r)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},e.prototype.updateForTrack=function(t){if("function"==typeof It.WebVTT&&t.activeCues){for(var e=[],n=0;n<t.activeCues.length;n++)e.push(t.activeCues[n]);if(It.WebVTT.processCues(It,e,this.el_),this.player_.textTrackSettings)for(var i=this.player_.textTrackSettings.getValues(),r=e.length;r--;){var a=e[r];if(a){var o=a.displayState;if(i.color&&(o.firstChild.style.color=i.color),i.textOpacity&&Ct(o.firstChild,"color",St(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(o.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&Ct(o.firstChild,"backgroundColor",St(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?Ct(o,"backgroundColor",St(i.windowColor,i.windowOpacity)):o.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+ni+", 2px 2px 4px "+ni+", 2px 2px 5px "+ni:"raised"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px "+ni+", 2px 2px "+ni+", 3px 3px "+ni:"depressed"===i.edgeStyle?o.firstChild.style.textShadow="1px 1px "+ii+", 0 1px "+ii+", -1px -1px "+ni+", 0 -1px "+ni:"uniform"===i.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+ni+", 0 0 4px "+ni+", 0 0 4px "+ni+", 0 0 4px "+ni)),i.fontPercent&&1!==i.fontPercent){var s=It.parseFloat(o.style.fontSize);o.style.fontSize=s*i.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=ri[i.fontFamily])}}}},e}(Xe);Xe.registerComponent("TextTrackDisplay",ai);var oi=function(t){function e(){return le(this,e),de(this,t.apply(this,arguments))}return ce(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=y("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r},e}(Xe);Xe.registerComponent("LoadingSpinner",oi);var si=function(t){function e(){return le(this,e),de(this,t.apply(this,arguments))}return ce(e,t),e.prototype.createEl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t="button",e=o({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),n=o({type:"button"},n);var i=Xe.prototype.createEl.call(this,t,e,n);return this.createControlTextEl(i),i},e.prototype.addChild=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return _e.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Xe.prototype.addChild.call(this,t,e)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(ti);Xe.registerComponent("Button",si);var ui=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)return void ct(e);var n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i)return void this.player_.focus();var r=function(){return i.focus()};lt(e)?e.then(r,function(){}):this.setTimeout(r,1)},e.prototype.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},e.prototype.handleMouseDown=function(t){this.mouseused_=!0},e}(si);ui.prototype.controlText_="Play Video",Xe.registerComponent("BigPlayButton",ui);var li=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.controlText(i&&i.controlText||r.localize("Close")),r}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(si);Xe.registerComponent("CloseButton",li);var ci=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.on(n,"play",r.handlePlay),r.on(n,"pause",r.handlePause),r.on(n,"ended",r.handleEnded),r}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(si);ci.prototype.controlText_="Play",Xe.registerComponent("PlayToggle",ci);var di=function(t,e){t=t<0?0:t;var n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600),a=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),r=r>0||o>0?r+":":"",i=((r||a>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n},hi=di,pi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return hi(t,e)},fi=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.throttledUpdateContent=je(Re(r,r.updateContent),25),r.on(n,"timeupdate",r.throttledUpdateContent),r}return ce(e,t),e.prototype.createEl=function(e){var n=this.buildCSSClass(),i=t.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=y("span",{className:n+"-display"},{"aria-live":"off"}),this.updateTextNode_(),i.appendChild(this.contentEl_),i},e.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},e.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=Mt.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},e.prototype.formatTime_=function(t){return pi(t)},e.prototype.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},e.prototype.updateContent=function(t){},e}(Xe);fi.prototype.labelText_="Time",fi.prototype.controlText_="Time",Xe.registerComponent("TimeDisplay",fi);var mi=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.on(n,"ended",r.handleEnded),r}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-current-time"},e.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(fi);mi.prototype.labelText_="Current Time",mi.prototype.controlText_="Current Time",Xe.registerComponent("CurrentTimeDisplay",mi);var gi=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.on(n,"durationchange",r.updateContent),r.on(n,"loadedmetadata",r.throttledUpdateContent),r}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-duration"},e.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(fi);gi.prototype.labelText_="Duration",gi.prototype.controlText_="Duration",Xe.registerComponent("DurationDisplay",gi);var yi=function(t){function e(){return le(this,e),de(this,t.apply(this,arguments))}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(Xe);Xe.registerComponent("TimeDivider",yi);var vi=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.on(n,"durationchange",r.throttledUpdateContent),r.on(n,"ended",r.handleEnded),r}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-remaining-time"},e.prototype.formatTime_=function(e){return"-"+t.prototype.formatTime_.call(this,e)},e.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(fi);vi.prototype.labelText_="Remaining Time",vi.prototype.controlText_="Remaining Time",Xe.registerComponent("RemainingTimeDisplay",vi);var _i=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}return ce(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=y("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(Xe);Xe.registerComponent("LiveDisplay",_i);var bi=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}return ce(e,t),e.prototype.enabled=function(){return this.enabled_},e.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.prototype.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.prototype.createEl=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=o({tabIndex:0},n),i=o({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),t.prototype.createEl.call(this,e,n,i)},e.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Zt||t.preventDefault(),x(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.prototype.handleMouseMove=function(t){},e.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;P(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!==t||t<0||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%",i=e.el().style;return this.vertical()?i.height=n:i.width=n,t}}},e.prototype.calculateDistance=function(t){var e=M(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){return void 0===t?this.vertical_||!1:(this.vertical_=!!t,void(this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")))},e}(Xe);Xe.registerComponent("Slider",bi);var Ti=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.partEls_=[],r.on(n,"progress",r.update),r}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},e.prototype.update=function(t){var e=this.player_.buffered(),n=this.player_.duration(),i=this.player_.bufferedEnd(),r=this.partEls_,a=function(t,e){var n=t/e||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=a(i,n);for(var o=0;o<e.length;o++){var s=e.start(o),u=e.end(o),l=r[o];l||(l=this.el_.appendChild(y()),r[o]=l),l.style.left=a(s,i),l.style.width=a(u-s,i)}for(var c=r.length;c>e.length;c--)this.el_.removeChild(r[c-1]);r.length=e.length},e}(Xe);Xe.registerComponent("LoadProgressBar",Ti);var wi=function(t){function e(){return le(this,e),de(this,t.apply(this,arguments))}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},e.prototype.update=function(t,e,n){var i=L(this.el_),r=L(this.player_.el()),a=t.width*e;if(r&&i){var o=t.left-r.left+a,s=t.width-a+(r.right-t.right),u=i.width/2;o<u?u+=u-o:s<u&&(u=s),u<0?u=0:u>i.width&&(u=i.width),this.el_.style.right="-"+u+"px",v(this.el_,n)}},e}(Xe);Xe.registerComponent("TimeTooltip",wi);var ki=function(t){function e(){return le(this,e),de(this,t.apply(this,arguments))}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var i=n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),r=pi(i,n.player_.duration()),a=n.getChild("timeTooltip");a&&a.update(t,e,r)})},e}(Xe);ki.prototype.options_={children:[]},ne&&!(ne>8)||Wt||$t||ki.prototype.options_.children.push("timeTooltip"),Xe.registerComponent("PlayProgressBar",ki);var Si=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.update=je(Re(r,r.update),25),r}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.update=function(t,e){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var i=n.player_.duration(),r=pi(e*i,i);n.el_.style.left=t.width*e+"px",n.getChild("timeTooltip").update(t,e,r)})},e}(Xe);Si.prototype.options_={children:["timeTooltip"]},Xe.registerComponent("MouseTimeDisplay",Si);var Ci=5,Ei=30,Oi=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.setEventHandlers_(),r}return ce(e,t),e.prototype.setEventHandlers_=function(){var t=this;this.update=je(Re(this,this.update),Ei),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval(function(){t.requestAnimationFrame(function(){t.update()})},Ei)}),this.on(this.player_,["ended","pause","waiting"],function(){t.clearInterval(t.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.prototype.update_=function(t,e){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[pi(t,n),pi(n,n)],"{1} of {2}")),this.bar.update(L(this.el_),e)},e.prototype.update=function(e){var n=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n},e.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},e.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return t>=1?1:t},e.prototype.handleMouseDown=function(e){U(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},e.prototype.handleMouseMove=function(t){if(U(t)){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)}},e.prototype.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},e.prototype.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&ct(this.player_.play())},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+Ci)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-Ci)},e.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e}(bi);Oi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ne&&!(ne>8)||Wt||$t||Oi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Oi.prototype.playerEvent="timeupdate",Xe.registerComponent("SeekBar",Oi);var Ai=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.handleMouseMove=je(Re(r,r.handleMouseMove),25),r.throttledHandleMouseSeek=je(Re(r,r.handleMouseSeek),25),r.enable(),r}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var n=e.getChild("mouseTimeDisplay"),i=e.el(),r=L(i),a=M(i,t).x;a>1?a=1:a<0&&(a=0),n&&n.update(r,a)}},e.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},e.prototype.enabled=function(){return this.enabled_},e.prototype.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},e.prototype.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(Xe);Ai.prototype.options_={children:["seekBar"]},Xe.registerComponent("ProgressControl",Ai);var xi=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.on(n,"fullscreenchange",r.handleFullscreenChange),Mt[Ye.fullscreenEnabled]===!1&&r.disable(),r}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(si);xi.prototype.controlText_="Fullscreen",Xe.registerComponent("FullscreenToggle",xi);var Pi=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Li=function(t){function e(){return le(this,e),de(this,t.apply(this,arguments))}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(Xe);Xe.registerComponent("VolumeLevel",Li);var Ii=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.on("slideractive",r.updateLastVolume_),r.on(n,"volumechange",r.updateARIAAttributes),n.ready(function(){return r.updateARIAAttributes()}),r}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.prototype.handleMouseDown=function(e){U(e)&&t.prototype.handleMouseDown.call(this,e)},e.prototype.handleMouseMove=function(t){U(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},e}(bi);Ii.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ii.prototype.playerEvent="volumechange",Xe.registerComponent("VolumeBar",Ii);var Mi=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};le(this,e),i.vertical=i.vertical||!1,("undefined"==typeof i.volumeBar||u(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical);var r=de(this,t.call(this,n,i));return Pi(r,n),r.throttledHandleMouseMove=je(Re(r,r.handleMouseMove),25),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}return ce(e,t),e.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(Xe);Mi.prototype.options_={children:["volumeBar"]},Xe.registerComponent("VolumeControl",Mi);var Di=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Ri=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return Di(r,n),r.on(n,["loadstart","volumechange"],r.update),r}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){var e=this.player_.volume(),n=this.player_.lastVolume_();if(0===e){var i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},e.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},e.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;Wt&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var n=0;n<4;n++)w(this.el_,"vjs-vol-"+n);T(this.el_,"vjs-vol-"+e)},e.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),e=t?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(si);Ri.prototype.controlText_="Mute",Xe.registerComponent("MuteToggle",Ri);var ji=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};le(this,e),"undefined"!=typeof i.inline?i.inline=i.inline:i.inline=!0,("undefined"==typeof i.volumeControl||u(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline);var r=de(this,t.call(this,n,i));return r.on(n,["loadstart"],r.volumePanelState_),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}return ce(e,t),e.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},e.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e}(Xe);ji.prototype.options_={children:["muteToggle","volumeControl"]},Xe.registerComponent("VolumePanel",ji);var Bi=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return i&&(r.menuButton_=i.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyPress),r}return ce(e,t),
e.prototype.addItem=function(t){this.addChild(t),t.on("click",Re(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=y(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),$(n,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),n},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice(),n=e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className);n&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(Xe);Xe.registerComponent("Menu",Bi);var Ni=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};le(this,e);var r=de(this,t.call(this,n,i));r.menuButton_=new si(n,i),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var a=si.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+a,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"focus",r.handleFocus),r.on(r.menuButton_,"blur",r.handleBlur),r.on("keydown",r.handleSubmenuKeyPress),r}return ce(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.prototype.createMenu=function(){var t=new Bi(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=y("li",{className:"vjs-menu-title",innerHTML:tt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),_(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button";e+=this.options_.inline===!0?"-inline":"-popup";var n=si.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+n+" "+t.prototype.buildCSSClass.call(this)},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return e+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},e.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",Re(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.focus=function(){this.menuButton_.focus()},e.prototype.blur=function(){this.menuButton_.blur()},e.prototype.handleFocus=function(){$(Mt,"keydown",Re(this,this.handleKeyPress))},e.prototype.handleBlur=function(){X(Mt,"keydown",Re(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},e.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Wt&&m())return;this.menu.focus()}},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Xe);Xe.registerComponent("MenuButton",Ni);var Ui=function(t){function e(n,i){le(this,e);var r=i.tracks,a=de(this,t.call(this,n,i));if(a.items.length<=1&&a.hide(),!r)return de(a);var o=Re(a,a.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),a.player_.on("ready",o),a.player_.on("dispose",function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)}),a}return ce(e,t),e}(Ni);Xe.registerComponent("TrackButton",Ui);var Fi=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.selectable=i.selectable,r.isSelected_=i.selected||!1,r.multiSelectable=i.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}return ce(e,t),e.prototype.createEl=function(e,n,i){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",o({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},e.prototype.handleClick=function(t){this.selected(!0)},e.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(ti);Xe.registerComponent("MenuItem",Fi);var Hi=function(t){function e(n,i){le(this,e);var r=i.track,a=n.textTracks();i.label=r.label||r.language||"Unknown",i.selected="showing"===r.mode;var o=de(this,t.call(this,n,i));o.track=r;var s=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleTracksChange.apply(o,e)},u=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleSelectedLanguageChange.apply(o,e)};if(n.on(["loadstart","texttrackchange"],s),a.addEventListener("change",s),a.addEventListener("selectedlanguagechange",u),o.on("dispose",function(){n.off(["loadstart","texttrackchange"],s),a.removeEventListener("change",s),a.removeEventListener("selectedlanguagechange",u)}),void 0===a.onchange){var l=void 0;o.on(["tap","click"],function(){if("object"!==ue(It.Event))try{l=new It.Event("change")}catch(t){}l||(l=Mt.createEvent("Event"),l.initEvent("change",!0,!0)),a.dispatchEvent(l)})}return o.handleTracksChange(),o}return ce(e,t),e.prototype.handleClick=function(e){var n=this.track.kind,i=this.track.kinds,r=this.player_.textTracks();if(i||(i=[n]),t.prototype.handleClick.call(this,e),r)for(var a=0;a<r.length;a++){var o=r[a];o===this.track&&i.indexOf(o.kind)>-1?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled")}},e.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},e.prototype.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.prototype.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Fi);Xe.registerComponent("TextTrackMenuItem",Hi);var qi=function(t){function e(n,i){return le(this,e),i.track={player:n,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,de(this,t.call(this,n,i))}return ce(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var a=e[i];if(this.options_.kinds.indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},e.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),n=!0,i=0,r=e.length;i<r;i++){var a=e[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showing"===a.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Hi);Xe.registerComponent("OffTextTrackMenuItem",qi);var Vi=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return le(this,e),i.tracks=n.textTracks(),de(this,t.call(this,n,i))}return ce(e,t),e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hi,n=void 0;this.label_&&(n=this.label_+" off"),t.push(new qi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<i.length;r++){var a=i[r];if(this.kinds_.indexOf(a.kind)>-1){var o=new e(this.player_,{track:a,selectable:!0,multiSelectable:!1});o.addClass("vjs-"+a.kind+"-menu-item"),t.push(o)}}return t},e}(Ui);Xe.registerComponent("TextTrackButton",Vi);var Gi=function(t){function e(n,i){le(this,e);var r=i.track,a=i.cue,o=n.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=a.text,i.selected=a.startTime<=o&&o<a.endTime;var s=de(this,t.call(this,n,i));return s.track=r,s.cue=a,r.addEventListener("cuechange",Re(s,s.update)),s}return ce(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(t){var e=this.cue,n=this.player_.currentTime();this.selected(e.startTime<=n&&n<e.endTime)},e}(Fi);Xe.registerComponent("ChaptersTrackMenuItem",Gi);var Wi=function(t){function e(n,i,r){return le(this,e),de(this,t.call(this,n,i,r))}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},e.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},e.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var n=t[e];if(n.kind===this.kind_)return n}},e.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(tt(this.kind_))},e.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},e.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var n=0,i=e.length;n<i;n++){var r=e[n],a=new Gi(this.player_,{track:this.track_,cue:r});t.push(a)}return t},e}(Vi);Wi.prototype.kind_="chapters",Wi.prototype.controlText_="Chapters",Xe.registerComponent("ChaptersButton",Wi);var zi=function(t){function e(n,i,r){le(this,e);var a=de(this,t.call(this,n,i,r)),o=n.textTracks(),s=Re(a,a.handleTracksChange);return o.addEventListener("change",s),a.on("dispose",function(){o.removeEventListener("change",s)}),a}return ce(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),n=!1,i=0,r=e.length;i<r;i++){var a=e[i];if(a.kind!==this.kind_&&"showing"===a.mode){n=!0;break}}n?this.disable():this.enable()},e.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Vi);zi.prototype.kind_="descriptions",zi.prototype.controlText_="Descriptions",Xe.registerComponent("DescriptionsButton",zi);var $i=function(t){function e(n,i,r){return le(this,e),de(this,t.call(this,n,i,r))}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Vi);$i.prototype.kind_="subtitles",$i.prototype.controlText_="Subtitles",Xe.registerComponent("SubtitlesButton",$i);var Xi=function(t){function e(n,i){le(this,e),i.track={player:n,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem";var r=de(this,t.call(this,n,i));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+i.kind+" settings dialog"),r}return ce(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Hi);Xe.registerComponent("CaptionSettingsMenuItem",Xi);var Yi=function(t){function e(n,i,r){return le(this,e),de(this,t.call(this,n,i,r))}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Xi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Vi);Yi.prototype.kind_="captions",Yi.prototype.controlText_="Captions",Xe.registerComponent("CaptionsButton",Yi);var Ki=function(t){function e(){return le(this,e),de(this,t.apply(this,arguments))}return ce(e,t),e.prototype.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>";var a=t.prototype.createEl.call(this,e,o({innerHTML:r},n),i);return a},e}(Hi);Xe.registerComponent("SubsCapsMenuItem",Ki);var Qi=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};le(this,e);var r=de(this,t.call(this,n,i));return r.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(tt(r.label_)),r}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Xi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Ki)},e}(Vi);Qi.prototype.kinds_=["captions","subtitles"],Qi.prototype.controlText_="Subtitles",Xe.registerComponent("SubsCapsButton",Qi);var Ji=function(t){function e(n,i){le(this,e);var r=i.track,a=n.audioTracks();i.label=r.label||r.language||"Unknown",i.selected=r.enabled;var o=de(this,t.call(this,n,i));o.track=r,o.addClass("vjs-"+r.kind+"-menu-item");var s=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.handleTracksChange.apply(o,e)};return a.addEventListener("change",s),o.on("dispose",function(){a.removeEventListener("change",s)}),o}return ce(e,t),e.prototype.createEl=function(e,n,i){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>";var a=t.prototype.createEl.call(this,e,o({innerHTML:r},n),i);return a},e.prototype.handleClick=function(e){var n=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var i=0;i<n.length;i++){var r=n[i];r.enabled=r===this.track}},e.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Fi);Xe.registerComponent("AudioTrackMenuItem",Ji);var Zi=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return le(this,e),i.tracks=n.audioTracks(),de(this,t.call(this,n,i))}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var e=this.player_.audioTracks(),n=0;n<e.length;n++){var i=e[n];t.push(new Ji(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t},e}(Ui);Zi.prototype.controlText_="Audio Track",Xe.registerComponent("AudioTrackButton",Zi);var tr=function(t){function e(n,i){le(this,e);var r=i.rate,a=parseFloat(r,10);i.label=r,i.selected=1===a,i.selectable=!0,i.multiSelectable=!1;var o=de(this,t.call(this,n,i));return o.label=r,o.rate=a,o.on(n,"ratechange",o.update),o}return ce(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Fi);tr.prototype.contentElType="button",Xe.registerComponent("PlaybackRateMenuItem",tr);var er=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.updateVisibility(),r.updateLabel(),r.on(n,"loadstart",r.updateVisibility),r.on(n,"ratechange",r.updateLabel),r}return ce(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=y("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},e.prototype.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createMenu=function(){var t=new Bi(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new tr(this.player(),{rate:e[n]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),n=this.playbackRates(),i=n[0],r=0;r<n.length;r++)if(n[r]>e){i=n[r];break}this.player().playbackRate(i)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Ni);er.prototype.controlText_="Playback Rate",Xe.registerComponent("PlaybackRateMenuButton",er);var nr=function(t){function e(){return le(this,e),de(this,t.apply(this,arguments))}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(Xe);Xe.registerComponent("Spacer",nr);var ir=function(t){function e(){return le(this,e),de(this,t.apply(this,arguments))}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(nr);Xe.registerComponent("CustomControlSpacer",ir);var rr=function(t){function e(){return le(this,e),de(this,t.apply(this,arguments))}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Xe);rr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Xe.registerComponent("ControlBar",rr);var ar=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i));return r.on(n,"error",r.open),r}return ce(e,t),e.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(ln);ar.prototype.options_=nt(ln.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Xe.registerComponent("ErrorDisplay",ar);var or="vjs-text-track-settings",sr=["#000","Black"],ur=["#00F","Blue"],lr=["#0FF","Cyan"],cr=["#0F0","Green"],dr=["#F0F","Magenta"],hr=["#F00","Red"],pr=["#FFF","White"],fr=["#FF0","Yellow"],mr=["1","Opaque"],gr=["0.5","Semi-Transparent"],yr=["0","Transparent"],vr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[sr,pr,hr,cr,ur,fr,dr,lr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[mr,gr,yr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[pr,sr,hr,cr,ur,fr,dr,lr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[mr,gr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[yr,gr,mr]}};vr.windowColor.options=vr.backgroundColor.options;var _r=function(t){function e(n,i){le(this,e),i.temporary=!1;var a=de(this,t.call(this,n,i));return a.updateDisplay=Re(a,a.updateDisplay),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=y("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),void 0===i.persistTextTrackSettings&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),r(vr,function(t){a.on(a.$(t.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}return ce(e,t),e.prototype.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},e.prototype.createElSelect_=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",r=vr[t],a=r.id.replace("%s",this.id_),o=[n,a].join(" ").trim();return["<"+i+' id="'+a+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"</"+i+">",'<select aria-labelledby="'+o+'">'].concat(r.options.map(function(t){var n=a+"-"+t[1].replace(/\W+/g,"");return['<option id="'+n+'" value="'+t[0]+'" ','aria-labelledby="'+o+" "+n+'">',e.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},e.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElColors_=function(){return y("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.prototype.createElFont_=function(){return y("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return y("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.prototype.label=function(){return this.localize("Caption Settings Dialog")},e.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.prototype.getValues=function(){var t=this;return a(vr,function(e,n,i){var r=xt(t.$(n.selector),n.parser);return void 0!==r&&(e[i]=r),e},{})},e.prototype.setValues=function(t){var e=this;r(vr,function(n,i){Pt(e.$(n.selector),t[i],n.parser)})},e.prototype.setDefaults=function(){var t=this;r(vr,function(e){var n=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=n})},e.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(It.localStorage.getItem(or))}catch(t){_e.warn(t)}t&&this.setValues(t)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?It.localStorage.setItem(or,JSON.stringify(t)):It.localStorage.removeItem(or)}catch(t){_e.warn(t)}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(Mt,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,n=t&&t.captionsButton;e?e.focus():n&&n.focus()},e}(ln);Xe.registerComponent("TextTrackSettings",_r);var br=function(t){function e(n,i){le(this,e);var r=i.ResizeObserver||It.ResizeObserver;null===i.ResizeObserver&&(r=!1);var a=nt({createEl:!r},i),o=de(this,t.call(this,n,a));return o.ResizeObserver=i.ResizeObserver||It.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=Be(function(){o.resizeHandler()},100,!1,n),r?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(n.el())):(o.loadListener_=function(){o.el_.contentWindow&&$(o.el_.contentWindow,"resize",o.debouncedHandler_),o.off("load",o.loadListener_)},o.on("load",o.loadListener_)),o}return ce(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},e.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},e.prototype.dispose=function(){this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&X(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},e}(Xe);Xe.registerComponent("ResizeManager",br);var Tr=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var n=t.$$("source"),i=[],r="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var o=n[a].src;o&&i.indexOf(o)===-1&&i.push(o)}return!!i.length&&(1===i.length&&(r=i[0]),t.triggerSourceset(r),!0)},wr={};ee||(wr=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=Mt.createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var n=Mt.createDocumentFragment();e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",It.Element.prototype.appendChild.call(this,n),this.innerHTML}}));var kr=function(t,e){for(var n={},i=0;i<t.length&&(n=Object.getOwnPropertyDescriptor(t[i],e),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},Sr=function(t){return kr([t.el(),It.HTMLMediaElement.prototype,It.Element.prototype,wr],"innerHTML")},Cr=function(t){var e=t.el();if(!e.resetSourceWatch_){var n={},i=Sr(t),r=function(n){return function(){for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=n.apply(e,r);return Tr(t),o}};["append","appendChild","insertAdjacentHTML"].forEach(function(t){e[t]&&(n[t]=e[t],e[t]=r(n[t]))}),Object.defineProperty(e,"innerHTML",nt(i,{set:r(i.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(n).forEach(function(t){e[t]=n[t];
}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)}},Er={};ee||(Er=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Cn(It.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return It.Element.prototype.setAttribute.call(this,"src",t),t}}));var Or=function(t){return kr([t.el(),It.HTMLMediaElement.prototype,Er],"src")},Ar=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var n=Or(t),i=e.setAttribute,r=e.load;Object.defineProperty(e,"src",nt(n,{set:function(i){var r=n.set.call(e,i);return t.triggerSourceset(e.src),r}})),e.setAttribute=function(n,r){var a=i.call(e,n,r);return/src/i.test(n)&&t.triggerSourceset(e.src),a},e.load=function(){var n=r.call(e);return Tr(t)||(t.triggerSourceset(""),Cr(t)),n},e.currentSrc?t.triggerSourceset(e.currentSrc):Tr(t)||Cr(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=i,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}}}},xr=he(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Pr=function(t){function e(n,i){le(this,e);var r=de(this,t.call(this,n,i)),a=n.source,o=!1;if(a&&(r.el_.currentSrc!==a.src||n.tag&&3===n.tag.initNetworkState_)?r.setSource(a):r.handleLateInit_(r.el_),n.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){for(var s=r.el_.childNodes,u=s.length,l=[];u--;){var c=s[u],d=c.nodeName.toLowerCase();"track"===d&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(c),r.remoteTextTracks().addTrack(c.track),r.textTracks().addTrack(c.track),o||r.el_.hasAttribute("crossorigin")||!On(c.src)||(o=!0)):l.push(c))}for(var h=0;h<l.length;h++)r.el_.removeChild(l[h])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&o&&_e.warn(Dt(xr)),r.restoreMetadataTracksInIOSNativePlayer_(),(ae||Vt||Kt)&&n.nativeControlsForTouch===!0&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}return ce(e,t),e.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},e.prototype.setupSourcesetHandling_=function(){Ar(this)},e.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),e=void 0,n=function(){e=[];for(var n=0;n<t.length;n++){var i=t[n];"metadata"===i.kind&&e.push({track:i,storedMode:i.mode})}};n(),t.addEventListener("change",n),this.on("dispose",function(){return t.removeEventListener("change",n)});var i=function n(){for(var i=0;i<e.length;i++){var r=e[i];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",n),t.removeEventListener("change",i),t.addEventListener("change",i)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",i)})},e.prototype.proxyNativeTracks_=function(){var t=this;Un.names.forEach(function(e){var n=Un[e],i=t.el()[n.getterName],r=t[n.getterName]();if(t["featuresNative"+n.capitalName+"Tracks"]&&i&&i.addEventListener){var a={change:function(t){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},o=function(){for(var t=[],e=0;e<r.length;e++){for(var n=!1,a=0;a<i.length;a++)if(i[a]===r[e]){n=!0;break}n||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())};Object.keys(a).forEach(function(e){var n=a[e];i.addEventListener(e,n),t.on("dispose",function(t){return i.removeEventListener(e,n)})}),t.on("loadstart",o),t.on("dispose",function(e){return t.off("loadstart",o)})}})},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var n=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=Mt.createElement("video");var i=this.options_.tag&&C(this.options_.tag),r=nt({},i);ae&&this.options_.nativeControlsForTouch===!0||delete r.controls,S(t,o(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&O(t,"preload",this.options_.preload);for(var a=["loop","muted","playsinline","autoplay"],s=0;s<a.length;s++){var u=a[s],l=this.options_[u];"undefined"!=typeof l&&(l?O(t,u,u):A(t,u),t[u]=l)}return t},e.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,n=function(){e=!0};this.on("loadstart",n);var i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",i),e||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){_e(t,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){var t=this;if(this.el_.duration===1/0&&$t&&Zt&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){t.off("webkitbeginfullscreen",n),t.off("webkitendfullscreen",e)})}},e.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=It.navigator&&It.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){return void 0===t?this.el_.src:void this.setSrc(t)},e.prototype.reset=function(){e.resetMediaElement(this.el_)},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.addTextTrack=function(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):t.prototype.addTextTrack.call(this,e,n,i)},e.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var n=Mt.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},e.prototype.addRemoteTextTrack=function(e,n){var i=t.prototype.addRemoteTextTrack.call(this,e,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i},e.prototype.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var n=this.$$("track"),i=n.length;i--;)e!==n[i]&&e!==n[i].track||this.el().removeChild(n[i])},e.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),It.performance&&"function"==typeof It.performance.now?t.creationTime=It.performance.now():It.performance&&It.performance.timing&&"number"==typeof It.performance.timing.navigationStart&&(t.creationTime=It.Date.now()-It.performance.timing.navigationStart),t},e}(qn);if(p()){Pr.TEST_VID=Mt.createElement("video");var Lr=Mt.createElement("track");Lr.kind="captions",Lr.srclang="en",Lr.label="English",Pr.TEST_VID.appendChild(Lr)}Pr.isSupported=function(){try{Pr.TEST_VID.volume=.5}catch(t){return!1}return!(!Pr.TEST_VID||!Pr.TEST_VID.canPlayType)},Pr.canPlayType=function(t){return Pr.TEST_VID.canPlayType(t)},Pr.canPlaySource=function(t,e){return Pr.canPlayType(t.type)},Pr.canControlVolume=function(){try{var t=Pr.TEST_VID.volume;return Pr.TEST_VID.volume=t/2+.1,t!==Pr.TEST_VID.volume}catch(t){return!1}},Pr.canMuteVolume=function(){try{var t=Pr.TEST_VID.muted;return Pr.TEST_VID.muted=!t,Pr.TEST_VID.muted?O(Pr.TEST_VID,"muted","muted"):A(Pr.TEST_VID,"muted","muted"),t!==Pr.TEST_VID.muted}catch(t){return!1}},Pr.canControlPlaybackRate=function(){if($t&&Zt&&te<58)return!1;try{var t=Pr.TEST_VID.playbackRate;return Pr.TEST_VID.playbackRate=t/2+.1,t!==Pr.TEST_VID.playbackRate}catch(t){return!1}},Pr.canOverrideAttributes=function(){if(ee)return!1;try{var t=function(){};Object.defineProperty(Mt.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Mt.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Mt.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Mt.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Pr.supportsNativeTextTracks=function(){return re||Wt&&Zt},Pr.supportsNativeVideoTracks=function(){return!(!Pr.TEST_VID||!Pr.TEST_VID.videoTracks)},Pr.supportsNativeAudioTracks=function(){return!(!Pr.TEST_VID||!Pr.TEST_VID.audioTracks)},Pr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Pr.prototype.featuresVolumeControl=Pr.canControlVolume(),Pr.prototype.featuresMuteControl=Pr.canMuteVolume(),Pr.prototype.featuresPlaybackRate=Pr.canControlPlaybackRate(),Pr.prototype.featuresSourceset=Pr.canOverrideAttributes(),Pr.prototype.movingMediaElementInDOM=!Wt,Pr.prototype.featuresFullscreenResize=!0,Pr.prototype.featuresProgressEvents=!0,Pr.prototype.featuresTimeupdateEvents=!0,Pr.prototype.featuresNativeTextTracks=Pr.supportsNativeTextTracks(),Pr.prototype.featuresNativeVideoTracks=Pr.supportsNativeVideoTracks(),Pr.prototype.featuresNativeAudioTracks=Pr.supportsNativeAudioTracks();var Ir=Pr.TEST_VID&&Pr.TEST_VID.constructor.prototype.canPlayType,Mr=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Dr=/^video\/mp4/i;Pr.patchCanPlayType=function(){Xt>=4&&!Qt&&!Zt?Pr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Mr.test(t)?"maybe":Ir.call(this,t)}:Yt&&(Pr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Dr.test(t)?"maybe":Ir.call(this,t)})},Pr.unpatchCanPlayType=function(){var t=Pr.TEST_VID.constructor.prototype.canPlayType;return Pr.TEST_VID.constructor.prototype.canPlayType=Ir,t},Pr.patchCanPlayType(),Pr.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&!function(){try{t.load()}catch(t){}}()}},Pr.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&!function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Pr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Pr.prototype["set"+tt(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){Pr.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Pr.prototype["set"+tt(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){Pr.prototype[t]=function(){return this.el_[t]()}}),qn.withSourceHandlers(Pr),Pr.nativeSourceHandler={},Pr.nativeSourceHandler.canPlayType=function(t){try{return Pr.TEST_VID.canPlayType(t)}catch(t){return""}},Pr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Pr.nativeSourceHandler.canPlayType(t.type);if(t.src){var n=En(t.src);return Pr.nativeSourceHandler.canPlayType("video/"+n)}return""},Pr.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)},Pr.nativeSourceHandler.dispose=function(){},Pr.registerSourceHandler(Pr.nativeSourceHandler),qn.registerTech("Html5",Pr);var Rr=he(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),jr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Br={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Nr=function(t){function e(n,i,r){if(le(this,e),n.id=n.id||i.id||"vjs_video_"+F(),i=o(e.getTagSettings(n),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(i.language=a.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(C(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}var u=de(this,t.call(this,null,i,r));if(u.isPosterFromTech_=!1,u.queuedCallbacks_=[],u.isReady_=!1,u.hasStarted_=!1,u.userActive_=!1,!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=n,u.tagAttributes=n&&C(n),u.language(u.options_.language),i.languages){var l={};Object.getOwnPropertyNames(i.languages).forEach(function(t){l[t.toLowerCase()]=i.languages[t]}),u.languages_=l}else u.languages_=e.prototype.options_.languages;u.cache_={},u.poster_=i.poster||"",u.controls_=!!i.controls,u.cache_.lastVolume=1,n.controls=!1,n.removeAttribute("controls"),n.hasAttribute("autoplay")?u.options_.autoplay=!0:u.autoplay(u.options_.autoplay),u.scrubbing_=!1,u.el_=u.createEl(),u.cache_.lastPlaybackRate=u.defaultPlaybackRate(),J(u,{eventBusKey:"el_"});var c=nt(u.options_);if(i.plugins){var d=i.plugins;Object.keys(d).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](d[t])},u)}u.options_.playerOptions=c,u.middleware_=[],u.initChildren(),u.isAudio("audio"===n.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label",u.localize("Audio Player")):u.el_.setAttribute("aria-label",u.localize("Video Player")),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),Wt||u.addClass("vjs-workinghover"),e.players[u.id_]=u;var h=Nt.split(".")[0];return u.addClass("vjs-v"+h),u.userActive(!0),u.reportUserActivity(),u.one("play",u.listenForUserActivity_),u.on("fullscreenchange",u.handleFullscreenChange_),u.on("stageclick",u.handleStageClick_),u.changingSrc_=!1,u.playWaitingForReady_=!1,u.playOnLoadstart_=null,u}return ce(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),bt(this),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.tag,n=void 0,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),r="video-js"===this.tag.tagName.toLowerCase();i?n=this.el_=e.parentNode:r||(n=this.el_=t.prototype.createEl.call(this,"div"));var a=C(e);if(r){for(n=this.el_=e,e=this.tag=Mt.createElement("video");n.children.length;)e.appendChild(n.firstChild);b(n,"video-js")||T(n,"video-js"),n.appendChild(e),i=this.playerElIngest_=n,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach(function(t){"undefined"!=typeof n[t]&&(e[t]=n[t])})}if(e.setAttribute("tabindex","-1"),ne&&e.setAttribute("role","application"),e.removeAttribute("width"),e.removeAttribute("height"),Object.getOwnPropertyNames(a).forEach(function(t){"class"===t?(n.className+=" "+a[t],r&&(e.className+=" "+a[t])):(n.setAttribute(t,a[t]),r&&e.setAttribute(t,a[t]))}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused"),It.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=Me("vjs-styles-dimensions");var o=Te(".vjs-styles-defaults"),s=Te("head");s.insertBefore(this.styleEl_,o?o.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var u=e.getElementsByTagName("a"),l=0;l<u.length;l++){var c=u.item(l);T(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(n,e),_(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=n,n},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)return this[n]=void 0,void this.updateStyleEl_();var i=parseFloat(e);return isNaN(i)?void _e.error('Improper value "'+e+'" supplied for for '+t):(this[n]=i,void this.updateStyleEl_())},e.prototype.fluid=function(t){return void 0===t?!!this.fluid_:(this.fluid_=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){if(It.VIDEOJS_NO_DYNAMIC_STYLE===!0){var t="number"==typeof this.width_?this.width_:this.options_.width,e="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(t>=0&&(n.width=t),e>=0&&(n.height=e)))}var i=void 0,r=void 0,a=void 0,o=void 0;a=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=a.split(":"),u=s[1]/s[0];i=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/u:this.videoWidth()||300,r=void 0!==this.height_?this.height_:i*u,o=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(o),De(this.styleEl_,"\n      ."+o+" {\n        width: "+i+"px;\n        height: "+r+"px;\n      }\n\n      ."+o+".vjs-fluid {\n        padding-top: "+100*u+"%;\n      }\n    ")},e.prototype.loadTech_=function(t,e){var n=this;this.tech_&&this.unloadTech_();var i=tt(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==i&&this.tag&&(qn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a="string"!=typeof this.autoplay()&&this.autoplay(),s={source:e,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Hn.names.forEach(function(t){var e=Hn[t];s[e.getterName]=n[e.privateName]}),o(s,this.options_[i]),o(s,this.options_[r]),o(s,this.options_[t.toLowerCase()]),this.tag&&(s.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var u=qn.getTech(t);if(!u)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new u(s),this.tech_.ready(Re(this,this.handleTechReady_),!0),on.jsonToTextTracks(this.textTracksJson_||[],this.tech_),jr.forEach(function(t){n.on(n.tech_,t,n["handleTech"+tt(t)+"_"])}),Object.keys(Br).forEach(function(t){n.on(n.tech_,t,function(e){return 0===n.tech_.playbackRate()&&n.tech_.seeking()?void n.queuedCallbacks_.push({callback:n["handleTech"+Br[t]+"_"].bind(n),event:e}):void n["handleTech"+Br[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||_(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){var t=this;Hn.names.forEach(function(e){var n=Hn[e];t[n.privateName]=t[n.getterName]()}),this.textTracksJson_=on.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.prototype.tech=function(t){return void 0===t&&_e.warn(Dt(Rr)),this.tech_},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},e.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(t){_e("deleting tag.poster throws in some browsers",t)}},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.prototype.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var n=function(){var t=e.muted();e.muted(!0);var n=e.play();if(n&&n.then&&n.catch)return n.catch(function(n){e.muted(t)})},i=void 0;if("any"===t?(i=this.play(),i&&i.then&&i.catch&&i.catch(function(){return n()})):i="muted"===t?n():this.play(),i&&i.then&&i.catch)return i.then(function(){e.trigger({type:"autoplay-success",autoplay:t})}).catch(function(n){e.trigger({type:"autoplay-failure",autoplay:t})})}},e.prototype.updateSourceCaches_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t,n="";if("string"!=typeof e&&(e=t.src,n=t.type),!/^blob:/.test(e)){this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!n&&(n=Qn(this,e)),this.cache_.source=nt({},t,{src:e,type:n});for(var i=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),r=[],a=this.$$("source"),o=[],s=0;s<a.length;s++){var u=C(a[s]);r.push(u),u.src&&u.src===e&&o.push(u.src)}o.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e}},e.prototype.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_&&(this.updateSourceCaches_(t.src),!t.src)){var n=function t(n){"sourceset"!==n.type&&e.updateSourceCaches_(e.techGet_("currentSrc")),e.tech_.off(["sourceset","loadstart"],t)};this.tech_.one(["sourceset","loadstart"],n)}this.trigger({src:t.src,type:"sourceset"})},e.prototype.hasStarted=function(t){return void 0===t?this.hasStarted_:void(t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")))},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(_e.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){U(t)&&this.controls_&&(this.paused()?ct(this.play()):this.pause())},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){this.ready(function(){if(t in $n)return gt(this.middleware_,this.tech_,t,e);if(t in Xn)return yt(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw _e(t),t}},!0)},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in zn)return mt(this.middleware_,this.tech_,t);if(t in Xn)return yt(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw _e("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw _e("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw _e(e),e}}},e.prototype.play=function(){var t=this,e=this.options_.Promise||It.Promise;return e?new e(function(e){t.play_(e)}):this.play_()},e.prototype.play_=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void e(this.techGet_("play"));this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){t.playWaitingForReady_=!1,e(t.play())})}},e.prototype.pause=function(){this.techCall_("pause")},e.prototype.paused=function(){return this.techGet_("paused")!==!1},e.prototype.played=function(){return this.techGet_("played")||ot(0,0)},e.prototype.scrubbing=function(t){return"undefined"==typeof t?this.scrubbing_:(this.scrubbing_=!!t,void(t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")))},e.prototype.currentTime=function(t){return"undefined"!=typeof t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.prototype.duration=function(t){return void 0===t?void 0!==this.cache_.duration?this.cache_.duration:NaN:(t=parseFloat(t),t<0&&(t=1/0),void(t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))))},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.prototype.buffered=function t(){var t=this.techGet_("buffered");return t&&t.length||(t=ot(0,0)),t},e.prototype.bufferedPercent=function(){return st(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);
return n>e&&(n=e),n},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){return void 0!==t?void this.techCall_("setMuted",t):this.techGet_("muted")||!1},e.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},e.prototype.lastVolume_=function(t){return void 0!==t&&0!==t?void(this.cache_.lastVolume=t):this.cache_.lastVolume},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){return void 0!==t?void(this.isFullscreen_=!!t):!!this.isFullscreen_},e.prototype.requestFullscreen=function(){var t=Ye;this.isFullscreen(!0),t.requestFullscreen?($(Mt,t.fullscreenchange,Re(this,function e(n){this.isFullscreen(Mt[t.fullscreenElement]),this.isFullscreen()===!1&&X(Mt,t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},e.prototype.exitFullscreen=function(){var t=Ye;this.isFullscreen(!1),t.requestFullscreen?Mt[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=Mt.documentElement.style.overflow,$(Mt,"keydown",Re(this,this.fullWindowOnEscKey)),Mt.documentElement.style.overflow="hidden",T(Mt.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,X(Mt,"keydown",this.fullWindowOnEscKey),Mt.documentElement.style.overflow=this.docOrigOverflow,w(Mt.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.canPlayType=function(t){for(var e=void 0,n=0,i=this.options_.techOrder;n<i.length;n++){var r=i[n],a=qn.getTech(r);if(a||(a=Xe.getComponent(r)),a){if(a.isSupported()&&(e=a.canPlayType(t)))return e}else _e.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.prototype.selectSource=function(t){var e=this,n=this.options_.techOrder.map(function(t){return[t,qn.getTech(t)]}).filter(function(t){var e=t[0],n=t[1];return n?n.isSupported():(_e.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),i=function(t,e,n){var i=void 0;return t.some(function(t){return e.some(function(e){if(i=n(t,e))return!0})}),i},r=void 0,a=function(t){return function(e,n){return t(n,e)}},o=function(t,n){var i=t[0],r=t[1];if(r.canPlaySource(n,e.options_[i.toLowerCase()]))return{source:n,tech:i}};return r=this.options_.sourceOrder?i(t,n,a(o)):i(n,t,o),r||!1},e.prototype.src=function(t){var e=this;if("undefined"==typeof t)return this.cache_.src||"";var n=Jn(t);return n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),void pt(this,n[0],function(t,i){e.middleware_=i,e.cache_.sources=n,e.updateSourceCaches_(t);var r=e.src_(t);return r?n.length>1?e.src(n.slice(1)):(e.changingSrc_=!1,e.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void e.triggerReady()):void ft(i,e.tech_)})):void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.prototype.src_=function(t){var e=this,n=this.selectSource([t]);return!n||(et(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(function(){e.changingSrc_=!1}),!1))},e.prototype.load=function(){this.techCall_("load")},e.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},e.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},e.prototype.currentSource=function(){return this.cache_.source||{}},e.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},e.prototype.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e=void 0;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):t?this.options_.autoplay=!0:this.options_.autoplay=!1,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},e.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},e.prototype.poster=function(t){return void 0===t?this.poster_:(t||(t=""),void(t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))))},e.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.prototype.controls=function(t){return void 0===t?!!this.controls_:(t=!!t,void(this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))))},e.prototype.usingNativeControls=function(t){return void 0===t?!!this.usingNativeControls_:(t=!!t,void(this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))))},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new ut(t),this.addClass("vjs-error"),_e.error("(CODE:"+this.error_.code+" "+ut.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},e.prototype.reportUserActivity=function(t){this.userActivity_=!0},e.prototype.userActive=function(t){if(void 0===t)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,n=void 0,i=Re(this,this.reportUserActivity),r=function(t){t.screenX===e&&t.screenY===n||(e=t.screenX,n=t.screenY,i())},a=function(){i(),this.clearInterval(t),t=this.setInterval(i,250)},o=function(e){i(),this.clearInterval(t)};this.on("mousedown",a),this.on("mousemove",r),this.on("mouseup",o),this.on("keydown",i),this.on("keyup",i);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var t=this.options_.inactivityTimeout;t<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},e.prototype.playbackRate=function(t){return void 0!==t?void this.techCall_("setPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},e.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.prototype.isAudio=function(t){return void 0!==t?void(this.isAudio_=!!t):!!this.isAudio_},e.prototype.addTextTrack=function(t,e,n){if(this.tech_)return this.tech_.addTextTrack(t,e,n)},e.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},e.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.track,n=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},e.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){return void 0===t?this.language_:void(this.language_=String(t).toLowerCase())},e.prototype.languages=function(){return nt(e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=nt(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var i=e[n];i=nt(i),i.player=void 0,t.tracks[n]=i}return t},e.prototype.createModal=function(t,e){var n=this;e=e||{},e.content=t||"";var i=new ln(this,e);return this.addChild(i),i.on("dispose",function(){n.removeChild(i)}),i.open(),i},e.getTagSettings=function(t){var e={sources:[],tracks:[]},n=C(t),i=n["data-setup"];if(b(t,"vjs-fluid")&&(n.fluid=!0),null!==i){var r=Rt(i||"{}"),a=r[0],s=r[1];a&&_e.error(a),o(n,s)}if(o(e,n),t.hasChildNodes())for(var u=t.childNodes,l=0,c=u.length;l<c;l++){var d=u[l],h=d.nodeName.toLowerCase();"source"===h?e.sources.push(C(d)):"track"===h&&e.tracks.push(C(d))}return e},e.prototype.flexNotSupported_=function(){var t=Mt.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(Xe);Hn.names.forEach(function(t){var e=Hn[t];Nr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),Nr.players={};var Ur=It.navigator;Nr.prototype.options_={techOrder:qn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Ur&&(Ur.languages&&Ur.languages[0]||Ur.userLanguage||Ur.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},ee||Nr.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Nr.prototype[t]=function(){return this.techGet_(t)}}),jr.forEach(function(t){Nr.prototype["handleTech"+tt(t)+"_"]=function(){return this.trigger(t)}}),Xe.registerComponent("Player",Nr);var Fr="plugin",Hr="activePlugins_",qr={},Vr=function(t){return qr.hasOwnProperty(t)},Gr=function(t){return Vr(t)?qr[t]:void 0},Wr=function(t,e){t[Hr]=t[Hr]||{},t[Hr][e]=!0},zr=function(t,e,n){var i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},$r=function(t,e){var n=function(){zr(this,{name:t,plugin:e,instance:null},!0);var n=e.apply(this,arguments);return Wr(this,t),zr(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(t){n[t]=e[t]}),n},Xr=function(t,e){return e.prototype.name=t,function(){zr(this,{name:t,plugin:e,instance:null},!0);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=new(Function.prototype.bind.apply(e,[null].concat([this].concat(i))));return this[t]=function(){return a},zr(this,a.getEventHash()),a}},Yr=function(){function t(e){if(le(this,t),this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,J(this),delete this.trigger,Z(this,this.constructor.defaultState),Wr(e,this.name),this.dispose=Re(this,this.dispose),e.on("dispose",this.dispose)}return t.prototype.version=function(){return this.constructor.VERSION},t.prototype.getEventHash=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},t.prototype.trigger=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Y(this.eventBusEl_,t,this.getEventHash(e))},t.prototype.handleStateChanged=function(t){},t.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Hr][t]=!1,this.player=this.state=null,e[t]=Xr(t,qr[t])},t.isBasic=function(e){var n="string"==typeof e?Gr(e):e;return"function"==typeof n&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(e,n){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+("undefined"==typeof e?"undefined":ue(e))+".");if(Vr(e))_e.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Nr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+("undefined"==typeof n?"undefined":ue(n))+".");return qr[e]=n,e!==Fr&&(t.isBasic(n)?Nr.prototype[e]=$r(e,n):Nr.prototype[e]=Xr(e,n)),n},t.deregisterPlugin=function(t){if(t===Fr)throw new Error("Cannot de-register base plugin.");Vr(t)&&(delete qr[t],delete Nr.prototype[t])},t.getPlugins=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(qr),e=void 0;return t.forEach(function(t){var n=Gr(t);n&&(e=e||{},e[t]=n)}),e},t.getPluginVersion=function(t){var e=Gr(t);return e&&e.VERSION||""},t}();Yr.getPlugin=Gr,Yr.BASE_PLUGIN_NAME=Fr,Yr.registerPlugin(Fr,Yr),Nr.prototype.usingPlugin=function(t){return!!this[Hr]&&this[Hr][t]===!0},Nr.prototype.hasPlugin=function(t){return!!Vr(t)};var Kr=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":ue(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},Qr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){t.apply(this,arguments)},i={};"object"===("undefined"==typeof e?"undefined":ue(e))?(e.constructor!==Object.prototype.constructor&&(n=e.constructor),i=e):"function"==typeof e&&(n=e),Kr(n,t);for(var r in i)i.hasOwnProperty(r)&&(n.prototype[r]=i[r]);return n};"undefined"==typeof HTMLVideoElement&&p()&&(Mt.createElement("video"),Mt.createElement("audio"),Mt.createElement("track"),Mt.createElement("video-js"));var Jr=function(t){return 0===t.indexOf("#")?t.slice(1):t};if(Lt.hooks_={},Lt.hooks=function(t,e){return Lt.hooks_[t]=Lt.hooks_[t]||[],e&&(Lt.hooks_[t]=Lt.hooks_[t].concat(e)),Lt.hooks_[t]},Lt.hook=function(t,e){Lt.hooks(t,e)},Lt.hookOnce=function(t,e){Lt.hooks(t,[].concat(e).map(function(e){var n=function n(){return Lt.removeHook(t,n),e.apply(void 0,arguments)};return n}))},Lt.removeHook=function(t,e){var n=Lt.hooks(t).indexOf(e);return!(n<=-1)&&(Lt.hooks_[t]=Lt.hooks_[t].slice(),Lt.hooks_[t].splice(n,1),!0)},It.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&p()){var Zr=Te(".vjs-styles-defaults");if(!Zr){Zr=Me("vjs-styles-defaults");var ta=Te("head");ta&&ta.insertBefore(Zr,ta.firstChild),De(Zr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Q(1,Lt),Lt.VERSION=Nt,Lt.options=Nr.prototype.options_,Lt.getPlayers=function(){return Nr.players},Lt.getPlayer=function(t){var e=Nr.players,n=void 0;if("string"==typeof t){var i=Jr(t),r=e[i];if(r)return r;n=Te("#"+i)}else n=t;if(f(n)){var a=n,o=a.player,s=a.playerId;if(o||e[s])return o||e[s]}},Lt.getAllPlayers=function(){return Object.keys(Nr.players).map(function(t){return Nr.players[t]}).filter(Boolean)},Lt.players=Nr.players,Lt.getComponent=Xe.getComponent,Lt.registerComponent=function(t,e){qn.isTech(e)&&_e.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Xe.registerComponent.call(Xe,t,e)},Lt.getTech=qn.getTech,Lt.registerTech=qn.registerTech,Lt.use=ht,!ee&&Object.defineProperty?(Object.defineProperty(Lt,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Lt.middleware,"TERMINATOR",{value:Wn,writeable:!1,enumerable:!0})):Lt.middleware={TERMINATOR:Wn},Lt.browser=se,Lt.TOUCH_ENABLED=ae,Lt.extend=Qr,Lt.mergeOptions=nt,Lt.bind=Re,Lt.registerPlugin=Yr.registerPlugin,Lt.deregisterPlugin=Yr.deregisterPlugin,Lt.plugin=function(t,e){return _e.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Yr.registerPlugin(t,e)},Lt.getPlugins=Yr.getPlugins,Lt.getPlugin=Yr.getPlugin,Lt.getPluginVersion=Yr.getPluginVersion,Lt.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),Lt.options.languages=nt(Lt.options.languages,(n={},n[t]=e,n)),Lt.options.languages[t]},Lt.log=_e,Lt.createTimeRange=Lt.createTimeRanges=ot,Lt.formatTime=pi,Lt.setFormatTime=Et,Lt.resetFormatTime=Ot,Lt.parseUrl=Sn,Lt.isCrossOrigin=On,Lt.EventTarget=Ne,Lt.on=$,Lt.one=K,Lt.off=X,Lt.trigger=Y,Lt.xhr=jt,Lt.TextTrack=Ln,Lt.AudioTrack=In,Lt.VideoTrack=Mn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){Lt[t]=function(){return _e.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),ke[t].apply(null,arguments)}}),Lt.computedStyle=l,Lt.dom=ke,Lt.url=An,t.exports=Lt},801:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<t.length;n++)e(t[n])}function r(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function a(t,e,n){var i=t;return d(e)?(n=e,"string"==typeof t&&(i={uri:t})):i=p(e,{uri:t}),i.callback=n,i}function o(t,e,n){return e=a(t,e,n),s(e)}function s(t){function e(){4===c.readyState&&setTimeout(a,0)}function n(){var t=void 0;if(t=c.response?c.response:c.responseText||u(c),b)try{t=JSON.parse(t)}catch(t){}return t}function i(t){return clearTimeout(f),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,l(t,T)}function a(){if(!p){var e;clearTimeout(f),e=t.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=T,r=null;return 0!==e?(i={body:n(),statusCode:e,method:g,headers:{},url:m,rawRequest:c},c.getAllResponseHeaders&&(i.headers=h(c.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),l(r,i,i.body)}}if("undefined"==typeof t.callback)throw new Error("callback argument missing");var s=!1,l=function(e,n,i){s||(s=!0,t.callback(e,n,i))},c=t.xhr||null;c||(c=t.cors||t.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var d,p,f,m=c.url=t.uri||t.url,g=c.method=t.method||"GET",y=t.body||t.data,v=c.headers=t.headers||{},_=!!t.sync,b=!1,T={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:c};if("json"in t&&t.json!==!1&&(b=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),y=JSON.stringify(t.json===!0?y:t.json))),c.onreadystatechange=e,c.onload=a,c.onerror=i,c.onprogress=function(){},c.onabort=function(){p=!0},c.ontimeout=i,c.open(g,m,!_,t.username,t.password),_||(c.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(f=setTimeout(function(){if(!p){p=!0,c.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",i(t)}},t.timeout)),c.setRequestHeader)for(d in v)v.hasOwnProperty(d)&&c.setRequestHeader(d,v[d]);else if(t.headers&&!r(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(c),c.send(y||null),c}function u(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function l(){}var c=n(86),d=n(88),h=n(89),p=n(106);t.exports=o,o.XMLHttpRequest=c.XMLHttpRequest||l,o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:c.XDomainRequest,i(["get","put","post","patch","head","delete"],function(t){o["delete"===t?"del":t]=function(e,n,i){return n=a(e,n,i),n.method=t.toUpperCase(),s(n)}})},802:function(t,e,n){/**
	 * Copyright 2013 vtt.js Contributors
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
var i=n(86),r=t.exports={WebVTT:n(803),VTTCue:n(804),VTTRegion:n(805)};i.vttjs=r,i.WebVTT=r.WebVTT;var a=r.VTTCue,o=r.VTTRegion,s=i.VTTCue,u=i.VTTRegion;r.shim=function(){i.VTTCue=a,i.VTTRegion=o},r.restore=function(){i.VTTCue=s,i.VTTRegion=u},i.VTTCue||r.shim()},803:function(t,e){function n(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function i(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function r(){this.values=g(null)}function a(t,e,n,i){var r=i?t.split(i):[t];for(var a in r)if("string"==typeof r[a]){var o=r[a].split(n);if(2===o.length){var s=o[0],u=o[1];e(s,u)}}}function o(t,e,o){function s(){var e=i(t);if(null===e)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+c);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function u(t,e){var n=new r;a(t,function(t,e){switch(t){case"region":for(var i=o.length-1;i>=0;i--)if(o[i].id===e){n.set(t,o[i].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var r=e.split(","),a=r[0];n.integer(t,a),n.percent(t,a)?n.set("snapToLines",!1):null,n.alt(t,a,["auto"]),2===r.length&&n.alt("lineAlign",r[1],["start","middle","end"]);break;case"position":r=e.split(","),n.percent(t,r[0]),2===r.length&&n.alt("positionAlign",r[1],["start","middle","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical",""),e.line=n.get("line","auto"),e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align","middle"),e.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}function l(){t=t.replace(/^\s+/,"")}var c=t;if(l(),e.startTime=s(),l(),"-->"!==t.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+c);t=t.substr(3),l(),e.endTime=s(),l(),u(t,e)}function s(t,e){function n(){function t(t){return e=e.substr(t.length),t}if(!e)return null;var n=e.match(/^([^<]*)(<[^>]*>?)?/);return t(n[1]?n[1]:n[2])}function r(t){return y[t]}function a(t){for(;f=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(f[0],r);return t}function o(t,e){return!b[e.localName]||b[e.localName]===t.localName}function s(e,n){var i=v[e];if(!i)return null;var r=t.document.createElement(i);r.localName=i;var a=_[e];return a&&n&&(r[a]=n.trim()),r}for(var u,l=t.document.createElement("div"),c=l,d=[];null!==(u=n());)if("<"!==u[0])c.appendChild(t.document.createTextNode(a(u)));else{if("/"===u[1]){d.length&&d[d.length-1]===u.substr(2).replace(">","")&&(d.pop(),c=c.parentNode);continue}var h,p=i(u.substr(1,u.length-2));if(p){h=t.document.createProcessingInstruction("timestamp",p),c.appendChild(h);continue}var f=u.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f)continue;if(h=s(f[1],f[3]),!h)continue;if(!o(c,h))continue;f[2]&&(h.className=f[2].substr(1).replace("."," ")),d.push(f[1]),c.appendChild(h),c=h}return l}function u(t){for(var e=0;e<T.length;e++){var n=T[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function l(t){function e(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function n(t){if(!t||!t.length)return null;var i=t.pop(),r=i.textContent||i.innerText;if(r){var a=r.match(/^.*(\n|\r)/);return a?(t.length=0,a[0]):r}return"ruby"===i.tagName?n(t):i.childNodes?(e(t,i),n(t)):void 0}var i,r=[],a="";if(!t||!t.childNodes)return"ltr";for(e(r,t);a=n(r);)for(var o=0;o<a.length;o++)if(i=a.charCodeAt(o),u(i))return"rtl";return"ltr"}function c(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)"showing"===n[r].mode&&i++;return++i*-1}function d(){}function h(t,e,n){var i=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)";i&&(r="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),d.call(this),this.cue=e,this.cueDiv=s(t,e.text);var o={color:r,backgroundColor:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};i||(o.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=t.document.createElement("div"),o={textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},i||(o.direction=l(this.cueDiv),o.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv);var u=0;switch(e.positionAlign){case"start":u=e.position;break;case"middle":u=e.position-e.size/2;break;case"end":u=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function p(t){var e,n,i,r,a=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=void 0!==e?e:t.lineHeight,a&&!this.lineHeight&&(this.lineHeight=13)}function f(t,e,n,i){function r(t,e){for(var r,a=new p(t),o=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(i);)t.move(e[s]);if(t.within(n))return t;var u=t.intersectPercentage(n);o>u&&(r=new p(t),o=u),t=new p(a)}return r||a}var a=new p(e),o=e.cue,s=c(o),u=[];if(o.snapToLines){var l;switch(o.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width"}var d=a.lineHeight,h=d*Math.round(s),f=n[l]+d,m=u[0];Math.abs(h)>f&&(h=h<0?-1:1,h*=Math.ceil(f/d)*d),s<0&&(h+=""===o.vertical?n.height:n.width,u=u.reverse()),a.move(m,h)}else{var g=a.lineHeight/n.height*100;switch(o.lineAlign){case"middle":s-=g/2;break;case"end":s-=g}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(s,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(s,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(s,"%")})}u=["+y","-x","+x","-y"],a=new p(e)}var y=r(a,u);e.move(y.toCSSCompatValues(n))}function m(){}/**
	 * Copyright 2013 vtt.js Contributors
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
var g=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();n.prototype=g(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){var n;return!!((n=e.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var y={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},v={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},_={v:"title",lang:"lang"},b={rt:"ruby"},T=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];d.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},d.prototype.formatStyle=function(t,e){return 0===t?0:t+e},h.prototype=g(d.prototype),h.prototype.constructor=h,p.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},p.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},p.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},p.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},p.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},p.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)},p.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},p.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r},m.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},m.convertCueToDOMTree=function(t,e){return t&&e?s(t,e):null};var w=.05,k="sans-serif",S="1.5%";m.processCues=function(t,e,n){function i(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=S,n.appendChild(r),i(e)){var a=[],o=p.getSimpleBoxPosition(r),s=Math.round(o.height*w*100)/100,u={font:s+"px "+k};!function(){for(var n,i,s=0;s<e.length;s++)i=e[s],n=new h(t,i,u),r.appendChild(n.div),f(t,n,o,a),i.displayState=n.div,a.push(p.getSimpleBoxPosition(n))}()}else for(var l=0;l<e.length;l++)r.appendChild(e[l].displayState)},m.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},m.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof n))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){function e(){for(var t=c.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,c.buffer=t.substr(e),n}function s(t){var e=new r;if(a(t,function(t,n){switch(t){case"id":e.set(t,n);break;case"width":e.percent(t,n);break;case"lines":e.integer(t,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var a=new r;if(a.percent("x",i[0]),a.percent("y",i[1]),!a.has("x")||!a.has("y"))break;e.set(t+"X",a.get("x")),e.set(t+"Y",a.get("y"));break;case"scroll":e.alt(t,n,["up"])}},/=/,/\s/),e.has("id")){var n=new(c.vttjs.VTTRegion||c.window.VTTRegion);n.width=e.get("width",100),n.lines=e.get("lines",3),n.regionAnchorX=e.get("regionanchorX",0),n.regionAnchorY=e.get("regionanchorY",100),n.viewportAnchorX=e.get("viewportanchorX",0),n.viewportAnchorY=e.get("viewportanchorY",100),n.scroll=e.get("scroll",""),c.onregion&&c.onregion(n),c.regionList.push({id:e.get("id"),region:n})}}function u(t){var e=new r;a(t,function(t,n){switch(t){case"MPEGT":e.integer(t+"S",n);break;case"LOCA":e.set(t+"L",i(n))}},/[^\d]:/,/,/),c.ontimestampmap&&c.ontimestampmap({MPEGTS:e.get("MPEGTS"),LOCAL:e.get("LOCAL")})}function l(t){t.match(/X-TIMESTAMP-MAP/)?a(t,function(t,e){switch(t){case"X-TIMESTAMP-MAP":u(e)}},/=/):a(t,function(t,e){switch(t){case"Region":s(e)}},/:/)}var c=this;t&&(c.buffer+=c.decoder.decode(t,{stream:!0}));try{var d;if("INITIAL"===c.state){if(!/\r\n|\n/.test(c.buffer))return this;d=e();var h=d.match(/^WEBVTT([ \t].*)?$/);if(!h||!h[0])throw new n(n.Errors.BadSignature);c.state="HEADER"}for(var p=!1;c.buffer;){if(!/\r\n|\n/.test(c.buffer))return this;switch(p?p=!1:d=e(),c.state){case"HEADER":/:/.test(d)?l(d):d||(c.state="ID");continue;case"NOTE":d||(c.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){c.state="NOTE";break}if(!d)continue;if(c.cue=new(c.vttjs.VTTCue||c.window.VTTCue)(0,0,""),c.state="CUE",d.indexOf("-->")===-1){c.cue.id=d;continue}case"CUE":try{o(d,c.cue,c.regionList)}catch(t){c.reportOrThrowError(t),c.cue=null,c.state="BADCUE";continue}c.state="CUETEXT";continue;case"CUETEXT":var f=d.indexOf("-->")!==-1;if(!d||f&&(p=!0)){c.oncue&&c.oncue(c.cue),c.cue=null,c.state="ID";continue}c.cue.text&&(c.cue.text+="\n"),c.cue.text+=d;continue;case"BADCUE":d||(c.state="ID");continue}}}catch(t){c.reportOrThrowError(t),"CUETEXT"===c.state&&c.cue&&c.oncue&&c.oncue(c.cue),c.cue=null,c.state="INITIAL"===c.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new n(n.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.exports=m},804:function(t,e){function n(t){if("string"!=typeof t)return!1;var e=s[t.toLowerCase()];return!!e&&t.toLowerCase()}function i(t){if("string"!=typeof t)return!1;var e=u[t.toLowerCase()];return!!e&&t.toLowerCase()}function r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function a(t,e,a){var s=this,u=/MSIE\s8\.0/.test(navigator.userAgent),l={};u?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,h=t,p=e,f=a,m=null,g="",y=!0,v="auto",_="start",b=50,T="middle",w=50,k="middle";if(Object.defineProperty(s,"id",r({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",r({},l,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(s,"startTime",r({},l,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},l,{get:function(){return p},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},l,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},l,{get:function(){return m},set:function(t){m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},l,{get:function(){return g},set:function(t){var e=n(t);if(e===!1)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},l,{get:function(){return y},set:function(t){y=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},l,{get:function(){return v},set:function(t){if("number"!=typeof t&&t!==o)throw new SyntaxError("An invalid number or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},l,{get:function(){return _},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},l,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},l,{get:function(){return T},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},l,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},l,{get:function(){return k},set:function(t){var e=i(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");k=e,this.hasBeenReset=!0}})),s.displayState=void 0,u)return s}/**
	 * Copyright 2013 vtt.js Contributors
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
var o="auto",s={"":!0,lr:!0,rl:!0},u={start:!0,middle:!0,end:!0,left:!0,right:!0};a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=a},805:function(t,e){function n(t){if("string"!=typeof t)return!1;var e=a[t.toLowerCase()];return!!e&&t.toLowerCase()}function i(t){return"number"==typeof t&&t>=0&&t<=100}function r(){var t=100,e=3,r=0,a=100,o=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!i(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(t){if(!i(t))throw new Error("RegionAnchorX must be between 0 and 100.");a=t}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!i(t))throw new Error("RegionAnchorY must be between 0 and 100.");r=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!i(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!i(t))throw new Error("ViewportAnchorX must be between 0 and 100.");o=t}},scroll:{enumerable:!0,get:function(){return u},set:function(t){var e=n(t);if(e===!1)throw new SyntaxError("An invalid or illegal string was specified.");u=e}}})}/**
	 * Copyright 2013 vtt.js Contributors
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 */
var a={"":!0,up:!0};t.exports=r},806:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(807),a=i(r),o=n(809),s=i(o),u=n(810),l=i(u);t.exports={LineStream:a.default,ParseStream:s.default,Parser:l.default}},807:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(808),l=i(u),c=function(t){function e(){r(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.buffer="",t}return o(e,t),s(e,[{key:"push",value:function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)}}]),e}(l.default);e.default=c},808:function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){n(this,t),this.listeners={}}return i(t,[{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){if(!this.listeners[t])return!1;var n=this.listeners[t].indexOf(e);return this.listeners[t].splice(n,1),n>-1}},{key:"trigger",value:function(t){var e=this.listeners[t],n=void 0,i=void 0,r=void 0;if(e)if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=e.length,n=0;n<i;++n)e[n].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),t}();e.default=r},809:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(808),c=i(l),d=function(){var t="[^=]*",e='"[^"]*"|[^,]*',n="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+n+")")},h=function(t){for(var e=t.split(d()),n={},i=e.length,r=void 0;i--;)""!==e[i]&&(r=/([^=]*)=(.*)/.exec(e[i]).slice(1),r[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),n[r[0]]=r[1]);return n},p=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return o(e,t),u(e,[{key:"push",value:function(t){var e=void 0,n=void 0;if(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==t.length){if("#"!==t[0])return void this.trigger("data",{type:"uri",uri:t});if(0!==t.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:t.slice(1)});if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return n={type:"tag",tagType:"inf"},e[1]&&(n.duration=parseFloat(e[1])),e[2]&&(n.title=e[2]),void this.trigger("data",n);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"targetduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"totalduration"},e[1]&&(n.duration=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"version"},e[1]&&(n.version=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"media-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return n={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(n.number=parseInt(e[1],10)),void this.trigger("data",n);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return n={type:"tag",tagType:"playlist-type"},e[1]&&(n.playlistType=e[1]),void this.trigger("data",n);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return n={type:"tag",tagType:"byterange"},e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),void this.trigger("data",n);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return n={type:"tag",tagType:"allow-cache"},e[1]&&(n.allowed=!/NO/.test(e[1])),void this.trigger("data",n);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"map"},e[1]){var i=h(e[1]);if(i.URI&&(n.uri=i.URI),i.BYTERANGE){var r=i.BYTERANGE.split("@"),a=s(r,2),o=a[0],u=a[1];n.byterange={},o&&(n.byterange.length=parseInt(o,10)),u&&(n.byterange.offset=parseInt(u,10))}}return void this.trigger("data",n)}if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(n={type:"tag",tagType:"stream-inf"},e[1]){if(n.attributes=h(e[1]),n.attributes.RESOLUTION){var l=n.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}return void this.trigger("data",n)}return(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))?(n={type:"tag",tagType:"media"},e[1]&&(n.attributes=h(e[1])),void this.trigger("data",n)):(e=/^#EXT-X-ENDLIST/.exec(t))?void this.trigger("data",{type:"tag",tagType:"endlist"}):(e=/^#EXT-X-DISCONTINUITY/.exec(t))?void this.trigger("data",{type:"tag",tagType:"discontinuity"}):(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))?(n={type:"tag",tagType:"program-date-time"},e[1]&&(n.dateTimeString=e[1],n.dateTimeObject=new Date(e[1])),void this.trigger("data",n)):(e=/^#EXT-X-KEY:?(.*)$/.exec(t))?(n={type:"tag",tagType:"key"},e[1]&&(n.attributes=h(e[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n)):(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-out-cont"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-out"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))?(n={type:"tag",tagType:"cue-in"},e[1]?n.data=e[1]:n.data="",void this.trigger("data",n)):void this.trigger("data",{type:"tag",data:t.slice(4)})}}}]),e}(c.default);e.default=p},810:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(808),c=i(l),d=n(807),h=i(d),p=n(809),f=i(p),m=function(t){function e(){r(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.lineStream=new h.default,t.parseStream=new f.default,t.lineStream.pipe(t.parseStream);var n=t,i=[],o={},u=void 0,l=void 0,c=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},p=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(t){var e=void 0,r=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function e(){var e={};"length"in t&&(o.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(o.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(o.duration=t.duration),0===t.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){return t.attributes?"NONE"===t.attributes.METHOD?void(l=null):t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void("undefined"!=typeof t.attributes.IV&&(l.iv=t.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){return isFinite(t.number)?void(this.manifest.mediaSequence=t.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){return isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,void(p=t.number)):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){return/VOD|EVENT/.test(t.playlistType)?void(this.manifest.playlistType=t.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){u={},t.uri&&(u.uri=t.uri),t.byterange&&(u.byterange=t.byterange)},"stream-inf":function(){return this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||d,t.attributes?(o.attributes||(o.attributes={}),void s(o.attributes,t.attributes)):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,!(t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{},e=n[t.attributes["GROUP-ID"]],r={default:/yes/i.test(t.attributes.DEFAULT)},r.default?r.autoselect=!0:r.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(r.language=t.attributes.LANGUAGE),t.attributes.URI&&(r.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(r.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(r.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(r.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=r},discontinuity:function(){p+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject},targetduration:function(){return!isFinite(t.duration)||t.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):void(this.manifest.targetDuration=t.duration)},totalduration:function(){return!isFinite(t.duration)||t.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):void(this.manifest.totalDuration=t.duration)},"cue-out":function(){o.cueOut=t.data},"cue-out-cont":function(){o.cueOutCont=t.data},"cue-in":function(){o.cueIn=t.data}})[t.tagType]||c).call(n)},uri:function(){o.uri=t.uri,i.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),l&&(o.key=l),o.timeline=p,u&&(o.map=u),o={}},comment:function(){}})[t.type].call(n)}),t}return o(e,t),u(e,[{key:"push",value:function(t){this.lineStream.push(t)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),e}(c.default);e.default=m},811:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(800),a=n(86),o=i(a),s=function(t,e){var n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if("undefined"!=typeof r.start)return{result:r.start,precise:!0};if("undefined"!=typeof r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=t.segments[i],"undefined"!=typeof r.end)return{result:n+r.end,precise:!0};if(n+=r.duration,"undefined"!=typeof r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},u=function(t,e){for(var n=0,i=void 0,r=e-t.mediaSequence;r<t.segments.length;r++){if(i=t.segments[r],"undefined"!=typeof i.start)return{result:i.start-n,precise:!0};if(n+=i.duration,"undefined"!=typeof i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},l=function(t,e,n){var i=void 0,r=void 0;return"undefined"==typeof e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(i=s(t,e),i.precise?i.result:(r=u(t,e),r.precise?r.result:i.result+n))},c=function(t,e,n){if(!t)return 0;if("number"!=typeof n&&(n=0),"undefined"==typeof e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return o.default.Infinity}return l(t,e,n)};e.duration=c;var d=function(t,e,n){var i=0;if(e>n){var r=[n,e];e=r[0],n=r[1]}if(e<0){for(var a=e;a<Math.min(0,n);a++)i+=t.targetDuration;e=0}for(var a=e;a<n;a++)i+=t.segments[a].duration;return i};e.sumDurations=d;var h=function(t){if(!t.segments.length)return 0;for(var e=t.segments.length-1,n=t.segments[e].duration||t.targetDuration,i=n+2*t.targetDuration;e--&&(n+=t.segments[e].duration,!(n>=i)););return Math.max(0,e)};e.safeLiveIndex=h;var p=function(t,e,n){if(!t||!t.segments)return null;if(t.endList)return c(t);if(null===e)return null;e=e||0;var i=n?h(t):t.segments.length;return l(t,t.mediaSequence+i,e)};e.playlistEnd=p;var f=function(t,e){var n=!0,i=e||0,a=p(t,e,n);return null===a?(0,r.createTimeRange)():(0,r.createTimeRange)(i,a)};e.seekable=f;var m=function(t){return t-Math.floor(t)===0},g=function(t,e){if(m(e))return e+.1*t;for(var n=e.toString().split(".")[1].length,i=1;i<=n;i++){var r=Math.pow(10,i),a=e*r;if(m(a)||i===n)return(a+t)/r}},y=g.bind(null,1),v=g.bind(null,-1),_=function(t,e,n,i){var r=void 0,a=void 0,o=t.segments.length,s=e-i;if(s<0){if(n>0)for(r=n-1;r>=0;r--)if(a=t.segments[r],s+=v(a.duration),s>0)return{mediaIndex:r,startTime:i-d(t,n,r)};return{mediaIndex:0,startTime:e}}if(n<0){for(r=n;r<0;r++)if(s-=t.targetDuration,s<0)return{mediaIndex:0,startTime:e};n=0}for(r=n;r<o;r++)if(a=t.segments[r],s-=y(a.duration),s<0)return{mediaIndex:r,startTime:i+d(t,n,r)};return{mediaIndex:o-1,startTime:e}};e.getMediaInfoForTime=_;var b=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()};e.isBlacklisted=b;var T=function(t){return t.excludeUntil&&t.excludeUntil===1/0};e.isIncompatible=T;var w=function(t){var e=b(t);return!t.disabled&&!e};e.isEnabled=w;var k=function(t){return t.disabled};e.isDisabled=k;var S=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1};e.isAes=S;var C=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1};e.isFmp4=C;var E=function(t,e){return e.attributes&&e.attributes[t]};e.hasAttribute=E;var O=function(t,e,n){var i=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!E("BANDWIDTH",n))return NaN;var r=t*n.attributes.BANDWIDTH;return(r-8*i)/e};e.estimateSegmentRequestTime=O;var A=function(t,e){if(1===t.playlists.length)return!0;var n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!w(t)&&(t.attributes.BANDWIDTH||0)<n}).length};e.isLowestEnabledRendition=A,e.default={duration:c,seekable:f,safeLiveIndex:h,getMediaInfoForTime:_,isEnabled:w,isDisabled:k,isBlacklisted:b,isIncompatible:T,playlistEnd:p,isAes:S,isFmp4:C,hasAttribute:E,estimateSegmentRequestTime:O,isLowestEnabledRendition:A}},812:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(800),a=i(r),o=function(){var t=function t(e,n){e=(0,r.mergeOptions)({timeout:45e3},e);var i=t.beforeRequest||a.default.Hls.xhr.beforeRequest;if(i&&"function"==typeof i){var o=i(e);o&&(e=o)}var s=(0,r.xhr)(e,function(t,e){var i=s.response;!t&&i&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=i.byteLength||i.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),t&&"ETIMEDOUT"===t.code&&(s.timedout=!0),t||s.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(s&&(i||s.responseText)))),n(t,s)}),u=s.abort;return s.abort=function(){return s.aborted=!0,u.apply(s,arguments)},s.uri=e.uri,s.requestTime=Date.now(),s};return t};e.default=o,t.exports=e.default},813:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(814),a=n(816),o=i(a);e.default={decrypt:r.decrypt,Decrypter:r.Decrypter,AsyncStream:o.default},t.exports=e.default},814:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(815),s=i(o),u=n(816),l=i(u),c=n(818),d=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},h=function(t,e,n){var i=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new s.default(Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),o=new Int32Array(a.buffer),u=void 0,l=void 0,c=void 0,h=void 0,p=void 0,f=void 0,m=void 0,g=void 0,y=void 0;for(u=n[0],l=n[1],c=n[2],h=n[3],y=0;y<i.length;y+=4)p=d(i[y]),f=d(i[y+1]),m=d(i[y+2]),g=d(i[y+3]),r.decrypt(p,f,m,g,o,y),o[y]=d(o[y]^u),o[y+1]=d(o[y+1]^l),o[y+2]=d(o[y+2]^c),o[y+3]=d(o[y+3]^h),u=p,l=f,c=m,h=g;return a};e.decrypt=h;var p=function(){function t(e,n,i,a){r(this,t);var o=t.STEP,s=new Int32Array(e.buffer),u=new Uint8Array(e.byteLength),h=0;for(this.asyncStream_=new l.default,this.asyncStream_.push(this.decryptChunk_(s.subarray(h,h+o),n,i,u)),h=o;h<s.length;h+=o)i=new Uint32Array([d(s[h-4]),d(s[h-3]),d(s[h-2]),d(s[h-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(h,h+o),n,i,u));this.asyncStream_.push(function(){a(null,(0,c.unpad)(u))})}return a(t,[{key:"decryptChunk_",value:function(t,e,n,i){return function(){var r=h(t,e,n);i.set(r,t.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),t}();e.Decrypter=p,e.default={Decrypter:p,decrypt:h}},815:function(t,e){/**
	 * @file aes.js
	 *
	 * This file contains an adaptation of the AES decryption algorithm
	 * from the Standford Javascript Cryptography Library. That work is
	 * covered by the following copyright and permissions notice:
	 *
	 * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.
	 * All rights reserved.
	 *
	 * Redistribution and use in source and binary forms, with or without
	 * modification, are permitted provided that the following conditions are
	 * met:
	 *
	 * 1. Redistributions of source code must retain the above copyright
	 *    notice, this list of conditions and the following disclaimer.
	 *
	 * 2. Redistributions in binary form must reproduce the above
	 *    copyright notice, this list of conditions and the following
	 *    disclaimer in the documentation and/or other materials provided
	 *    with the distribution.
	 *
	 * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR
	 * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
	 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	 * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE
	 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
	 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
	 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
	 * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
	 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
	 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
	 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	 *
	 * The views and conclusions contained in the software and documentation
	 * are those of the authors and should not be interpreted as representing
	 * official policies, either expressed or implied, of the authors.
	 */
"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],n=t[1],i=e[4],r=n[4],a=void 0,o=void 0,s=void 0,u=[],l=[],c=void 0,d=void 0,h=void 0,p=void 0,f=void 0,m=void 0;for(a=0;a<256;a++)l[(u[a]=a<<1^283*(a>>7))^a]=a;for(o=s=0;!i[o];o^=c||1,s=l[s]||1)for(p=s^s<<1^s<<2^s<<3^s<<4,p=p>>8^255&p^99,i[o]=p,r[p]=o,h=u[d=u[c=u[o]]],m=16843009*h^65537*d^257*c^16843008*o,f=257*u[p]^16843008*p,a=0;a<4;a++)e[a][o]=f=f<<24^f>>>8,n[a][p]=m=m<<24^m>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),n[a]=n[a].slice(0);return t},a=null,o=function(){function t(e){n(this,t),a||(a=r()),this._tables=[[a[0][0].slice(),a[0][1].slice(),a[0][2].slice(),a[0][3].slice(),a[0][4].slice()],[a[1][0].slice(),a[1][1].slice(),a[1][2].slice(),a[1][3].slice(),a[1][4].slice()]];var i=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=this._tables[0][4],d=this._tables[1],h=e.length,p=1;if(4!==h&&6!==h&&8!==h)throw new Error("Invalid aes key size");for(u=e.slice(0),l=[],this._key=[u,l],i=h;i<4*h+28;i++)s=u[i-1],(i%h===0||8===h&&i%h===4)&&(s=c[s>>>24]<<24^c[s>>16&255]<<16^c[s>>8&255]<<8^c[255&s],i%h===0&&(s=s<<8^s>>>24^p<<24,p=p<<1^283*(p>>7))),u[i]=u[i-h]^s;for(o=0;i;o++,i--)s=u[3&o?i:i-4],i<=4||o<4?l[o]=s:l[o]=d[0][c[s>>>24]]^d[1][c[s>>16&255]]^d[2][c[s>>8&255]]^d[3][c[255&s]]}return i(t,[{key:"decrypt",value:function(t,e,n,i,r,a){var o=this._key[1],s=t^o[0],u=i^o[1],l=n^o[2],c=e^o[3],d=void 0,h=void 0,p=void 0,f=o.length/4-2,m=void 0,g=4,y=this._tables[1],v=y[0],_=y[1],b=y[2],T=y[3],w=y[4];for(m=0;m<f;m++)d=v[s>>>24]^_[u>>16&255]^b[l>>8&255]^T[255&c]^o[g],h=v[u>>>24]^_[l>>16&255]^b[c>>8&255]^T[255&s]^o[g+1],p=v[l>>>24]^_[c>>16&255]^b[s>>8&255]^T[255&u]^o[g+2],c=v[c>>>24]^_[s>>16&255]^b[u>>8&255]^T[255&l]^o[g+3],g+=4,s=d,u=h,l=p;for(m=0;m<4;m++)r[(3&-m)+a]=w[s>>>24]<<24^w[u>>16&255]<<16^w[l>>8&255]<<8^w[255&c]^o[g++],d=s,s=u,u=l,l=c,c=d}}]),t}();e.default=o,t.exports=e.default},816:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(817),l=i(u),c=function(t){function e(){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,l.default),this.jobs=[],this.delay=1,this.timeout_=null}return a(e,t),o(e,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),e}(l.default);e.default=c,t.exports=e.default},817:function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){n(this,t),this.listeners={}}return i(t,[{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){var n=void 0;return!!this.listeners[t]&&(n=this.listeners[t].indexOf(e),this.listeners[t].splice(n,1),n>-1)}},{key:"trigger",value:function(t){var e=void 0,n=void 0,i=void 0,r=void 0;if(e=this.listeners[t])if(2===arguments.length)for(i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),i=e.length,n=0;n<i;++n)e[n].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),t}();e.default=r,t.exports=e.default},818:function(t,e,n){/*
	 * pkcs7
	 * https://github.com/brightcove/pkcs7
	 *
	 * Copyright (c) 2014 Brightcove
	 * Licensed under the apache2 license.
	 */
"use strict";e.pad=n(819),e.unpad=n(820)},819:function(t,e){/*
	 * pkcs7.pad
	 * https://github.com/brightcove/pkcs7
	 *
	 * Copyright (c) 2014 Brightcove
	 * Licensed under the apache2 license.
	 */
"use strict";var n;t.exports=function(t){var e=n[t.byteLength%16||0],i=new Uint8Array(t.byteLength+e.length);return i.set(t),i.set(e,t.byteLength),i},n=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},820:function(t,e){/*
	 * pkcs7.unpad
	 * https://github.com/brightcove/pkcs7
	 *
	 * Copyright (c) 2014 Brightcove
	 * Licensed under the apache2 license.
	 */
"use strict";t.exports=function(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}},821:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return t.start(e)+"-"+t.end(e)},i=function(t,e){var n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},r=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},a=function(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n];ArrayBuffer.isView(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i}),e},o=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},s={hexDump:function(t){for(var e=Array.prototype.slice.call(t),n=16,a="",o=void 0,s=void 0,u=0;u<e.length/n;u++)o=e.slice(u*n,u*n+n).map(i).join(""),s=e.slice(u*n,u*n+n).map(r).join(""),a+=o+" "+s+"\n";return a},tagDump:function(t){return s.hexDump(t.bytes)},textRanges:function(t){var e="",i=void 0;for(i=0;i<t.length;i++)e+=n(t,i)+" ";return e},createTransferableMessage:a,initSegmentId:o};e.default=s,t.exports=e.default},822:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),a=i(r),o=n(823),s=i(o),u=n(847),l=i(u),c=n(800),d=i(c),h=0,p={mode:"auto"};d.default.mediaSources={};var f=function(t,e){var n=d.default.mediaSources[t];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:e})},m=function(){return!!a.default.MediaSource&&!!a.default.MediaSource.isTypeSupported&&a.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},g=function(t){var e=d.default.mergeOptions(p,t);if(this.MediaSource={open:f,supportsNativeMediaSources:m},"html5"===e.mode||"auto"===e.mode&&m())return new l.default;if(d.default.getTech("Flash"))return new s.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};e.MediaSource=g,g.open=f,g.supportsNativeMediaSources=m;var y={createObjectURL:function(t){var e="blob:vjs-media-source/",n=void 0;return t instanceof l.default?(n=a.default.URL.createObjectURL(t.nativeMediaSource_),t.url_=n,n):t instanceof s.default?(n=e+h,h++,d.default.mediaSources[n]=t,n):(n=a.default.URL.createObjectURL(t),t.url_=n,n)}};e.URL=y,d.default.MediaSource=g,d.default.URL=y},823:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(795),l=i(u),c=n(800),d=i(c),h=n(824),p=i(h),f=n(845),m=i(f),g=n(846),y=function(t){function e(){var t=this;r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(e){t.swfObj=l.default.getElementById(e.swfId),t.player_=(0,d.default)(t.swfObj.parentNode),t.tech_=t.swfObj.tech,t.readyState="open",t.tech_.on("seeking",function(){for(var e=t.sourceBuffers.length;e--;)t.sourceBuffers[e].abort()}),t.swfObj&&t.swfObj.vjs_load()})}return a(e,t),o(e,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(t){var e=(0,g.parseContentType)(t),n=void 0;if("video/mp2t"!==e.type&&"audio/mp2t"!==e.type)throw new Error("NotSupportedError (Video.js)");return n=new p.default(this),this.sourceBuffers.push(n),n}},{key:"endOfStream",value:function(t){"network"===t?this.tech_.error(2):"decode"===t&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),e}(d.default.EventTarget);e.default=y;try{Object.defineProperty(y.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(t){var e=void 0,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",t),t<n)for(e=0;e<this.sourceBuffers.length;e++)this.sourceBuffers[e].remove(t,n);return t}})}catch(t){y.prototype.duration=NaN}for(var v in m.default)y[v]=m.default[v];t.exports=e.default},824:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(86),l=i(u),c=n(800),d=i(c),h=n(825),p=i(h),f=n(840),m=i(f),g=n(841),y=i(g),v=n(842),_=n(843),b=i(_),T=n(844),w=i(T),k=n(845),S=i(k),C=function(){var t=void 0;try{t=843}catch(t){}return t},E=function(t){l.default.setTimeout(t,S.default.TIME_BETWEEN_CHUNKS)},O=function(){return Math.random().toString(36).slice(2,8)},A=function(t,e){("number"!=typeof e||e<0)&&(e=0);var n=Math.pow(10,e);return Math.round(t*n)/n},x=function(t){function e(t){var n=this;r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var i=void 0;this.chunkSize_=S.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=t,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,i=l.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(p.default.getFlvHeader())));var a=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+a+O(),this.flashEncodedDataName_="vjs_flashEncodedData_"+a+O(),l.default[this.flashEncodedHeaderName_]=function(){return delete l.default[n.flashEncodedHeaderName_],i},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,w.default)(b.default,C()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(t){"data"===t.data.action&&n.receiveBuffer_(t.data.segment)},this.one("updateend",function(){n.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return d.default.createTimeRange();var t=this.mediaSource_.swfObj.vjs_getProperty("buffered");return t&&t.length&&(t[0][0]=A(t[0][0],3),t[0][1]=A(t[0][1],3)),d.default.createTimeRanges(t)}}),this.mediaSource_.player_.on("seeked",function(){if((0,m.default)(0,1/0,n.metadataTrack_),n.inbandTextTracks_)for(var t in n.inbandTextTracks_)(0,m.default)(0,1/0,n.inbandTextTracks_[t])});var o=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",o),this.mediaSource_.player_.tech_.hls.on("dispose",function(){n.transmuxer_.terminate(),n.mediaSource_.player_.tech_.off("hls-reset",o)})}return a(e,t),o(e,[{key:"appendBuffer",value:function(t){var e=void 0;if(this.updating)throw e=new Error("SourceBuffer.append() cannot be called while an update is in progress"),e.name="InvalidStateError",e.code=11,e;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(t,e){if((0,m.default)(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,m.default)(t,e,this.inbandTextTracks_[n]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(t){var e=this;(0,y.default)(this,this.mediaSource_,t),(0,v.addTextTrackData)(this,t.captions,t.metadata),E(function(){var n=e.convertTagsToData_(t);0===e.buffer_.length&&E(e.processBuffer_.bind(e)),n&&(e.buffer_.push(n),e.bufferSize_+=n.byteLength)})}},{key:"processBuffer_",value:function(){var t=this,e=S.default.BYTES_PER_CHUNK;if(!this.buffer_.length)return void(this.updating!==!1&&(this.updating=!1,this.trigger({type:"updateend"})));var n=this.buffer_[0].subarray(0,e);n.byteLength<e||this.buffer_[0].byteLength===e?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(e),this.bufferSize_-=n.byteLength;for(var i=[],r=n.byteLength,a=0;a<r;a++)i.push(String.fromCharCode(n[a]));var o=l.default.btoa(i.join(""));l.default[this.flashEncodedDataName_]=function(){return E(t.processBuffer_.bind(t)),delete l.default[t.flashEncodedDataName_],o},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}},{key:"convertTagsToData_",value:function(t){var e=0,n=this.mediaSource_.tech_,i=0,r=void 0,a=t.tags.videoTags,o=t.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(a.length||o.length)){var s=a[0]||{pts:1/0},u=o[0]||{pts:1/0};this.basePtsOffset_=Math.min(u.pts,s.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(i=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(i=Math.max(i,n.currentTime()-this.timestampOffset)),i*=1e3,i+=this.basePtsOffset_):i=this.videoBufferEnd_+.1;var l=a.length;if(l&&a[l-1].pts>=i){for(;--l;){var c=a[l];if(!(c.pts>i)&&(c.keyFrame||c.metaDataTag))break}for(;l;){var d=a[l-1];if(!d.metaDataTag)break;l--}}var h=a.slice(l),p=void 0;for(p=isNaN(this.audioBufferEnd_)?i:this.audioBufferEnd_+.1,h.length&&(p=Math.min(p,h[0].pts)),l=0;l<o.length&&!(o[l].pts>=p);)l++;var f=o.slice(l);f.length&&(this.audioBufferEnd_=f[f.length-1].pts),h.length&&(this.videoBufferEnd_=h[h.length-1].pts);var m=this.getOrderedTags_(h,f);if(0!==m.length){if(m[0].pts<i&&n.seeking()){var g=1/30,y=n.currentTime(),v=(i-m[0].pts)/1e3,_=y-v;_<g&&(_=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(_)}catch(t){}}for(var b=0;b<m.length;b++)e+=m[b].bytes.byteLength;r=new Uint8Array(e);for(var b=0,T=0;b<m.length;b++)r.set(m[b].bytes,T),T+=m[b].bytes.byteLength;return r}}},{key:"getOrderedTags_",value:function(t,e){for(var n=void 0,i=[];t.length||e.length;)n=t.length?e.length&&e[0].dts<t[0].dts?e.shift():t.shift():e.shift(),i.push(n);return i}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),e}(d.default.EventTarget);e.default=x,t.exports=e.default},825:function(t,e,n){t.exports={tag:n(826),Transmuxer:n(827),getFlvHeader:n(839)}},826:function(t,e){"use strict";var n;n=function(t,e){var i,r=0,a=16384,o=function(t,e){var n,i=t.position+e;i<t.bytes.byteLength||(n=new Uint8Array(2*i),n.set(t.bytes.subarray(0,t.position),0),t.bytes=n,t.view=new DataView(t.bytes.buffer))},s=n.widthBytes||new Uint8Array("width".length),u=n.heightBytes||new Uint8Array("height".length),l=n.videocodecidBytes||new Uint8Array("videocodecid".length);if(!n.widthBytes){for(i=0;i<"width".length;i++)s[i]="width".charCodeAt(i);for(i=0;i<"height".length;i++)u[i]="height".charCodeAt(i);for(i=0;i<"videocodecid".length;i++)l[i]="videocodecid".charCodeAt(i);n.widthBytes=s,n.heightBytes=u,n.videocodecidBytes=l}switch(this.keyFrame=!1,t){case n.VIDEO_TAG:this.length=16,a*=6;break;case n.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case n.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(a),this.view=new DataView(this.bytes.buffer),this.bytes[0]=t,this.position=this.length,this.keyFrame=e,this.pts=0,this.dts=0,this.writeBytes=function(t,e,n){var i,r=e||0;n=n||t.byteLength,i=r+n,o(this,n),this.bytes.set(t.subarray(r,i),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(t){o(this,1),this.bytes[this.position]=t,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(t){o(this,2),this.view.setUint16(this.position,t),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(t){return this.bytes[this.length-t]},this.nalUnitSize=function(){return 0===r?0:this.length-(r+4)},this.startNalUnit=function(){if(r>0)throw new Error("Attempted to create new NAL wihout closing the old one");r=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(t){var e,n;this.length===r+4?this.length-=4:r>0&&(e=r+4,n=this.length-e,this.position=r,this.view.setUint32(this.position,n),this.position=this.length,t&&t.push(this.bytes.subarray(e,e+n))),r=0},this.writeMetaDataDouble=function(t,e){var n;if(o(this,2+t.length+9),this.view.setUint16(this.position,t.length),this.position+=2,"width"===t)this.bytes.set(s,this.position),this.position+=5;else if("height"===t)this.bytes.set(u,this.position),this.position+=6;else if("videocodecid"===t)this.bytes.set(l,this.position),this.position+=12;else for(n=0;n<t.length;n++)this.bytes[this.position]=t.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,e),this.position+=8,this.length=Math.max(this.length,this.position),++r},this.writeMetaDataBoolean=function(t,e){var n;for(o(this,2),this.view.setUint16(this.position,t.length),this.position+=2,n=0;n<t.length;n++)o(this,1),this.bytes[this.position]=t.charCodeAt(n),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,e?1:0),this.position++,this.length=Math.max(this.length,this.position),++r},this.finalize=function(){var t,i;switch(this.bytes[0]){case n.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||e?16:32),this.bytes[12]=e?0:1,t=this.pts-this.dts,this.bytes[13]=(16711680&t)>>>16,this.bytes[14]=(65280&t)>>>8,this.bytes[15]=(255&t)>>>0;break;case n.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=e?0:1;break;case n.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,r),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return i=this.length-11,this.bytes[1]=(16711680&i)>>>16,this.bytes[2]=(65280&i)>>>8,this.bytes[3]=(255&i)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=n.frameTime(this.bytes),this}},n.AUDIO_TAG=8,n.VIDEO_TAG=9,n.METADATA_TAG=18,n.isAudioFrame=function(t){return n.AUDIO_TAG===t[0]},n.isVideoFrame=function(t){return n.VIDEO_TAG===t[0]},n.isMetaData=function(t){return n.METADATA_TAG===t[0]},n.isKeyFrame=function(t){return n.isVideoFrame(t)?23===t[11]:!!n.isAudioFrame(t)||!!n.isMetaData(t)},n.frameTime=function(t){var e=t[4]<<16;return e|=t[5]<<8,e|=t[6]<<0,e|=t[7]<<24},t.exports=n},827:function(t,e,n){"use strict";var i,r,a,o,s,u,l=n(828),c=n(826),d=n(829),h=n(834),p=n(835).H264Stream,f=n(837),m=n(838);o=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts?t.timelineStartInfo.pts=e.pts:t.timelineStartInfo.pts=Math.min(t.timelineStartInfo.pts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts?t.timelineStartInfo.dts=e.dts:t.timelineStartInfo.dts=Math.min(t.timelineStartInfo.dts,e.dts))},s=function(t,e){var n=new c(c.METADATA_TAG);return n.dts=e,n.pts=e,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",t.width),n.writeMetaDataDouble("height",t.height),n},u=function(t,e){var n,i=new c(c.VIDEO_TAG,(!0));for(i.dts=e,i.pts=e,i.writeByte(1),i.writeByte(t.profileIdc),i.writeByte(t.profileCompatibility),i.writeByte(t.levelIdc),i.writeByte(255),i.writeByte(225),i.writeShort(t.sps[0].length),i.writeBytes(t.sps[0]),i.writeByte(t.pps.length),n=0;n<t.pps.length;++n)i.writeShort(t.pps[n].length),i.writeBytes(t.pps[n]);return i},a=function(t){var e,n=[],i=[];a.prototype.init.call(this),this.push=function(e){o(t,e),t&&(t.audioobjecttype=e.audioobjecttype,t.channelcount=e.channelcount,t.samplerate=e.samplerate,t.samplingfrequencyindex=e.samplingfrequencyindex,t.samplesize=e.samplesize,t.extraData=t.audioobjecttype<<11|t.samplingfrequencyindex<<7|t.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){var r,a,o,s=new m;if(0===n.length)return void this.trigger("done","AudioSegmentStream");for(o=-(1/0);n.length;)r=n.shift(),i.length&&r.pts>=i[0]&&(o=i.shift(),this.writeMetaDataTags(s,o)),(t.extraData!==e||r.pts-o>=1e3)&&(this.writeMetaDataTags(s,r.pts),e=t.extraData,o=r.pts),a=new c(c.AUDIO_TAG),a.pts=r.pts,a.dts=r.dts,a.writeBytes(r.data),s.push(a.finalize());i.length=0,e=null,this.trigger("data",{track:t,tags:s.list}),this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(e,n){var i;i=new c(c.METADATA_TAG),i.pts=n,i.dts=n,i.writeMetaDataDouble("audiocodecid",10),i.writeMetaDataBoolean("stereo",2===t.channelcount),i.writeMetaDataDouble("audiosamplerate",t.samplerate),i.writeMetaDataDouble("audiosamplesize",16),e.push(i.finalize()),i=new c(c.AUDIO_TAG,(!0)),i.pts=n,i.dts=n,i.view.setUint16(i.position,t.extraData),i.position+=2,i.length=Math.max(i.length,i.position),e.push(i.finalize())},this.onVideoKeyFrame=function(t){i.push(t)}},a.prototype=new l,r=function(t){var e,n,i=[];r.prototype.init.call(this),this.finishFrame=function(i,r){if(r){if(e&&t&&t.newMetadata&&(r.keyFrame||0===i.length)){var a=s(e,r.dts).finalize(),o=u(t,r.dts).finalize();a.metaDataTag=o.metaDataTag=!0,i.push(a),i.push(o),t.newMetadata=!1,this.trigger("keyframe",r.dts)}r.endNalUnit(),i.push(r.finalize()),n=null}},this.push=function(e){o(t,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),i.push(e)},this.flush=function(){for(var r,a=new m;i.length&&"access_unit_delimiter_rbsp"!==i[0].nalUnitType;)i.shift();if(0===i.length)return void this.trigger("done","VideoSegmentStream");for(;i.length;)r=i.shift(),"seq_parameter_set_rbsp"===r.nalUnitType?(t.newMetadata=!0,e=r.config,t.width=e.width,t.height=e.height,t.sps=[r.data],t.profileIdc=e.profileIdc,t.levelIdc=e.levelIdc,t.profileCompatibility=e.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===r.nalUnitType?(t.newMetadata=!0,t.pps=[r.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===r.nalUnitType?(n&&this.finishFrame(a,n),n=new c(c.VIDEO_TAG),n.pts=r.pts,n.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(r.data);n&&this.finishFrame(a,n),this.trigger("data",{track:t,tags:a.list}),this.trigger("done","VideoSegmentStream")}},r.prototype=new l,i=function(t){var e,n,o,s,u,l,c,m,g,y,v,_,b=this;i.prototype.init.call(this),t=t||{},this.metadataStream=new d.MetadataStream,t.metadataStream=this.metadataStream,e=new d.TransportPacketStream,n=new d.TransportParseStream,o=new d.ElementaryStream,s=new d.TimestampRolloverStream("video"),u=new d.TimestampRolloverStream("audio"),l=new d.TimestampRolloverStream("timed-metadata"),c=new h,m=new p,_=new f(t),e.pipe(n).pipe(o),o.pipe(s).pipe(m),o.pipe(u).pipe(c),o.pipe(l).pipe(this.metadataStream).pipe(_),v=new d.CaptionStream,m.pipe(v).pipe(_),o.on("data",function(t){var e,n,i;if("metadata"===t.type){for(e=t.tracks.length;e--;)"video"===t.tracks[e].type?n=t.tracks[e]:"audio"===t.tracks[e].type&&(i=t.tracks[e]);n&&!g&&(_.numberOfTracks++,g=new r(n),m.pipe(g).pipe(_)),i&&!y&&(_.numberOfTracks++,y=new a(i),c.pipe(y).pipe(_),g&&g.on("keyframe",y.onVideoKeyFrame))}}),this.push=function(t){e.push(t)},this.flush=function(){e.flush()},this.resetCaptions=function(){v.reset()},_.on("data",function(t){b.trigger("data",t)}),_.on("done",function(){b.trigger("done")})},i.prototype=new l,t.exports=i},828:function(t,e){/**
	 * mux.js
	 *
	 * Copyright (c) 2014 Brightcove
	 * All rights reserved.
	 *
	 * A lightweight readable stream implemention that handles event dispatching.
	 * Objects that inherit from streams should call init in their constructors.
	 */
"use strict";var n=function(){this.init=function(){var t={};this.on=function(e,n){t[e]||(t[e]=[]),t[e]=t[e].concat(n)},this.off=function(e,n){var i;return!!t[e]&&(i=t[e].indexOf(n),t[e]=t[e].slice(),t[e].splice(i,1),i>-1)},this.trigger=function(e){var n,i,r,a;if(n=t[e])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(a=[],i=arguments.length,i=1;i<arguments.length;++i)a.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},this.dispose=function(){t={}}}};n.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},n.prototype.push=function(t){this.trigger("data",t)},n.prototype.flush=function(t){this.trigger("done",t)},t.exports=n},829:function(t,e,n){/**
	 * mux.js
	 *
	 * Copyright (c) 2015 Brightcove
	 * All rights reserved.
	 *
	 * A stream-based mp2t to mp4 converter. This utility can be used to
	 * deliver mp4s to a SourceBuffer on platforms that support native
	 * Media Source Extensions.
	 */
"use strict";var i,r,a,o=n(828),s=n(830),u=n(831),l=n(832).TimestampRolloverStream,c=n(831),d=188,h=71;i=function(){var t=new Uint8Array(d),e=0;i.prototype.init.call(this),this.push=function(n){var i,r=0,a=d;for(e?(i=new Uint8Array(n.byteLength+e),i.set(t.subarray(0,e)),i.set(n,e),e=0):i=n;a<i.byteLength;)i[r]!==h||i[a]!==h?(r++,a++):(this.trigger("data",i.subarray(r,a)),r+=d,a+=d);r<i.byteLength&&(t.set(i.subarray(r),0),e=i.byteLength-r)},this.flush=function(){e===d&&t[0]===h&&(this.trigger("data",t),e=0),this.trigger("done")}},i.prototype=new o,r=function(){var t,e,n,i;r.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,i){var r=0;i.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===i.type?e(t.subarray(r),i):n(t.subarray(r),i)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],i.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=i.pmtPid},n=function(t,e){var n,r,a,o;if(1&t[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&t[1])<<8|t[2],r=3+n-4,a=(15&t[10])<<8|t[11],o=12+a;o<r;){var s=t[o],l=(31&t[o+1])<<8|t[o+2];s===u.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=l:s===u.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=l:s===u.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][l]=s),o+=((15&t[o+3])<<8|t[o+4])+5}e.programMapTable=i.programMapTable}},this.push=function(e){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&e[1]),n.pid=31&e[1],n.pid<<=8,n.pid|=e[2],(48&e[3])>>>4>1&&(i+=e[i]+1),0===n.pid)n.type="pat",t(e.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",t(e.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,n]):this.processPes_(e,i,n)},this.processPes_=function(t,e,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=t.subarray(e),this.trigger("data",n)}},r.prototype=new o,r.STREAM_TYPES={h264:27,adts:15},a=function(){var t=this,e={data:[],size:0},n={data:[],size:0},i={data:[],size:0},r=function(t,e){var n;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!==(4&t[6]),n=t[7],192&n&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&n&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])},o=function(e,n,i){var a,o=new Uint8Array(e.size),s={type:n},u=0,l=0,c=!1;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)a=e.data[u],o.set(a.data,l),l+=a.data.byteLength;r(o,s),c="video"===n||s.packetLength<=e.size,(i||c)&&(e.size=0,e.data.length=0),c&&t.trigger("data",s)}};a.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var t,a;switch(r.streamType){case u.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:t=e,a="video";break;case u.ADTS_STREAM_TYPE:t=n,a="audio";break;case u.METADATA_STREAM_TYPE:t=i,a="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&o(t,a,!0),t.data.push(r),t.size+=r.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},n=r.programMapTable;null!==n.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[r.type]()},this.flush=function(){o(e,"video"),o(n,"audio"),o(i,"timed-metadata"),this.trigger("done")}},a.prototype=new o;var p={PAT_PID:0,MP2T_PACKET_LENGTH:d,TransportPacketStream:i,TransportParseStream:r,ElementaryStream:a,TimestampRolloverStream:l,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:n(833)};for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f]);t.exports=p},830:function(t,e,n){/**
	 * mux.js
	 *
	 * Copyright (c) 2015 Brightcove
	 * All rights reserved.
	 *
	 * Reads in-band caption information from a video elementary
	 * stream. Captions must follow the CEA-708 standard for injection
	 * into an MPEG-2 transport streams.
	 * @see https://en.wikipedia.org/wiki/CEA-708
	 * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf
	 */
"use strict";var i=4,r=128,a=n(828),o=function(t){for(var e=0,n={payloadType:-1,payloadSize:0},a=0,o=0;e<t.byteLength&&t[e]!==r;){for(;255===t[e];)a+=255,e++;for(a+=t[e++];255===t[e];)o+=255,e++;if(o+=t[e++],!n.payload&&a===i){n.payloadType=a,n.payloadSize=o,n.payload=t.subarray(e,e+o);break}e+=o,a=0,o=0}return n},s=function(t){return 181!==t.payload[0]?null:49!==(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},u=function(t,e){var n,i,r,a,o=[];if(!(64&e[0]))return o;for(i=31&e[0],n=0;n<i;n++)r=3*n,a={type:3&e[r+2],pts:t},4&e[r+2]&&(a.ccData=e[r+3]<<8|e[r+4],o.push(a));return o},l=function(){l.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new m(0,0),new m(0,1),new m(1,0),new m(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};l.prototype=new a,l.prototype.push=function(t){var e,n;if("sei_rbsp"===t.nalUnitType&&(e=o(t.escapedRBSP),e.payloadType===i&&(n=s(e)))){if(t.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(this.ignoreNextEqualDts_=!1);this.captionPackets_=this.captionPackets_.concat(u(t.pts,n)),this.latestDts_=t.dts}},l.prototype.flush=function(){return this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,void this.ccStreams_.forEach(function(t){t.flush()},this)):void this.ccStreams_.forEach(function(t){t.flush()},this)},l.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},l.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},l.prototype.setsChannel1Active=function(t){return 4096===(30720&t.ccData)},l.prototype.setsChannel2Active=function(t){return 6144===(30720&t.ccData)};var c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},d=function(t){return null===t?"":(t=c[t]||t,String.fromCharCode(t))},h=14,p=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],f=function(){for(var t=[],e=h+1;e--;)t.push("");return t},m=function(t,e){m.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(t){var e,n,i,r,a;if(e=32639&t.ccData,e===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096===(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),i=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.topRow_=h-1,this.mode_="rollUp";else if(e===this.ROLL_UP_3_ROWS_)this.topRow_=h-2,this.mode_="rollUp";else if(e===this.ROLL_UP_4_ROWS_)this.topRow_=h-3,this.mode_="rollUp";else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[h]=this.nonDisplayed_[h].slice(0,-1):this.displayed_[h]=this.displayed_[h].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=f();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=f();else if(e===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(i,r))i=(3&i)<<8,a=d(i|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[h]=this.displayed_[h].slice(0,-1),i=(3&i)<<8,a=d(i|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14===(14&r)&&this.addFormatting(t.pts,["i"]),1===(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var o=p.indexOf(7968&e);o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&r&&this.formatting_.indexOf("u")===-1&&this.addFormatting(t.pts,["u"]),16===(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14===(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=d(i),a+=d(r),this[this.mode_](t.pts,a),this.column_+=a.length)}};m.prototype=new a,m.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){return t.trim()}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},m.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=f(),this.nonDisplayed_=f(),this.lastControlCode_=null,this.column_=0,this.row_=h,this.formatting_=[]},m.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},m.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},m.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},m.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},m.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},m.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},m.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},m.prototype.isNormalChar=function(t){return t>=32&&t<=127},m.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var n=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,n)},m.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},m.prototype.popOn=function(t,e){var n=this.nonDisplayed_[this.row_];n+=e,this.nonDisplayed_[this.row_]=n},m.prototype.rollUp=function(t,e){var n=this.displayed_[h];n+=e,this.displayed_[h]=n},m.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.topRow_;t<h;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[h]=""},m.prototype.paintOn=function(){},t.exports={CaptionStream:l,Cea608Stream:m}},831:function(t,e){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},832:function(t,e,n){/**
	 * mux.js
	 *
	 * Copyright (c) 2016 Brightcove
	 * All rights reserved.
	 *
	 * Accepts program elementary stream (PES) data events and corrects
	 * decode and presentation time stamps to account for a rollover
	 * of the 33 bit value.
	 */
"use strict";var i=n(828),r=8589934592,a=4294967296,o=function(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>a;)t+=n*r;return t},s=function(t){var e,n;s.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=o(t.dts,n),t.pts=o(t.pts,n),e=t.dts,this.trigger("data",t))},this.flush=function(){n=e,this.trigger("done")},this.discontinuity=function(){n=void 0,e=void 0}};s.prototype=new i,t.exports={TimestampRolloverStream:s,handleRollover:o}},833:function(t,e,n){"use strict";var i,r=n(828),a=n(831),o=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},s=function(t,e,n){return decodeURIComponent(o(t,e,n))},u=function(t,e,n){return unescape(o(t,e,n))},l=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},c={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.value=s(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=s(t.data,1,e),t.url=s(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=u(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};i=function(t){var e,n={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},r=0,o=[],s=0;if(i.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(e=0;e<n.descriptor.length;e++)this.dispatchType+=("00"+n.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,i,a,u,d,h;if("timed-metadata"===t.type){if(t.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))return void(n.debug&&console.log("Skipping unrecognized metadata packet"));if(o.push(t),s+=t.data.byteLength,1===o.length&&(r=l(t.data.subarray(6,10)),r+=10),!(s<r)){for(e={data:new Uint8Array(r),frames:[],pts:o[0].pts,dts:o[0].dts},d=0;d<r;)e.data.set(o[0].data.subarray(0,r-d),d),d+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();i=10,64&e.data[5]&&(i+=4,i+=l(e.data.subarray(10,14)),r-=l(e.data.subarray(16,20)));do{if(a=l(e.data.subarray(i+4,i+8)),a<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(h=String.fromCharCode(e.data[i],e.data[i+1],e.data[i+2],e.data[i+3]),u={id:h,data:e.data.subarray(i+10,i+a+10)},u.key=u.id,c[u.id]&&(c[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var p=u.data,f=(1&p[3])<<30|p[4]<<22|p[5]<<14|p[6]<<6|p[7]>>>2;f*=4,f+=3&p[7],u.timeStamp=f,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),i+=10,i+=a}while(i<r);this.trigger("data",e)}}}},i.prototype=new r,t.exports=i},834:function(t,e,n){"use strict";var i,r=n(828),a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=function(){var t;i.prototype.init.call(this),this.push=function(e){var n,i,r,o,s,u,l=0,c=0;if("audio"===e.type)for(t?(o=t,t=new Uint8Array(o.byteLength+e.data.byteLength),t.set(o),t.set(e.data,o.byteLength)):t=e.data;l+5<t.length;)if(255===t[l]&&240===(246&t[l+1])){if(i=2*(1&~t[l+1]),n=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,s=1024*((3&t[l+6])+1),u=9e4*s/a[(60&t[l+2])>>>2],r=l+n,t.byteLength<r)return;if(this.trigger("data",{pts:e.pts+c*u,dts:e.dts+c*u,sampleCount:s,audioobjecttype:(t[l+2]>>>6&3)+1,channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:a[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+i,r)}),t.byteLength===r)return void(t=void 0);c++,t=t.subarray(r)}else l++},this.flush=function(){this.trigger("done")}},i.prototype=new r,t.exports=i},835:function(t,e,n){"use strict";var i,r,a,o=n(828),s=n(836);r=function(){var t,e,n=0;r.prototype.init.call(this),this.push=function(i){var r;for(e?(r=new Uint8Array(e.byteLength+i.data.byteLength),r.set(e),r.set(i.data,e.byteLength),e=r):e=i.data;n<e.byteLength-3;n++)if(1===e[n+2]){t=n+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}n+3!==t-2&&this.trigger("data",e.subarray(n+3,t-2));do t++;while(1!==e[t]&&t<e.length);n=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(n+3,t-2)),n=t-2,t+=3;break;default:t+=3}e=e.subarray(n),t-=n,n=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(n+3)),e=null,n=0,this.trigger("done")}},r.prototype=new o,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},i=function(){var t,e,n,o,u,l,c,d=new r;i.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,n=t.pts,o=t.dts,d.push(t))},d.on("data",function(i){var r={trackId:e,pts:n,dts:o,data:i};switch(31&i[0]){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp",r.escapedRBSP=u(i.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp",r.escapedRBSP=u(i.subarray(1)),r.config=l(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",r)}),d.on("done",function(){t.trigger("done")}),this.flush=function(){d.flush()},c=function(t,e){var n,i,r=8,a=8;for(n=0;n<t;n++)0!==a&&(i=e.readExpGolomb(),a=(r+i+256)%256),r=0===a?r:a},u=function(t){for(var e,n,i=t.byteLength,r=[],a=1;a<i-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},l=function(t){var e,n,i,r,o,u,l,d,h,p,f,m,g,y,v=0,_=0,b=0,T=0,w=1;if(e=new s(t),n=e.readUnsignedByte(),r=e.readUnsignedByte(),i=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),a[n]&&(o=e.readUnsignedExpGolomb(),3===o&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(f=3!==o?8:12,y=0;y<f;y++)e.readBoolean()&&(y<6?c(16,e):c(64,e));if(e.skipUnsignedExpGolomb(),u=e.readUnsignedExpGolomb(),0===u)e.readUnsignedExpGolomb();else if(1===u)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),y=0;y<l;y++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),d=e.readUnsignedExpGolomb(),h=e.readUnsignedExpGolomb(),p=e.readBits(1),0===p&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(v=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb(),T=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(g=e.readUnsignedByte()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}m&&(w=m[0]/m[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(d+1)-2*v-2*_)*w),height:(2-p)*(h+1)*16-2*b-2*T}}},i.prototype=new o,t.exports={H264Stream:i,NalByteStream:r}},836:function(t,e){"use strict";var n;n=function(t){var e=t.byteLength,n=0,i=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+i},this.loadWord=function(){var r=t.byteLength-e,a=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");a.set(t.subarray(r,r+o)),n=new DataView(a.buffer).getUint32(0),i=8*o,e-=o},this.skipBits=function(t){var r;i>t?(n<<=t,i-=t):(t-=i,r=Math.floor(t/8),t-=8*r,e-=r,this.loadWord(),n<<=t,i-=t)},this.readBits=function(t){var r=Math.min(i,t),a=n>>>32-r;return i-=r,i>0?n<<=r:e>0&&this.loadWord(),r=t-r,r>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var t;for(t=0;t<i;++t)if(0!==(n&2147483648>>>t))return n<<=t,i-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=n},837:function(t,e,n){"use strict";var i=n(828),r=function(t){this.numberOfTracks=0,this.metadataStream=t.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,r.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):("video"===t.track.type&&(this.videoTrack=t.track,this.videoTags=t.tags,this.pendingTracks++),void("audio"===t.track.type&&(this.audioTrack=t.track,this.audioTags=t.tags,this.pendingTracks++)))}};r.prototype=new i,r.prototype.flush=function(t){var e,n,i,r,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?r=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,i=0;i<this.pendingCaptions.length;i++)n=this.pendingCaptions[i],n.startTime=n.startPts-r,n.startTime/=9e4,n.endTime=n.endPts-r,n.endTime/=9e4,a.captionStreams[n.stream]=!0,a.captions.push(n);for(i=0;i<this.pendingMetadata.length;i++)e=this.pendingMetadata[i],e.cueTime=e.pts-r,e.cueTime/=9e4,a.metadata.push(e);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},t.exports=r},838:function(t,e){"use strict";var n=function(){var t=this;this.list=[],this.push=function(t){this.list.push({bytes:t.bytes,dts:t.dts,pts:t.pts,keyFrame:t.keyFrame,metaDataTag:t.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return t.list.length}})};t.exports=n},839:function(t,e,n){"use strict";var i=n(826),r=function(t,e,n){var r,a,o,s=new Uint8Array(9),u=new DataView(s.buffer);return t=t||0,e=void 0===e||e,n=void 0===n||n,u.setUint8(0,70),u.setUint8(1,76),u.setUint8(2,86),u.setUint8(3,1),u.setUint8(4,(e?4:0)|(n?1:0)),u.setUint32(5,s.byteLength),t<=0?(a=new Uint8Array(s.byteLength+4),a.set(s),a.set([0,0,0,0],s.byteLength),a):(r=new i(i.METADATA_TAG),r.pts=r.dts=0,r.writeMetaDataDouble("duration",t),o=r.finalize().length,a=new Uint8Array(s.byteLength+o),a.set(s),a.set(u.byteLength,o),a)};t.exports=r},840:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){var i=void 0,r=void 0;if(n&&n.cues)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime<=e&&r.endTime>=t&&n.removeCue(r)};e.default=n,t.exports=e.default},841:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){var i=e.player_;if(n.captions&&n.captions.length){t.inbandTextTracks_||(t.inbandTextTracks_={});for(var r in n.captionStreams)if(!t.inbandTextTracks_[r]){i.tech_.trigger({type:"usage",name:"hls-608"});var a=i.textTracks().getTrackById(r);a?t.inbandTextTracks_[r]=a:t.inbandTextTracks_[r]=i.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}}n.metadata&&n.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};e.default=n,t.exports=e.default},842:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),a=i(r),o=n(800),s=i(o),u=function(t){Object.defineProperties(t.frame,{id:{get:function(){return s.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return s.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return s.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},l=function(t){var e=void 0;return e=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t},c=function(t,e,n){var i=a.default.WebKitDataCue||a.default.VTTCue;e&&e.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new i(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n&&!function(){var e=l(t.mediaSource_.duration);n.forEach(function(t){var e=t.cueTime+this.timestampOffset;t.frames.forEach(function(t){var n=new i(e,e,t.value||t.url||t.data||"");n.frame=t,n.value=t,u(n),this.metadataTrack_.addCue(n)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length&&!function(){for(var n=t.metadataTrack_.cues,i=[],r=0;r<n.length;r++)n[r]&&i.push(n[r]);var a=i.reduce(function(t,e){var n=t[e.startTime]||[];return n.push(e),t[e.startTime]=n,t},{}),o=Object.keys(a).sort(function(t,e){return Number(t)-Number(e)});o.forEach(function(t,n){var i=a[t],r=Number(o[n+1])||e;i.forEach(function(t){t.endTime=r})})}()}()};e.default={addTextTrackData:c,durationOfVideo:l},t.exports=e.default},843:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(86),s=i(o),u=n(825),l=i(u),c=function(t){t.on("data",function(t){s.default.postMessage({action:"data",segment:t})}),t.on("done",function(t){s.default.postMessage({action:"done"})})},d=function(){function t(e){r(this,t),this.options=e||{},this.init()}return a(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l.default.Transmuxer(this.options),c(this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),t}(),h=function(t){t.onmessage=function(t){return"init"===t.data.action&&t.data.options?void(this.messageHandlers=new d(t.data.options)):(this.messageHandlers||(this.messageHandlers=new d),void(t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data)))}};e.default=function(t){return new h(t)},t.exports=e.default},844:function(t,e,n){var i=arguments[3],r=arguments[4],a=arguments[5],o=JSON.stringify,s=!1,u=function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=entryModule)};"undefined"==typeof i&&(s=!0,i=u,r=n.m);var l=function(t){for(var e,n=Object.keys(a),s=0;s<n.length;s++){var u=n[s],l=a[u].exports;if(l===t||l&&l.default===t){e=u;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var c={},s=0;s<n.length;s++){var u=n[s];c[u]=u}r[e]=["function(require,module,exports){"+t+"(self); }",c]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),h={};return h[e]=e,r[d]=["function(require,module,exports){var f = require("+o(e)+");(f.default ? f.default : f)(self);}",h],"("+i+")({"+Object.keys(r).map(function(t){return o(t)+":["+r[t][0]+","+o(r[t][1])+"]"}).join(",")+"},{},["+o(d)+"])"},c=function(t,e){var a,s="string"==typeof e;a=s?{}:[],Object.keys(r).forEach(function(t){r[t]&&(a[t]=r[t].toString())});var u=n(e);if(!u||u!==t&&u.default!==t){var l=a[e];a[e]=l.substring(0,l.length-1)+"\n"+t.name+"();\n}"}var c;if(s){e=o(e);var d=Object.keys(a).map(function(t){return o(t)+":"+a[t]});c="{"+d.join(",")+"}"}else c="["+a.join(",")+"]";return"var fn = ("+i.toString().replace("entryModule",e)+")("+c+');\n(typeof fn === "function") && fn(self);'};t.exports=function(t,e){var n;n=s?c(t,e):l(t);var i=new Blob([n],{type:"text/javascript"}),r=window.URL||window.webkitURL||window.mozURL||window.msURL,a=r.createObjectURL(i),o=new Worker(a);return o.objectURL=a,o}},845:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};e.default=n,t.exports=e.default},846:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return/mp4a\.\d+.\d+/i.test(t)},i=function(t){return/avc1\.[\da-f]+/i.test(t)},r=function(t){var e={type:"",parameters:{}},n=t.trim().split(";");return e.type=n.shift().trim(),n.forEach(function(t){var n=t.trim().split("=");if(n.length>1){var i=n[0].replace(/"/g,"").trim(),r=n[1].replace(/"/g,"").trim();e.parameters[i]=r}}),e},a=function(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,n){var i=("00"+Number(e).toString(16)).slice(-2),r=("00"+Number(n).toString(16)).slice(-2);return"avc1."+i+"00"+r})})};e.default={isAudioCodec:n,parseContentType:r,isVideoCodec:i,translateLegacyCodecs:a},t.exports=e.default},847:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(86),l=i(u),c=n(795),d=i(c),h=n(800),p=i(h),f=n(848),m=i(f),g=n(842),y=n(846),v=function(t){function e(){var t=this;r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var n=void 0;this.nativeMediaSource_=new l.default.MediaSource;for(n in this.nativeMediaSource_)n in e.prototype||"function"!=typeof this.nativeMediaSource_[n]||(this[n]=this.nativeMediaSource_[n].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){if(this.duration_=t,t!==1/0)return void(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?p.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var n=!1,i=!0,r=0;r<t.player_.audioTracks().length;r++){var a=t.player_.audioTracks()[r];if(a.enabled&&"main"!==a.kind){n=!0,i=!1;break}}t.sourceBuffers.forEach(function(e){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=n;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,i=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=i,i))return;t.activeSourceBuffers_.push(e)})},this.onPlayerMediachange_=function(){t.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){t.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach(function(t){return t.timeMapping_=e.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},this),this.on("sourceopen",function(e){var n=d.default.querySelector('[src="'+t.url_+'"]');n&&(t.player_=(0,p.default)(n.parentNode),t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_))}),this.on("sourceended",function(e){for(var n=(0,g.durationOfVideo)(t.duration),i=0;i<t.sourceBuffers.length;i++){var r=t.sourceBuffers[i],a=r.metadataTrack_&&r.metadataTrack_.cues;a&&a.length&&(a[a.length-1].endTime=n)}}),this.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return a(e,t),o(e,[{key:"addSeekableRange_",value:function(t,e){var n=void 0;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,n=(0,y.parseContentType)(t);if(/^(video|audio)\/mp2t$/i.test(n.type)){var i=[];n.parameters&&n.parameters.codecs&&(i=n.parameters.codecs.split(","),i=(0,y.translateLegacyCodecs)(i),i=i.filter(function(t){return(0,y.isAudioCodec)(t)||(0,y.isVideoCodec)(t)})),0===i.length&&(i=["avc1.4d400d","mp4a.40.2"]),e=new m.default(this,i),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),e}(p.default.EventTarget);e.default=v,t.exports=e.default},848:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(800),l=i(u),c=n(841),d=i(c),h=n(840),p=i(h),f=n(842),m=n(844),g=i(m),y=n(849),v=i(y),_=n(846),b=function(){var t=void 0;try{t=849}catch(t){}return t},T=function(t,e){var n=t.addSourceBuffer(e),i=Object.create(null);i.updating=!1,i.realBuffer_=n;var r=function(t){"function"==typeof n[t]?i[t]=function(){return n[t].apply(n,arguments)}:"undefined"==typeof i[t]&&Object.defineProperty(i,t,{get:function(){return n[t]},set:function(e){return n[t]=e}})};for(var a in n)r(a);return i},w=function(t,e,n){if(!e||!t.length)return[];var i=Math.ceil(9e4*(e.currentTime()-n+3)),r=void 0;for(r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)};e.gopsSafeToAlignWith=w;var k=function(t,e,n){if(!e.length)return t;if(n)return e.slice();var i=e[0].pts,r=0;for(r;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)};e.updateGopBuffer=k;var S=function(t,e,n,i){for(var r=Math.ceil(9e4*(e-i)),a=Math.ceil(9e4*(n-i)),o=t.slice(),s=t.length;s--&&!(t[s].pts<=a););if(s===-1)return o;for(var u=s+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),o.splice(u,s-u+1),o};e.removeGopBuffer=S;var C=function(t){function e(t,n){var i=this;r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,l.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=t,this.codecs_=n,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=l.default.browser.IE_VERSION>=11;var a={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(t){(0,_.isAudioCodec)(t)?i.audioCodec_=t:(0,_.isVideoCodec)(t)&&(i.videoCodec_=t)}),this.transmuxer_=(0,g.default)(v.default,b()),this.transmuxer_.postMessage({action:"init",options:a}),this.transmuxer_.onmessage=function(t){return"data"===t.data.action?i.data_(t):"done"===t.data.action?i.done_(t):"gopInfo"===t.data.action?i.appendGopInfo_(t):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var t=null,e=null,n=0,i=[],r=[];if(!this.videoBuffer_&&!this.audioBuffer_)return l.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return l.default.createTimeRange();for(var a=this.videoBuffer_.buffered,o=this.audioBuffer_.buffered,s=a.length;s--;)i.push({time:a.start(s),type:"start"}),i.push({time:a.end(s),type:"end"});for(s=o.length;s--;)i.push({time:o.start(s),type:"start"}),i.push({time:o.end(s),type:"end"});for(i.sort(function(t,e){return t.time-e.time}),s=0;s<i.length;s++)"start"===i[s].type?(n++,2===n&&(t=i[s].time)):"end"===i[s].type&&(n--,1===n&&(e=i[s].time)),null!==t&&null!==e&&(r.push([t,e]),t=null,e=null);return l.default.createTimeRanges(r)}})}return a(e,t),o(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),(0,d.default)(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){return"closed"===this.mediaSource_.readyState?void(this.pendingBuffers_.length=0):void this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach(function(n){if(t[n+"Codec_"]&&!t[n+"Buffer_"]){var i=null;if(t.mediaSource_[n+"Buffer_"])i=t.mediaSource_[n+"Buffer_"],i.updating=!1;else{var r=n+"Codec_",a=n+'/mp4;codecs="'+t[r]+'"';i=T(t.mediaSource_.nativeMediaSource_,a),t.mediaSource_[n+"Buffer_"]=i}t[n+"Buffer_"]=i,["update","updatestart","updateend"].forEach(function(r){i.addEventListener(r,function(){if("audio"!==n||!t.audioDisabled_){"updateend"===r&&(t[n+"Buffer_"].updating=!1);var i=e.every(function(e){return!("audio"!==e||!t.audioDisabled_)||(n===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)});return i?t.trigger(r):void 0}})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:w(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=k(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=S(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),(0,p.default)(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,p.default)(t,e,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var n=e.type,i=e.data,r=e.initSegment;return t[n].segments.push(i),t[n].bytes+=i.byteLength,t[n].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[n].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),
t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),(0,f.addTextTrackData)(this,t.captions,t.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var n=0,i=void 0;if(t.bytes){i=new Uint8Array(t.bytes),t.segments.forEach(function(t){i.set(t,n),n+=t.byteLength});try{e.updating=!0,e.appendBuffer(i)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}(l.default.EventTarget);e.default=C},849:function(t,e,n){/**
	 * videojs-contrib-media-sources
	 *
	 * Copyright (c) 2015 Brightcove
	 * All rights reserved.
	 *
	 * Handles communication between the browser-world and the mux.js
	 * transmuxer running inside of a WebWorker by exposing a simple
	 * message-based interface to a Transmuxer object.
	 */
"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(86),s=i(o),u=n(850),l=i(u),c=function(t){t.on("data",function(t){var e=t.initSegment;t.initSegment={data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength};var n=t.data;t.data=n.buffer,s.default.postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){s.default.postMessage({action:"caption",data:t})}),t.on("done",function(t){s.default.postMessage({action:"done"})}),t.on("gopInfo",function(t){s.default.postMessage({action:"gopInfo",gopInfo:t})})},d=function(){function t(e){r(this,t),this.options=e||{},this.init()}return a(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new l.default.Transmuxer(this.options),c(this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}(),h=function(t){t.onmessage=function(t){return"init"===t.data.action&&t.data.options?void(this.messageHandlers=new d(t.data.options)):(this.messageHandlers||(this.messageHandlers=new d),void(t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data)))}};e.default=function(t){return new h(t)},t.exports=e.default},850:function(t,e,n){t.exports={generator:n(851),Transmuxer:n(852).Transmuxer,AudioSegmentStream:n(852).AudioSegmentStream,VideoSegmentStream:n(852).VideoSegmentStream}},851:function(t,e){/**
	 * mux.js
	 *
	 * Copyright (c) 2015 Brightcove
	 * All rights reserved.
	 *
	 * Functions that generate fragmented MP4s suitable for use with Media
	 * Source Extensions.
	 */
"use strict";var n,i,r,a,o,s,u,l,c,d,h,p,f,m,g,y,v,_,b,T,w,k,S,C,E,O,A,x,P,L,I,M,D,R,j,B,N=Math.pow(2,32)-1;!function(){var t;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in S)S.hasOwnProperty(t)&&(S[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);C=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),O=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),x=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:A,audio:x},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),R=D,j=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B=D,L=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),n=function(t){var e,n,i,r=[],a=0;for(e=1;e<arguments.length;e++)r.push(arguments[e]);for(e=r.length;e--;)a+=r[e].byteLength;for(n=new Uint8Array(a+8),i=new DataView(n.buffer,n.byteOffset,n.byteLength),i.setUint32(0,n.byteLength),n.set(t,4),e=0,a=8;e<r.length;e++)n.set(r[e],a),a+=r[e].byteLength;return n},i=function(){return n(S.dinf,n(S.dref,M))},r=function(t){return n(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},a=function(){return n(S.ftyp,C,E,C,O)},y=function(t){return n(S.hdlr,P[t])},o=function(t){return n(S.mdat,t)},g=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),n(S.mdhd,e)},m=function(t){return n(S.mdia,g(t),y(t.type),u(t))},s=function(t){return n(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},u=function(t){return n(S.minf,"video"===t.type?n(S.vmhd,L):n(S.smhd,I),i(),_(t))},l=function(t,e){for(var i=[],r=e.length;r--;)i[r]=T(e[r]);return n.apply(null,[S.moof,s(t)].concat(i))},c=function(t){for(var e=t.length,i=[];e--;)i[e]=p(t[e]);return n.apply(null,[S.moov,h(4294967295)].concat(i).concat(d(t)))},d=function(t){for(var e=t.length,i=[];e--;)i[e]=w(t[e]);return n.apply(null,[S.mvex].concat(i))},h=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(S.mvhd,e)},v=function(t){var e,i,r=t.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)e=r[i].flags,a[i+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return n(S.sdtp,a)},_=function(t){return n(S.stbl,b(t),n(S.stts,B),n(S.stsc,R),n(S.stsz,j),n(S.stco,D))},function(){var t,e;b=function(i){return n(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===i.type?t(i):e(i))},t=function(t){var e,i=t.sps||[],r=t.pps||[],a=[],o=[];for(e=0;e<i.length;e++)a.push((65280&i[e].byteLength)>>>8),a.push(255&i[e].byteLength),a=a.concat(Array.prototype.slice.call(i[e]));for(e=0;e<r.length;e++)o.push((65280&r[e].byteLength)>>>8),o.push(255&r[e].byteLength),o=o.concat(Array.prototype.slice.call(r[e]));return n(S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(S.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([i.length]).concat(a).concat([r.length]).concat(o))),n(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},e=function(t){return n(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))}}(),f=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return n(S.tkhd,e)},T=function(t){var e,i,r,a,o,s,u;return e=n(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(t.baseMediaDecodeTime/(N+1)),u=Math.floor(t.baseMediaDecodeTime%(N+1)),i=n(S.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),o=92,"audio"===t.type?(r=k(t,o),n(S.traf,e,i,r)):(a=v(t),r=k(t,a.length+o),n(S.traf,e,i,r,a))},p=function(t){return t.duration=t.duration||4294967295,n(S.trak,f(t),m(t))},w=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),n(S.trex,e)},function(){var t,e,i;i=function(t,e){var n=0,i=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(n=1),void 0!==t[0].size&&(i=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},e=function(t,e){var r,a,o,s;for(a=t.samples||[],e+=20+16*a.length,r=i(a,e),s=0;s<a.length;s++)o=a[s],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return n(S.trun,new Uint8Array(r))},t=function(t,e){var r,a,o,s;for(a=t.samples||[],e+=20+8*a.length,r=i(a,e),s=0;s<a.length;s++)o=a[s],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return n(S.trun,new Uint8Array(r))},k=function(n,i){return"audio"===n.type?t(n,i):e(n,i)}}(),t.exports={ftyp:a,mdat:o,moof:l,moov:c,initSegment:function(t){var e,n=a(),i=c(t);return e=new Uint8Array(n.byteLength+i.byteLength),e.set(n),e.set(i,n.byteLength),e}}},852:function(t,e,n){/**
	 * mux.js
	 *
	 * Copyright (c) 2015 Brightcove
	 * All rights reserved.
	 *
	 * A stream-based mp2t to mp4 converter. This utility can be used to
	 * deliver mp4s to a SourceBuffer on platforms that support native
	 * Media Source Extensions.
	 */
"use strict";var i,r,a,o,s,u,l,c,d,h,p,f=n(828),m=n(851),g=n(829),y=n(834),v=n(835).H264Stream,_=n(853),b=n(854),T=n(855),w=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],k=["width","height","profileIdc","levelIdc","profileCompatibility"],S=9e4;s=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},u=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},h=function(t,e){var n;if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},p=function(t){var e,n,i=0;for(e=0;e<t.length;e++)n=t[e],i+=n.data.byteLength;return i},r=function(t){var e=[],n=0,i=0,a=0,o=1/0;r.prototype.init.call(this),this.push=function(n){l(t,n),t&&w.forEach(function(e){t[e]=n[e]}),e.push(n)},this.setEarliestDts=function(e){i=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){o=t},this.setAudioAppendStart=function(t){a=t},this.flush=function(){var i,r,a,o;return 0===e.length?void this.trigger("done","AudioSegmentStream"):(i=this.trimAdtsFramesByEarliestDts_(e),t.baseMediaDecodeTime=d(t),this.prefixWithSilence_(t,i),t.samples=this.generateSampleTable_(i),a=m.mdat(this.concatenateFrameData_(i)),e=[],r=m.moof(n,[t]),o=new Uint8Array(r.byteLength+a.byteLength),n++,o.set(r),o.set(a,r.byteLength),c(t),this.trigger("data",{track:t,boxes:o}),void this.trigger("done","AudioSegmentStream"))},this.prefixWithSilence_=function(t,e){var n,i,r,s=0,u=0,l=0,c=0;if(e.length&&(n=T.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),s=Math.ceil(S/(t.samplerate/1024)),a&&o&&(u=n-Math.max(a,o),l=Math.floor(u/s),c=l*s),!(l<1||c>S/2))){for(i=b[t.samplerate],i||(i=e[0].data),r=0;r<l;r++)e.splice(r,0,{data:i});t.baseMediaDecodeTime-=Math.floor(T.videoTsToAudioTs(c,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},this.generateSampleTable_=function(t){var e,n,i=[];for(e=0;e<t.length;e++)n=t[e],i.push({size:n.data.byteLength,duration:1024});return i},this.concatenateFrameData_=function(t){var e,n,i=0,r=new Uint8Array(p(t));for(e=0;e<t.length;e++)n=t[e],r.set(n.data,i),i+=n.data.byteLength;return r}},r.prototype=new f,i=function(t,e){var n,r,a=0,o=[],u=[];e=e||{},i.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){l(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.config,t.sps=[e.data],k.forEach(function(e){t[e]=n[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){for(var n,i,r,s,h,p;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=this.groupNalsIntoFrames_(o),r=this.groupFramesIntoGops_(n),r[0][0].keyFrame||(i=this.getGopForFusion_(o[0],t),i?(r.unshift(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.pts=i.pts,r.dts=i.dts,r.duration+=i.duration):r=this.extendFirstKeyFrame_(r)),u.length){var f;if(f=e.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r),!f)return this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");c(t),r=f}l(t,r),t.samples=this.generateSampleTable_(r),h=m.mdat(this.concatenateNalData_(r)),t.baseMediaDecodeTime=d(t),this.trigger("processedGopsInfo",r.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),s=m.moof(a,[t]),p=new Uint8Array(s.byteLength+h.byteLength),a++,p.set(s),p.set(h,s.byteLength),this.trigger("data",{track:t,boxes:p}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){c(t),n=void 0,r=void 0},this.getGopForFusion_=function(e){var n,i,r,a,o,s=45e3,u=1e4,l=1/0;for(o=0;o<this.gopCache_.length;o++)a=this.gopCache_[o],r=a.gop,t.pps&&h(t.pps[0],a.pps[0])&&t.sps&&h(t.sps[0],a.sps[0])&&(r.dts<t.timelineStartInfo.dts||(n=e.dts-r.dts-r.duration,n>=-u&&n<=s&&(!i||l>n)&&(i=a,l=n)));return i?i.gop:null},this.extendFirstKeyFrame_=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},this.groupNalsIntoFrames_=function(t){var e,n,i=[],r=[];for(i.byteLength=0,e=0;e<t.length;e++)n=t[e],"access_unit_delimiter_rbsp"===n.nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.push(i)),i=[n],i.byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.push(i),r},this.groupFramesIntoGops_=function(t){var e,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=t[0].pts,i.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)n=t[e],n.keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),i=[n],i.nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},this.generateSampleTable_=function(t,e){var n,i,r,a,o,u=e||0,l=[];for(n=0;n<t.length;n++)for(a=t[n],i=0;i<a.length;i++)o=a[i],r=s(),r.dataOffset=u,r.compositionTimeOffset=o.pts-o.dts,r.duration=o.duration,r.size=4*o.length,r.size+=o.byteLength,o.keyFrame&&(r.flags.dependsOn=2),u+=r.size,l.push(r);return l},this.concatenateNalData_=function(t){var e,n,i,r,a,o,s=0,u=t.byteLength,l=t.nalCount,c=u+4*l,d=new Uint8Array(c),h=new DataView(d.buffer);for(e=0;e<t.length;e++)for(r=t[e],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)o=a[i],h.setUint32(s,o.data.byteLength),s+=4,d.set(o.data,s),s+=o.data.byteLength;return d},this.alignGopsAtStart_=function(t){var e,n,i,r,a,o,s,l;for(a=t.byteLength,o=t.nalCount,s=t.duration,e=n=0;e<u.length&&n<t.length&&(i=u[e],r=t[n],i.pts!==r.pts);)r.pts>i.pts?e++:(n++,a-=r.byteLength,o-=r.nalCount,s-=r.duration);return 0===n?t:n===t.length?null:(l=t.slice(n),l.byteLength=a,l.duration=s,l.nalCount=o,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,n,i,r,a,o;for(e=u.length-1,n=t.length-1,a=null,o=!1;e>=0&&n>=0;){if(i=u[e],r=t[n],i.pts===r.pts){o=!0;break}i.pts>r.pts?e--:(e===u.length-1&&(a=n),n--)}if(!o&&null===a)return null;var s;if(s=o?n:a,0===s)return t;var l=t.slice(s),c=l.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){u=t}},i.prototype=new f,l=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},c=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},d=function(t){var e,n,i=t.minSegmentDts-t.timelineStartInfo.dts;return e=t.timelineStartInfo.baseMediaDecodeTime,e+=i,e=Math.max(0,e),"audio"===t.type&&(n=t.samplerate/S,e*=n,e=Math.floor(e)),e},o=function(t,e){this.numberOfTracks=0,this.metadataStream=e,"undefined"!=typeof t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}},o.prototype=new f,o.prototype.flush=function(t){var e,n,i,r,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,k.forEach(function(t){o.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,w.forEach(function(t){o.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,i=m.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(i.byteLength),o.initSegment.set(i),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)e=this.pendingCaptions[r],e.startTime=e.startPts-s,e.startTime/=9e4,e.endTime=e.endPts-s,e.endTime/=9e4,o.captionStreams[e.stream]=!0,o.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)n=this.pendingMetadata[r],n.cueTime=n.pts-s,n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},a=function(t){var e,n,s=this,l=!0;a.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new g.MetadataStream,e.aacStream=new _,e.audioTimestampRolloverStream=new g.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new g.TimestampRolloverStream("timed-metadata"),e.adtsStream=new y,e.coalesceStream=new o(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new r(n),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new g.MetadataStream,a.packetStream=new g.TransportPacketStream,a.parseStream=new g.TransportParseStream,a.elementaryStream=new g.ElementaryStream,a.videoTimestampRolloverStream=new g.TimestampRolloverStream("video"),a.audioTimestampRolloverStream=new g.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new g.TimestampRolloverStream("timed-metadata"),a.adtsStream=new y,a.h264Stream=new v,a.captionStream=new g.CaptionStream,a.coalesceStream=new o(t,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream),a.elementaryStream.pipe(a.videoTimestampRolloverStream).pipe(a.h264Stream),a.elementaryStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.elementaryStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",function(o){var u;if("metadata"===o.type){for(u=o.tracks.length;u--;)e||"video"!==o.tracks[u].type?n||"audio"!==o.tracks[u].type||(n=o.tracks[u],n.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(e=o.tracks[u],e.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime);e&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new i(e,t),a.videoSegmentStream.on("timelineStartInfo",function(t){n&&(n.timelineStartInfo=t,a.audioSegmentStream.setEarliestDts(t.dts))}),a.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",function(t){n&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),n&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new r(n),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}}),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var i=this.transmuxPipeline_;this.baseMediaDecodeTime=t,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,c(n),n.timelineStartInfo.baseMediaDecodeTime=t,i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),e&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[],i.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,c(e),i.captionStream.reset(),e.timelineStartInfo.baseMediaDecodeTime=t),i.timedMetadataTimestampRolloverStream&&i.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(l){var e=u(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),l=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){l=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},a.prototype=new f,t.exports={Transmuxer:a,VideoSegmentStream:i,AudioSegmentStream:r,AUDIO_PROPERTIES:w,VIDEO_PROPERTIES:k}},853:function(t,e,n){/**
	 * mux.js
	 *
	 * Copyright (c) 2016 Brightcove
	 * All rights reserved.
	 *
	 * A stream-based aac to mp4 converter. This utility can be used to
	 * deliver mp4s to a SourceBuffer on platforms that support native
	 * Media Source Extensions.
	 */
"use strict";var i,r=n(828);i=function(){var t=new Uint8Array,e=0;i.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.parseId3TagSize=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],i=t[e+5],r=(16&i)>>4;return r?n+20:n+10},this.parseAdtsSize=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3,r=6144&t[e+3];return r|i|n},this.push=function(n){var i,r,a,o,s=0,u=0;for(t.length?(o=t.length,t=new Uint8Array(n.byteLength+o),t.set(t.subarray(0,o)),t.set(n,o)):t=n;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(t[u]&!0&&240===(240&t[u+1])){if(t.length-u<7)break;if(s=this.parseAdtsSize(t,u),s>t.length)break;a={type:"audio",data:t.subarray(u,u+s),pts:e,dts:e},this.trigger("data",a),u+=s}else u++;else{if(t.length-u<10)break;if(s=this.parseId3TagSize(t,u),s>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",r),u+=s}i=t.length-u,t=i>0?t.subarray(u):new Uint8Array}},i.prototype=new r,t.exports=i},854:function(t,e){var n=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],r=function(t){for(var e=[];t--;)e.push(0);return e},a=function(t){return Object.keys(t).reduce(function(e,n){return e[n]=new Uint8Array(t[n].reduce(function(t,e){return t.concat(e)},[])),e},{})},o={96e3:[n,[227,64],r(154),[56]],88200:[n,[231],r(170),[56]],64e3:[n,[248,192],r(240),[56]],48e3:[n,[255,192],r(268),[55,148,128],r(54),[112]],44100:[n,[255,192],r(268),[55,163,128],r(84),[112]],32e3:[n,[255,192],r(268),[55,234],r(226),[112]],24e3:[n,[255,192],r(268),[55,255,128],r(268),[111,112],r(126),[224]],16e3:[n,[255,192],r(268),[55,255,128],r(268),[111,255],r(269),[223,108],r(195),[1,192]],12e3:[i,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,253,128],r(259),[56]],11025:[i,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,255,192],r(268),[55,175,128],r(108),[112]],8e3:[i,r(268),[3,121,16],r(47),[7]]};t.exports=a(o)},855:function(t,e){var n,i,r,a,o,s,u=9e4;n=function(t){return t*u},i=function(t,e){return t*e},r=function(t){return t/u},a=function(t,e){return t/e},o=function(t,e){return n(a(t,e))},s=function(t,e){return i(r(t),e)},t.exports={secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s}},856:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(797),l=i(u),c=n(811),d=n(857),h=i(d),p=n(864),f=i(p),m=n(861),g=i(m),y=n(800),v=i(y),_=n(865),b=i(_),T=n(866),w=i(T),k=n(846),S=n(844),C=i(S),E=n(871),O=i(E),A=n(859),x=i(A),P=n(863),L=n(872),I=120,M=void 0,D={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},R=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],j=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},B=function(){var t=void 0;try{t=871}catch(t){}return t},N=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return(0,k.translateLegacyCodecs)([t])[0]})};e.mapLegacyAvcCodecs_=N;var U=function(t,e,n){return t+"/"+e+'; codecs="'+n.filter(function(t){return!!t}).join(", ")+'"'},F=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"},H=function(t){var e=t.attributes||{};return e.CODECS?(0,P.parseCodecs)(e.CODECS):D},q=function(t,e){var n=F(e),i=H(e),r=e.attributes||{},a=!0,o=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&r.AUDIO){var s=t.mediaGroups.AUDIO[r.AUDIO];if(s){o=!0,a=!1;for(var u in s)if(!s[u].uri){a=!0;break}}}o&&!i.audioProfile&&(v.default.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),i.audioProfile=D.audioProfile);var l={};i.videoCodec&&(l.video=""+i.videoCodec+i.videoObjectTypeIndicator),i.audioProfile&&(l.audio="mp4a.40."+i.audioProfile);var c=U("audio",n,[l.audio]),d=U("video",n,[l.video]),h=U("video",n,[l.video,l.audio]);return o?!a&&l.video?[d,c]:[h,c]:l.video?[h]:[c]};e.mimeTypesForPlaylist_=q;var V=function(t){function e(t){var n=this;r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var i=t.url,a=t.handleManifestRedirects,o=t.withCredentials,u=t.mode,c=t.tech,d=t.bandwidth,p=t.externHls,m=t.useCueTags,g=t.blacklistDuration,y=t.enableLowInitialPlaylist;if(!i)throw new Error("A non-empty playlist URL is required");M=p,this.tech_=c,this.hls_=c.hls,this.mode_=u,this.useCueTags_=m,this.blacklistDuration=g,this.enableLowInitialPlaylist=y,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:o,handleManifestRedirects:a,timeout:null},this.mediaTypes_=(0,L.createMediaTypes)(),this.mediaSource=new v.default.MediaSource({mode:u}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=v.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new w.default(t),this.segmentMetadataTrack_=c.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,C.default)(O.default,B());var _={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:d,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new l.default(i,this.hls_,this.requestOptions_),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new h.default(v.default.mergeOptions(_,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),t),this.audioSegmentLoader_=new h.default(v.default.mergeOptions(_,{loaderType:"audio"}),t),this.subtitleSegmentLoader_=new f.default(v.default.mergeOptions(_,{loaderType:"vtt"}),t),this.setupSegmentLoaderListeners_(),R.forEach(function(t){n[t+"_"]=j.bind(n,t)}),this.masterPlaylistLoader_.load()}return a(e,t),o(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;(0,c.isLowestEnabledRendition)(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),(0,L.setupMediaGroups)({segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,mode:t.mode_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(e){return v.default.log.warn("Failed to create SourceBuffers",e),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),t.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media();if(!e){var n=void 0;return t.enableLowInitialPlaylist&&(n=t.selectInitialPlaylist()),n||(n=t.selectPlaylist()),t.initialMedia_=n,void t.masterPlaylistLoader_.media(t.initialMedia_)}t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||t.mainSegmentLoader_.load(),e.endList||!function(){var e=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};t.duration()!==1/0?!function(){var n=function n(){t.duration()===1/0?e():t.tech_.one("durationchange",n)};t.tech_.one("durationchange",n)}():e()}()}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media(),n=1.5*t.masterPlaylistLoader_.targetDuration*1e3;(0,c.isLowestEnabledRendition)(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=n,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media(),n=t.stuckAtPlaylistEnd_(e);n&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var n=t.mediaGroups||{},i=!0,r=Object.keys(n.AUDIO);for(var a in n.AUDIO)for(var o in n.AUDIO[a]){var s=n.AUDIO[a][o];s.uri||(i=!1)}i&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),M.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),M.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist(),n=t.masterPlaylistLoader_.media(),i=t.tech_.buffered(),r=i.length?i.end(i.length-1)-t.tech_.currentTime():0,a=t.bufferLowWaterLine();(!n.endList||t.duration()<x.default.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<n.attributes.BANDWIDTH||r>=a)&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},I)}),this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var n=function(){var e=t.seekable();return e.length?v.default.browser.IE_VERSION&&"html5"===t.mode_&&0===t.tech_.readyState()?(t.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(e.end(0)),t.hasPlayed_=function(){return!0}}),{v:!1}):(t.trigger("firstplay"),void t.tech_.setCurrentTime(e.end(0))):{v:!1}}();if("object"==typeof n)return n.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return v.default.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();"undefined"!=typeof t&&"function"==typeof t.then&&t.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=t&&this.audioSegmentLoader_.ended_),t&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(t){var e=this.seekable();if(!e.length)return!1;var n=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===n)return!1;var i=M.Playlist.playlistEnd(t,n),r=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return i-r<=g.default.SAFE_TIME_DELTA;var o=a.end(a.length-1);return o-r<=g.default.SAFE_TIME_DELTA&&i-o<=g.default.SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(t,e){void 0===t&&(t={});var n=void 0,i=void 0;if(n=t.playlist||this.masterPlaylistLoader_.media(),e=e||t.blacklistDuration||this.blacklistDuration,!n){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(c.isEnabled).length;return r?(v.default.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(n.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),v.default.log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=g.default.findRange(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length&&"flash"!==this.mode_?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:M.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var i=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==i&&(t=M.Playlist.seekable(n,i),0!==t.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(n,this.mediaSource.duration),null===i)return;if(e=M.Playlist.seekable(n,i),0===e.length)return}e?e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=v.default.createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]):this.seekable_=t,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,n=M.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function e(){t.mediaSource.duration=n,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};i.length>0&&(n=Math.max(n,i.end(i.length-1))),e!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var t=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var n=t.mediaTypes_[e].groups;for(var i in n)n[i].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t=this.masterPlaylistLoader_.media(),e=void 0;if(t&&"open"===this.mediaSource.readyState){if(e=q(this.masterPlaylistLoader_.master,t),e.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(e[0]),e[1]&&this.audioSegmentLoader_.mimeType(e[1]),this.excludeIncompatibleVariants_(t)}}},{key:"excludeIncompatibleVariants_",value:function(t){var e=this.masterPlaylistLoader_.master,n=2,i=null,r=void 0;t.attributes.CODECS&&(r=(0,P.parseCodecs)(t.attributes.CODECS),i=r.videoCodec,n=r.codecCount),e.playlists.forEach(function(t){var e={codecCount:2,videoCodec:null};if(t.attributes.CODECS){var r=t.attributes.CODECS;e=(0,P.parseCodecs)(r),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+N(r)+'"')&&(t.excludeUntil=1/0)}e.codecCount!==n&&(t.excludeUntil=1/0),e.videoCodec!==i&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var e=0,n=this.seekable();n.length&&(e=n.start(0)),b.default.updateAdCues(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=x.default.GOAL_BUFFER_LENGTH,n=x.default.GOAL_BUFFER_LENGTH_RATE,i=Math.max(e,x.default.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*n,i)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=x.default.BUFFER_LOW_WATER_LINE,n=x.default.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(e,x.default.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*n,i)}}]),e}(v.default.EventTarget);e.MasterPlaylistController=V},857:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(811),l=i(u),c=n(800),d=i(c),h=n(858),p=i(h),f=n(859),m=i(f),g=n(86),y=i(g),v=n(840),_=i(v),b=n(821),T=n(860),w=n(861),k=n(862),S=500,C=function(t,e,n){if(!t||!e)return!1;var i=t.segments,r=n===i.length;return t.endList&&"open"===e.readyState&&r},E=function(t){return"number"==typeof t&&isFinite(t)},O=function(t,e,n){return"main"===t&&e&&n?n.containsAudio||n.containsVideo?e.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};e.illegalMediaSwitch=O;var A=function(t,e,n){var i=void 0;return i=t.length&&t.start(0)>0&&t.start(0)<e?t.start(0):e-30,Math.min(i,e-n)};e.safeBackBufferTrimTime=A;var x=function(t){function e(t){var n=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=t.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=t.hasPlayed,this.currentTime_=t.currentTime,this.seekable_=t.seekable,this.seeking_=t.seeking,this.duration_=t.duration,this.mediaSource_=t.mediaSource,this.hls_=t.hls,this.loaderType_=t.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=t.segmentMetadataTrack,this.goalBufferLength_=t.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=t.decrypter,this.syncController_=t.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),this.fetchAtBuffer_=!1,i.debug&&(this.logger_=d.default.log.bind(d.default,"segment-loader",this.loaderType_,"->"))}return a(e,t),o(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){return"WAITING"!==this.state?void(this.pendingSegment_&&(this.pendingSegment_=null)):(this.abort_(),this.state="READY",void(this.paused()||this.monitorBuffer_()))}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return"undefined"!=typeof t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():d.default.createTimeRanges()}},{key:"initSegment",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!t)return null;var n=(0,b.initSegmentId)(t),i=this.initSegments_[n];return e&&!i&&t.bytes&&(this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes}),i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_)return this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new p.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(t){var n=this.playlist_,i=this.pendingSegment_;if(this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==t.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var r=t.mediaSequence-n.mediaSequence;this.logger_("mediaSequenceDiff",r),null!==this.mediaIndex&&(this.mediaIndex-=r),i&&(i.mediaIndex-=r,i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,t)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(y.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t){this.mimeType_||(this.mimeType_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e){this.sourceUpdater_&&this.sourceUpdater_.remove(t,e),(0,_.default)(t,e,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&y.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&y.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=y.default.setTimeout(this.monitorBufferTick_.bind(this),S)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t){var e=C(this.playlist_,this.mediaSource_,t.mediaIndex);return e?void this.endOfStream():void((t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment),this.loadSegment_(t)))}}}},{key:"checkBuffer_",value:function(t,e,n,i,r,a){var o=0,s=void 0;t.length&&(o=t.end(t.length-1));var u=Math.max(0,o-r);if(!e.segments.length)return null;if(u>=this.goalBufferLength_())return null;if(!i&&u>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",i,"currentTime:",r,"syncPoint:",a,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",u),null===a)return n=this.getSyncSegmentCandidate_(e),this.logger_("getSync","mediaIndex:",n),this.generateSegmentInfo_(e,n,null,!0);if(null!==n){this.logger_("walkForward","mediaIndex:",n+1);var c=e.segments[n];return s=c&&c.end?c.end:o,this.generateSegmentInfo_(e,n+1,s,!1)}if(this.fetchAtBuffer_){var d=l.default.getMediaInfoForTime(e,o,a.segmentIndex,a.time);n=d.mediaIndex,s=d.startTime}else{var d=l.default.getMediaInfoForTime(e,r,a.segmentIndex,a.time);n=d.mediaIndex,s=d.startTime}return this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",s),this.generateSegmentInfo_(e,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(this.currentTimeline_===-1)return 0;var n=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,n,i){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:i,startOfSegment:n,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),n=t.bandwidth,i=this.pendingSegment_.duration,r=l.default.estimateSegmentRequestTime(i,n,this.playlist_,t.bytesReceived),a=(0,w.timeUntilRebuffer)(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(r<=a)return!1;var o=(0,k.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:e,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var s=r-a,u=s-o.rebufferingImpact,c=.5;return a<=w.TIME_FUDGE_FACTOR&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*m.default.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=(0,T.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=A(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,n={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var i=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);n.key={resolvedUri:e.key.resolvedUri,iv:i}}return e.map&&(n.map=this.initSegment(e.map)),n}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),!this.pendingSegment_)return void(this.mediaRequestsAborted+=1);
if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===T.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===T.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),this.processSegmentResponse_(e)}}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(!this.pendingSegment_)return void(this.state="READY");var e=this.pendingSegment_,n=e.segment,i=this.syncController_.probeSegmentInfo(e);"undefined"==typeof this.startingMedia_&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo});var r=O(this.loaderType_,this.startingMedia_,i);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var a=this.syncController_.mappingForTimeline(e.timeline);null!==a&&this.trigger({type:"segmenttimemapping",mapping:a}),this.state="APPENDING",n.map&&!function(){var e=(0,b.initSegmentId)(n.map);if(!t.activeInitSegmentId_||t.activeInitSegmentId_!==e){var i=t.initSegment(n.map);t.sourceUpdater_.appendBuffer(i.bytes,function(){t.activeInitSegmentId_=e})}}(),e.byteLength=e.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,n=null!==this.mediaIndex;if(this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration)return void this.resetEverything();n&&this.trigger("bandwidthupdate"),this.trigger("progress");var i=C(t.playlist,this.mediaSource_,t.mediaIndex+1);i&&this.endOfStream(),this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,n=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/n*8*1e3);this.throughput.rate+=(i-e)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,n=e.start,i=e.end;if(E(n)&&E(i)){(0,_.default)(n,i,this.segmentMetadataTrack_);var r=y.default.WebKitDataCue||y.default.VTTCue,a={bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:i},o=JSON.stringify(a),s=new r(n,i,o);s.value=a,this.segmentMetadataTrack_.addCue(s)}}}}]),e}(d.default.EventTarget);e.default=x},858:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(800),s=i(o),u=function(){},l=function(){function t(e,n){var i=this;r(this,t);var a=function(){i.sourceBuffer_=e.addSourceBuffer(n),i.onUpdateendCallback_=function(){var t=i.pendingCallback_;i.pendingCallback_=null,t&&t(),i.runCallback_()},i.sourceBuffer_.addEventListener("updateend",i.onUpdateendCallback_),i.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,"closed"===e.readyState?e.addEventListener("sourceopen",a):a()}return a(t,[{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(t)},e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:s.default.createTimeRanges()}},{key:"remove",value:function(t,e){var n=this;this.processedAppend_&&this.queueCallback_(function(){n.sourceBuffer_.remove(t,e)},u)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(t){var e=this;return"undefined"!=typeof t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),t}();e.default=l,t.exports=e.default},859:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},t.exports=e.default},860:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(800),a=i(r),o=n(821),s={FAILURE:2,TIMEOUT:-101,ABORTED:-102};e.REQUEST_ERRORS=s;var u=function(t){var e=void 0,n=void 0;return n=t.offset+t.length-1,e=t.offset,"bytes="+e+"-"+n},l=function(t){var e={};return t.byterange&&(e.Range=u(t.byterange)),e},c=function(t){t.forEach(function(t){t.abort()})},d=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},h=function(t){var e=t.target,n=Date.now()-e.requestTime,i={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return i.bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},p=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:s.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:s.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:s.FAILURE,xhr:e}:null},f=function(t,e){return function(n,i){var r=i.response,a=p(n,i);if(a)return e(a,t);if(16!==r.byteLength)return e({status:i.status,message:"Invalid HLS key at URL: "+i.uri,code:s.FAILURE,xhr:i},t);var o=new DataView(r);return t.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),e(null,t)}},m=function(t,e){return function(n,i){var r=i.response,a=p(n,i);return a?e(a,t):0===r.byteLength?e({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:s.FAILURE,xhr:i},t):(t.map.bytes=new Uint8Array(i.response),e(null,t))}},g=function(t,e){return function(n,i){var r=i.response,a=p(n,i);return a?e(a,t):0===r.byteLength?e({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:s.FAILURE,xhr:i},t):(t.stats=d(i),t.key?t.encryptedBytes=new Uint8Array(i.response):t.bytes=new Uint8Array(i.response),e(null,t))}},y=function(t,e,n){var i=function i(r){if(r.data.source===e.requestId){t.removeEventListener("message",i);var a=r.data.decrypted;return e.bytes=new Uint8Array(a.bytes,a.byteOffset,a.byteLength),n(null,e)}};t.addEventListener("message",i),t.postMessage((0,o.createTransferableMessage)({source:e.requestId,encrypted:e.encryptedBytes,key:e.key.bytes,iv:e.key.iv}),[e.encryptedBytes.buffer,e.key.bytes.buffer])},v=function(t){return t.reduce(function(t,e){return e.code>t.code?e:t})},_=function(t,e,n){var i=[],r=0;return function(a,o){if(a&&(c(t),i.push(a)),r+=1,r===t.length){if(o.endOfAllRequests=Date.now(),i.length>0){var s=v(i);return n(s,o)}return o.encryptedBytes?y(e,o,n):n(null,o)}}},b=function(t,e){return function(n){return t.stats=a.default.mergeOptions(t.stats,h(n)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(n,t)}},T=function(t,e,n,i,r,o){var s=[],u=_(s,n,o);if(i.key){var d=a.default.mergeOptions(e,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),h=f(i,u),p=t(d,h);s.push(p)}if(i.map&&!i.map.bytes){var y=a.default.mergeOptions(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:l(i.map)}),v=m(i,u),T=t(y,v);s.push(T)}var w=a.default.mergeOptions(e,{uri:i.resolvedUri,responseType:"arraybuffer",headers:l(i)}),k=g(i,u),S=t(w,k);return S.addEventListener("progress",b(i,r)),s.push(S),function(){return c(s)}};e.mediaSegmentRequest=T},861:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(800),o=i(a),s=1/30,u=3*s,l=function(t,e){var n=r(e,2),i=n[0],a=n[1];return Math.min(Math.max(i,t),a)},c=function(t,e){var n=[],i=void 0;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return o.default.createTimeRanges(n)},d=function(t,e){return c(t,function(t,n){return t-s<=e&&n+s>=e})},h=function(t,e){return c(t,function(t){return t-s>=e})},p=function(t){if(t.length<2)return o.default.createTimeRanges();for(var e=[],n=1;n<t.length;n++){var i=t.end(n-1),r=t.start(n);e.push([i,r])}return o.default.createTimeRanges(e)},f=function(t,e){var n=void 0,i=void 0,r=void 0,a=[],o=[],s=function(t){return t[0]<=r&&t[1]>=r};if(t)for(n=0;n<t.length;n++)i=t.start(n),r=t.end(n),o.push([i,r]);if(e)for(n=0;n<e.length;n++)i=e.start(n),r=e.end(n),o.some(s)||a.push(r);return 1!==a.length?null:a[0]},m=function(t,e){var n=null,i=null,r=0,a=[],s=[];if(!(t&&t.length&&e&&e.length))return o.default.createTimeRange();for(var u=t.length;u--;)a.push({time:t.start(u),type:"start"}),a.push({time:t.end(u),type:"end"});for(u=e.length;u--;)a.push({time:e.start(u),type:"start"}),a.push({time:e.end(u),type:"end"});for(a.sort(function(t,e){return t.time-e.time}),u=0;u<a.length;u++)"start"===a[u].type?(r++,2===r&&(n=a[u].time)):"end"===a[u].type&&(r--,1===r&&(i=a[u].time)),null!==n&&null!==i&&(s.push([n,i]),n=null,i=null);return o.default.createTimeRanges(s)},g=function(t,e,n,i){for(var r=e.end(0)-e.start(0),a=t.end(0)-t.start(0),o=r-a,s=m(t,i),u=m(e,i),l=0,c=0,d=s.length;d--;)l+=s.end(d)-s.start(d),s.start(d)===n&&(l+=o);for(d=u.length;d--;)c+=u.end(d)-u.start(d);return Math.max(l,c)/r*100},y=function(t,e,n,i){var r=t+e,a=o.default.createTimeRanges([[t,r]]),s=o.default.createTimeRanges([[l(t,[n,r]),r]]);if(s.start(0)===s.end(0))return 0;var u=g(s,a,n,i);return isNaN(u)||u===1/0||u===-(1/0)?0:u},v=function(t){var e=[];if(!t||!t.length)return"";for(var n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},_=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],i=t.length?t.end(t.length-1):0;return(i-e)/n};e.default={findRange:d,findNextRange:h,findGaps:p,findSoleUncommonTimeRangesEnd:f,getSegmentBufferedPercent:y,TIME_FUDGE_FACTOR:s,SAFE_TIME_DELTA:u,printableRange:v,timeUntilRebuffer:_},t.exports=e.default},862:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(859),a=i(r),o=n(811),s=i(o),u=n(863),l=function(t,e){var n=void 0;return t?(n=window.getComputedStyle(t),n?n[e]:""):""},c=function(t,e){var n=t.slice();t.sort(function(t,i){var r=e(t,i);return 0===r?n.indexOf(t)-n.indexOf(i):r})},d=function(t,e){var n=void 0,i=void 0;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||window.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||window.Number.MAX_VALUE,n-i};e.comparePlaylistBandwidth=d;var h=function(t,e){var n=void 0,i=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||window.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||window.Number.MAX_VALUE,n===i&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i};e.comparePlaylistResolution=h;var p=function(t,e,n,i){var r=t.playlists.map(function(t){var e=void 0,n=void 0,i=void 0;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,i=t.attributes.BANDWIDTH,i=i||window.Number.MAX_VALUE,{bandwidth:i,width:e,height:n,playlist:t}});c(r,function(t,e){return t.bandwidth-e.bandwidth}),r=r.filter(function(t){return!s.default.isIncompatible(t.playlist)});var o=r.filter(function(t){return s.default.isEnabled(t.playlist)});o.length||(o=r.filter(function(t){return!s.default.isDisabled(t.playlist)}));var u=o.filter(function(t){return t.bandwidth*a.default.BANDWIDTH_VARIANCE<e}),l=u[u.length-1],d=u.filter(function(t){return t.bandwidth===l.bandwidth})[0],h=u.filter(function(t){return t.width&&t.height});c(h,function(t,e){return t.width-e.width});var p=h.filter(function(t){return t.width===n&&t.height===i});l=p[p.length-1];var f=p.filter(function(t){return t.bandwidth===l.bandwidth})[0],m=void 0,g=void 0,y=void 0;f||(m=h.filter(function(t){return t.width>n||t.height>i}),g=m.filter(function(t){return t.width===m[0].width&&t.height===m[0].height}),l=g[g.length-1],y=g.filter(function(t){return t.bandwidth===l.bandwidth})[0]);var v=y||f||d||o[0]||r[0];return v?v.playlist:null};e.simpleSelector=p;var f=function(){return p(this.playlists.master,this.systemBandwidth,parseInt(l(this.tech_.el(),"width"),10),parseInt(l(this.tech_.el(),"height"),10))};e.lastBandwidthSelector=f;var m=function(t){var e=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return e<0&&(e=this.systemBandwidth),e=t*this.systemBandwidth+(1-t)*e,p(this.playlists.master,e,parseInt(l(this.tech_.el(),"width"),10),parseInt(l(this.tech_.el(),"height"),10))}};e.movingAverageBandwidthSelector=m;var g=function(t){var e=t.master,n=t.currentTime,i=t.bandwidth,r=t.duration,a=t.segmentDuration,o=t.timeUntilRebuffer,u=t.currentTimeline,l=t.syncController,h=e.playlists.filter(function(t){return!s.default.isIncompatible(t)}),p=h.filter(s.default.isEnabled);p.length||(p=h.filter(function(t){return!s.default.isDisabled(t)}));var f=p.filter(s.default.hasAttribute.bind(null,"BANDWIDTH")),m=f.map(function(t){var e=l.getSyncPoint(t,r,u,n),c=e?1:2,d=s.default.estimateSegmentRequestTime(a,i,t),h=d*c-o;return{playlist:t,rebufferingImpact:h}}),g=m.filter(function(t){return t.rebufferingImpact<=0});return c(g,function(t,e){return d(e.playlist,t.playlist)}),g.length?g[0]:(c(m,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),m[0]||null)};e.minRebufferMaxBandwidthSelector=g;var y=function(){var t=this.playlists.master.playlists.filter(s.default.isEnabled);c(t,function(t,e){return d(t,e)});var e=t.filter(function(t){return(0,u.parseCodecs)(t.attributes.CODECS).videoCodec});return e[0]||null};e.lowestBitrateCompatibleVariantSelector=y},863:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e={codecCount:0},n=void 0;return e.codecCount=t.split(",").length,e.codecCount=e.codecCount||2,n=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(t),n&&(e.videoCodec=n[2],e.videoObjectTypeIndicator=n[3]),e.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),e.audioProfile=e.audioProfile&&e.audioProfile[2],e};e.parseCodecs=n},864:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(857),l=i(u),c=n(800),d=i(c),h=n(86),p=i(h),f=n(840),m=i(f),g=n(821),y=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),v=function(t){return String.fromCharCode.apply(null,t)},_=function(t){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,n),this.mediaSource_=null,this.subtitlesTrack_=null}return a(e,t),o(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return d.default.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,n=t[t.length-1].startTime;return d.default.createTimeRanges([[e,n]])}},{key:"initSegment",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!t)return null;var n=(0,g.initSegmentId)(t),i=this.initSegments_[n];if(e&&!i&&t.bytes){var r=y.byteLength+t.bytes.byteLength,a=new Uint8Array(r);a.set(t.bytes),a.set(y,t.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:a}}return i||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return"undefined"==typeof t?this.subtitlesTrack_:(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(t,e){(0,m.default)(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){var n=function(){t.state="READY",t.paused()||t.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(!this.pendingSegment_||!this.subtitlesTrack_)return void(this.state="READY");this.state="APPENDING";var e=this.pendingSegment_,n=e.segment;if("function"!=typeof p.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var i=function(){var e=function(){t.handleSegment_()};return t.state="WAITING_ON_VTTJS",t.subtitlesTrack_.tech_.one("vttjsloaded",e),t.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",e),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")}),{v:void 0}}();if("object"==typeof i)return i.v}n.requested=!0;try{this.parseVTTCues_(e)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}return this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY")):(e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),void this.handleUpdateEnd_())}},{key:"parseVTTCues_",value:function(t){var e=void 0,n=!1;"function"==typeof p.default.TextDecoder?e=new p.default.TextDecoder("utf8"):(e=p.default.WebVTT.StringDecoder(),n=!0);var i=new p.default.WebVTT.Parser(p.default,p.default.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=function(e){return t.timestampmap=e},i.onparsingerror=function(t){d.default.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var r=t.segment.map.bytes;n&&(r=v(r)),i.parse(r)}var a=t.bytes;n&&(a=v(a)),i.parse(a),i.flush()}},{key:"updateTimeMapping_",value:function(t,e,n){var i=t.segment;if(e){if(!t.cues.length)return void(i.empty=!0);var r=t.timestampmap,a=r.MPEGTS/9e4-r.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=a,t.endTime+=a}),!n.syncInfo){var o=t.cues[0].startTime,s=t.cues[t.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:Math.min(o,s-i.duration)}}}}}]),e}(l.default);e.default=_,t.exports=e.default},865:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(86),o=i(a),s=function(t,e){for(var n=t.cues,i=0;i<n.length;i++){var r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},u=function(t,e){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(t.segments)for(var i=n,a=void 0,u=0;u<t.segments.length;u++){var l=t.segments[u];if(a||(a=s(e,i+l.duration/2)),a){if("cueIn"in l){a.endTime=i,a.adEndTime=i,i+=l.duration,a=null;continue}if(i<a.endTime){i+=l.duration;continue}a.endTime+=l.duration}else if("cueOut"in l&&(a=new o.default.VTTCue(i,i+l.duration,l.cueOut),a.adStartTime=i,a.adEndTime=i+parseFloat(l.cueOut),e.addCue(a)),"cueOutCont"in l){var c=void 0,d=void 0,h=l.cueOutCont.split("/").map(parseFloat),p=r(h,2);c=p[0],d=p[1],a=new o.default.VTTCue(i,i+l.duration,""),a.adStartTime=i-c,a.adEndTime=a.adStartTime+d,e.addCue(a)}i+=l.duration}};e.default={updateAdCues:u,findAdCue:s},t.exports=e.default},866:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){for(var i=!0;i;){var r=t,a=e,o=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,a);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(o)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=a,n=o,i=!0,s=l=void 0}},u=n(867),l=i(u),c=n(868),d=n(811),h=n(800),p=i(h),f=[{name:"VOD",run:function(t,e,n,i,r){if(n!==1/0){var a={time:0,segmentIndex:0};return a}return null}},{name:"ProgramDateTime",run:function(t,e,n,i,r){if(t.datetimeToDisplayTime&&e.dateTimeObject){var a=e.dateTimeObject.getTime()/1e3,o=a+t.datetimeToDisplayTime,s={time:o,segmentIndex:0};return s}return null}},{name:"Segment",run:function(t,e,n,i,r){var a=e.segments||[],o=null,s=null;r=r||0;for(var u=0;u<a.length;u++){var l=a[u];if(l.timeline===i&&"undefined"!=typeof l.start){var c=Math.abs(r-l.start);if(null!==s&&s<c)break;(!o||null===s||s>=c)&&(s=c,o={time:l.start,segmentIndex:u})}}return o}},{name:"Discontinuity",run:function(t,e,n,i,r){var a=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var o=null,s=0;s<e.discontinuityStarts.length;s++){var u=e.discontinuityStarts[s],l=e.discontinuitySequence+s+1,c=t.discontinuities[l];if(c){var d=Math.abs(r-c.time);if(null!==o&&o<d)break;(!a||null===o||o>=d)&&(o=d,a={time:c.time,segmentIndex:u})}}return a}},{name:"Playlist",run:function(t,e,n,i,r){if(e.syncInfo){var a={time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence};return a}return null}}];e.syncPointStrategies=f;var m=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,t.debug&&(this.logger_=p.default.log.bind(p.default,"sync-controller ->"))}return a(e,t),o(e,[{key:"getSyncPoint",value:function(t,e,n,i){var r=this.runStrategies_(t,e,n,i);return r.length?this.selectSyncPoint_(r,{key:"time",value:i}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var n=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!n.length)return null;var i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+(0,d.sumDurations)(t,i.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,n,i){for(var r=[],a=0;a<f.length;a++){var o=f[a],s=o.run(this,t,e,n,i);s&&(s.strategy=o.name,r.push({strategy:o.name,syncPoint:s}),this.logger_("syncPoint found via <"+o.name+">:",s))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var n=t[0].syncPoint,i=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,a=1;a<t.length;a++){var o=Math.abs(t[a].syncPoint[e.key]-e.value);o<i&&(i=o,n=t[a].syncPoint,r=t[a].strategy)}return this.logger_("syncPoint with strategy <"+r+"> chosen: ",n),n}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var n=e.mediaSequence-t.mediaSequence,i=n-1;i>=0;i--){var r=t.segments[i];if(r&&"undefined"!=typeof r.start){e.syncInfo={mediaSequence:t.mediaSequence+i,time:r.start},this.logger_("playlist sync:",e.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.dateTimeObject){var e=t.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,n=t.playlist,i=void 0;return i=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t),i&&this.calculateSegmentTimeMapping_(t,i)&&(this.saveDiscontinuitySyncInfo_(t),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+t.mediaIndex,time:e.start})),i}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,n=l.default.timescale(e.map.bytes),i=l.default.startTime(n,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=i),{start:i,end:i+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=(0,c.inspect)(t.bytes,this.inspectCache_),n=void 0,i=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,n=e.video[0].dtsTime,i=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,n=e.audio[0].dtsTime,i=e.audio[1].dtsTime),{start:n,end:i,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return"undefined"==typeof this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return"undefined"==typeof this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var n=t.segment,i=this.timelines[t.timeline];if(null!==t.timestampOffset)this.logger_("tsO:",t.timestampOffset),i={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=i,this.trigger("timestampoffset"),n.start=t.startOfSegment,n.end=e.end+i.mapping;else{if(!i)return!1;n.start=e.start+i.mapping,n.end=e.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,n=t.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(e.discontinuityStarts.length)for(var i=0;i<e.discontinuityStarts.length;i++){var r=e.discontinuityStarts[i],a=e.discontinuitySequence+i+1,o=r-t.mediaIndex,s=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>s){var u=void 0;u=o<0?n.start-(0,d.sumDurations)(e,t.mediaIndex,r):n.end+(0,d.sumDurations)(e,t.mediaIndex+1,r),this.discontinuities[a]={time:u,accuracy:s}}}}},{key:"logger_",value:function(){}}]),e}(p.default.EventTarget);e.default=m},867:function(t,e){/**
	 * mux.js
	 *
	 * Copyright (c) 2015 Brightcove
	 * All rights reserved.
	 *
	 * Utilities to detect basic properties and metadata about MP4s.
	 */
"use strict";var n,i,r,a;n=function(t,e){var r,a,o,s,u,l=[];if(!e.length)return null;for(r=0;r<t.byteLength;)a=t[r]<<24,a|=t[r+1]<<16,a|=t[r+2]<<8,a|=t[r+3],o=i(t.subarray(r+4,r+8)),s=a>1?r+a:t.byteLength,o===e[0]&&(1===e.length?l.push(t.subarray(r+8,s)):(u=n(t.subarray(r+8,s),e.slice(1)),u.length&&(l=l.concat(u)))),r=s;return l},i=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},r=function(t){var e={},i=n(t,["moov","trak"]);return i.reduce(function(t,e){var i,r,a,o,s;return(i=n(e,["tkhd"])[0])?(r=i[0],a=0===r?12:20,o=i[a]<<24|i[a+1]<<16|i[a+2]<<8|i[a+3],(s=n(e,["mdia","mdhd"])[0])?(r=s[0],a=0===r?12:20,t[o]=s[a]<<24|s[a+1]<<16|s[a+2]<<8|s[a+3],t):null):null},e)},a=function(t,e){var i,r,a;return i=n(e,["moof","traf"]),r=[].concat.apply([],i.map(function(e){return n(e,["tfhd"]).map(function(i){var r,a,o;return r=i[4]<<24|i[5]<<16|i[6]<<8|i[7],a=t[r]||9e4,o=n(e,["tfdt"]).map(function(t){var e,n;return e=t[0],n=t[4]<<24|t[5]<<16|t[6]<<8|t[7],1===e&&(n*=Math.pow(2,32),n+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),n})[0],o=o||1/0,o/a})})),a=Math.min.apply(null,r),isFinite(a)?a:0},t.exports={parseType:i,timescale:r,startTime:a}},868:function(t,e,n){/**
	 * mux.js
	 *
	 * Copyright (c) 2016 Brightcove
	 * All rights reserved.
	 *
	 * Parse mpeg2 transport stream packets to extract basic timing information
	 */
"use strict";var i=n(831),r=n(832).handleRollover,a={};a.ts=n(869),a.aac=n(870);var o=9e4,s=188,u=71,l=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},c=function(t,e){for(var n,i,r=0,o=s;o<t.byteLength;)if(t[r]!==u||t[o]!==u)r++,o++;else{switch(n=t.subarray(r,o),i=a.ts.parseType(n,e.pid)){case"pat":e.pid||(e.pid=a.ts.parsePat(n));break;case"pmt":e.table||(e.table=a.ts.parsePmt(n))}if(e.pid&&e.table)return;r+=s,o+=s}},d=function(t,e,n){for(var i,r,o,l,c,d=0,h=s,p=!1;h<t.byteLength;)if(t[d]!==u||t[h]!==u)d++,h++;else{switch(i=t.subarray(d,h),r=a.ts.parseType(i,e.pid)){case"pes":o=a.ts.parsePesType(i,e.table),l=a.ts.parsePayloadUnitStartIndicator(i),"audio"===o&&l&&(c=a.ts.parsePesTime(i),c&&(c.type="audio",n.audio.push(c),p=!0))}if(p)break;d+=s,h+=s}for(h=t.byteLength,d=h-s,p=!1;d>=0;)if(t[d]!==u||t[h]!==u)d--,h--;else{switch(i=t.subarray(d,h),r=a.ts.parseType(i,e.pid)){case"pes":o=a.ts.parsePesType(i,e.table),l=a.ts.parsePayloadUnitStartIndicator(i),"audio"===o&&l&&(c=a.ts.parsePesTime(i),c&&(c.type="audio",n.audio.push(c),p=!0))}if(p)break;d-=s,h-=s}},h=function(t,e,n){for(var i,r,o,l,c,d,h,p,f=0,m=s,g=!1,y={data:[],size:0};m<t.byteLength;)if(t[f]!==u||t[m]!==u)f++,m++;else{switch(i=t.subarray(f,m),r=a.ts.parseType(i,e.pid)){case"pes":if(o=a.ts.parsePesType(i,e.table),l=a.ts.parsePayloadUnitStartIndicator(i),"video"===o&&(l&&!g&&(c=a.ts.parsePesTime(i),c&&(c.type="video",n.video.push(c),g=!0)),!n.firstKeyFrame)){if(l&&0!==y.size){for(d=new Uint8Array(y.size),h=0;y.data.length;)p=y.data.shift(),d.set(p,h),h+=p.byteLength;a.ts.videoPacketContainsKeyFrame(d)&&(n.firstKeyFrame=a.ts.parsePesTime(d),n.firstKeyFrame.type="video"),y.size=0}y.data.push(i),y.size+=i.byteLength}}if(g&&n.firstKeyFrame)break;f+=s,m+=s}for(m=t.byteLength,f=m-s,g=!1;f>=0;)if(t[f]!==u||t[m]!==u)f--,m--;else{switch(i=t.subarray(f,m),r=a.ts.parseType(i,e.pid)){case"pes":o=a.ts.parsePesType(i,e.table),l=a.ts.parsePayloadUnitStartIndicator(i),"video"===o&&l&&(c=a.ts.parsePesTime(i),c&&(c.type="video",n.video.push(c),g=!0))}if(g)break;f-=s,m-=s}},p=function(t,e){if(t.audio&&t.audio.length){var n=e;"undefined"==typeof n&&(n=t.audio[0].dts),t.audio.forEach(function(t){t.dts=r(t.dts,n),t.pts=r(t.pts,n),t.dtsTime=t.dts/o,t.ptsTime=t.pts/o})}if(t.video&&t.video.length){var i=e;if("undefined"==typeof i&&(i=t.video[0].dts),t.video.forEach(function(t){t.dts=r(t.dts,i),t.pts=r(t.pts,i),t.dtsTime=t.dts/o,t.ptsTime=t.pts/o}),t.firstKeyFrame){var a=t.firstKeyFrame;a.dts=r(a.dts,i),a.pts=r(a.pts,i),a.dtsTime=a.dts/o,a.ptsTime=a.dts/o}}},f=function(t){for(var e,n=!1,i=0,r=null,s=null,u=0,l=0;t.length-l>=3;){var c=a.aac.parseType(t,l);switch(c){case"timed-metadata":if(t.length-l<10){n=!0;break}if(u=a.aac.parseId3TagSize(t,l),u>t.length){n=!0;break}null===s&&(e=t.subarray(l,l+u),s=a.aac.parseAacTimestamp(e)),l+=u;break;case"audio":if(t.length-l<7){n=!0;break}if(u=a.aac.parseAdtsSize(t,l),u>t.length){n=!0;break}null===r&&(e=t.subarray(l,l+u),r=a.aac.parseSampleRate(e)),i++,l+=u;break;default:l++}if(n)return null}if(null===r||null===s)return null;var d=o/r,h={audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*i*d,pts:s+1024*i*d}]};return h},m=function(t){var e={pid:null,table:null},n={};c(t,e);for(var r in e.table)if(e.table.hasOwnProperty(r)){var a=e.table[r];switch(a){case i.H264_STREAM_TYPE:n.video=[],h(t,e,n),0===n.video.length&&delete n.video;break;case i.ADTS_STREAM_TYPE:n.audio=[],d(t,e,n),0===n.audio.length&&delete n.audio}}return n},g=function(t,e){var n,i=l(t);return n=i?f(t):m(t),n&&(n.audio||n.video)?(p(n,e),n):null};t.exports={inspect:g}},869:function(t,e,n){/**
	 * mux.js
	 *
	 * Copyright (c) 2016 Brightcove
	 * All rights reserved.
	 *
	 * Utilities to detect basic properties and metadata about TS Segments.
	 */
"use strict";var i=n(831),r=function(t){var e=31&t[1];return e<<=8,e|=t[2]},a=function(t){return!!(64&t[1])},o=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},s=function(t,e){var n=r(t);return 0===n?"pat":n===e?"pmt":e?"pes":null},u=function(t){var e=a(t),n=4+o(t);return e&&(n+=t[n]+1),(31&t[n+10])<<8|t[n+11]},l=function(t){var e={},n=a(t),i=4+o(t);if(n&&(i+=t[i]+1),1&t[i+5]){var r,s,u;r=(15&t[i+1])<<8|t[i+2],s=3+r-4,u=(15&t[i+10])<<8|t[i+11];for(var l=12+u;l<s;){var c=i+l;e[(31&t[c+1])<<8|t[c+2]]=t[c],l+=((15&t[c+3])<<8|t[c+4])+5}return e}},c=function(t,e){var n=r(t),a=e[n];switch(a){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},d=function(t){var e=a(t);if(!e)return null;var n=4+o(t);if(n>=t.byteLength)return null;var i,r=null;return i=t[n+7],192&i&&(r={},r.pts=(14&t[n+9])<<27|(255&t[n+10])<<20|(254&t[n+11])<<12|(255&t[n+12])<<5|(254&t[n+13])>>>3,r.pts*=4,r.pts+=(6&t[n+13])>>>1,r.dts=r.pts,64&i&&(r.dts=(14&t[n+14])<<27|(255&t[n+15])<<20|(254&t[n+16])<<12|(255&t[n+17])<<5|(254&t[n+18])>>>3,r.dts*=4,r.dts+=(6&t[n+18])>>>1)),r},h=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},p=function(t){for(var e,n=4+o(t),i=t.subarray(n),r=0,a=0,s=!1;a<i.byteLength-3;a++)if(1===i[a+2]){r=a+5;break}for(;r<i.byteLength;)switch(i[r]){case 0:if(0!==i[r-1]){r+=2;break}if(0!==i[r-2]){r++;break}a+3!==r-2&&(e=h(31&i[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(s=!0));do r++;while(1!==i[r]&&r<i.length);a=r-2,r+=3;break;case 1:if(0!==i[r-1]||0!==i[r-2]){r+=3;break}e=h(31&i[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(s=!0),a=r-2,r+=3;break;default:r+=3}return i=i.subarray(a),r-=a,a=0,i&&i.byteLength>3&&(e=h(31&i[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(s=!0)),s};t.exports={parseType:s,parsePat:u,parsePmt:l,parsePayloadUnitStartIndicator:a,parsePesType:c,parsePesTime:d,videoPacketContainsKeyFrame:p}},870:function(t,e){/**
	 * mux.js
	 *
	 * Copyright (c) 2016 Brightcove
	 * All rights reserved.
	 *
	 * Utilities to detect basic properties and metadata about Aac data.
	 */
"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},r=function(t,e,n){var i,r="";for(i=e;i<n;i++)r+="%"+("00"+t[i].toString(16)).slice(-2);return r},a=function(t,e,n){return unescape(r(t,e,n))},o=function(t,e){var n=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],i=t[e+5],r=(16&i)>>4;return r?n+20:n+10},s=function(t,e){var n=(224&t[e+5])>>5,i=t[e+4]<<3,r=6144&t[e+3];return r|i|n},u=function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":t[e]&!0&&240===(240&t[e+1])?"audio":null},l=function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240===(246&t[e+1]))return n[(60&t[e+2])>>>2];e++}return null},c=function(t){var e,n,r,o;e=10,64&t[5]&&(e+=4,e+=i(t.subarray(10,14)));do{if(n=i(t.subarray(e+4,e+8)),n<1)return null;if(o=String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3]),"PRIV"===o){r=t.subarray(e+10,e+n+10);for(var s=0;s<r.byteLength;s++)if(0===r[s]){var u=a(r,0,s);if("com.apple.streaming.transportStreamTimestamp"===u){var l=r.subarray(s+1),c=(1&l[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;return c*=4,c+=3&l[7]}break}}e+=10,e+=n}while(e<t.byteLength);return null};t.exports={parseId3TagSize:o,parseAdtsSize:s,parseType:u,parseSampleRate:l,parseAacTimestamp:c}},871:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(86),a=i(r),o=n(813),s=n(821),u=function(t){t.onmessage=function(t){var e=t.data,n=new Uint8Array(e.encrypted.bytes,e.encrypted.byteOffset,e.encrypted.byteLength),i=new Uint32Array(e.key.bytes,e.key.byteOffset,e.key.byteLength/4),r=new Uint32Array(e.iv.bytes,e.iv.byteOffset,e.iv.byteLength/4);new o.Decrypter(n,i,r,function(t,n){a.default.postMessage((0,s.createTransferableMessage)({source:e.source,decrypted:n}),[n.buffer])})}};e.default=function(t){return new u(t)},t.exports=e.default},872:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(800),a=i(r),o=n(797),s=i(o),u=function(){},l=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},c=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)};e.stopLoaders=c;var d=function(t,e){e.activePlaylistLoader=t,t.load()};e.startLoaders=d;var h=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,a=e.mediaTypes[t],o=a.activeTrack(),s=a.activeGroup(o),u=a.activePlaylistLoader;if(c(i,a),s){if(!s.playlistLoader)return void(u&&r.resetEverything());i.resyncLoader(),d(s.playlistLoader,a)}}};e.onGroupChanged=h;var p=function(t,e){return function(){var n=e.segmentLoaders,i=n[t],r=n.main,a=e.mediaTypes[t],o=a.activeTrack(),s=a.activeGroup(o),u=a.activePlaylistLoader;if(c(i,a),s){if(!s.playlistLoader)return void r.resetEverything();if(u===s.playlistLoader)return void d(s.playlistLoader,a);i.track&&i.track(o),i.resetEverything(),d(s.playlistLoader,a)}}};e.onTrackChanged=p;var f={AUDIO:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;c(n,i);var o=i.activeTrack(),s=i.activeGroup(),u=(s.filter(function(t){return t.default})[0]||s[0]).id,l=i.tracks[u];if(o===l)return void r({message:"Problem encountered loading the default audio track."});a.default.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var d in i.tracks)i.tracks[d].enabled=i.tracks[d]===l;i.onTrackChanged()}},SUBTITLES:function(t,e){return function(){var n=e.segmentLoaders[t],i=e.mediaTypes[t];a.default.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),c(n,i);var r=i.activeTrack();r&&(r.mode="disabled"),i.onTrackChanged()}}};e.onError=f;var m={AUDIO:function(t,e,n){if(e){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",f[t](t,n))}},SUBTITLES:function(t,e,n){var i=n.tech,r=n.requestOptions,a=n.segmentLoaders[t],o=n.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();a.playlist(t,r),a.track(o.activeTrack()),(!i.paused()||t.endList&&"none"!==i.preload())&&a.load()}),e.on("loadedplaylist",function(){a.playlist(e.media(),r),i.paused()||a.load()}),e.on("error",f[t](t,n))}};e.setupListeners=m;var g={AUDIO:function(t,e){var n=e.mode,i=e.hls,r=e.segmentLoaders[t],o=e.requestOptions,u=e.master.mediaGroups,c=e.mediaTypes[t],d=c.groups,h=c.tracks;u[t]&&0!==Object.keys(u[t]).length&&"html5"===n||(u[t]={main:{default:{default:!0}}});for(var p in u[t]){d[p]||(d[p]=[]);for(var g in u[t][p]){var y=u[t][p][g],v=void 0;if(v=y.resolvedUri?new s.default(y.resolvedUri,i,o):null,y=a.default.mergeOptions({id:g,playlistLoader:v},y),m[t](t,y.playlistLoader,e),d[p].push(y),"undefined"==typeof h[g]){var _=new a.default.AudioTrack({id:g,kind:l(y),enabled:!1,language:y.language,default:y.default,label:g});h[g]=_}}}r.on("error",f[t](t,e))},SUBTITLES:function(t,e){var n=e.tech,i=e.hls,r=e.segmentLoaders[t],o=e.requestOptions,u=e.master.mediaGroups,l=e.mediaTypes[t],c=l.groups,d=l.tracks;for(var h in u[t]){c[h]||(c[h]=[]);for(var p in u[t][h])if(!u[t][h][p].forced){var g=u[t][h][p];if(g=a.default.mergeOptions({id:p,playlistLoader:new s.default(g.resolvedUri,i,o)},g),m[t](t,g.playlistLoader,e),c[h].push(g),"undefined"==typeof d[p]){var y=n.addRemoteTextTrack({id:p,kind:"subtitles",enabled:!1,language:g.language,label:p},!1).track;d[p]=y}}}r.on("error",f[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var n=e.tech,i=e.master.mediaGroups,r=e.mediaTypes[t],o=r.groups,s=r.tracks;for(var u in i[t]){o[u]||(o[u]=[]);for(var l in i[t][u]){var c=i[t][u][l];if(c.instreamId.match(/CC\d/)&&(o[u].push(a.default.mergeOptions({id:l},c)),"undefined"==typeof s[l])){var d=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",enabled:!1,language:c.language,label:l},!1).track;s[l]=d}}}}};e.initialize=g;var y=function(t,e){return function(n){var i=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,a=i.media();if(!a)return null;var o=null;return a.attributes[t]&&(o=r[a.attributes[t]]),o=o||r.main,"undefined"==typeof n?o:null===n?null:o.filter(function(t){return t.id===n.id})[0]||null}};e.activeGroup=y;var v={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(t,e){return function(){var n=e.mediaTypes[t].tracks;for(var i in n)if("showing"===n[i].mode)return n[i];return null}}};e.activeTrack=v;var _=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){g[e](e,t)});var e=t.mediaTypes,n=t.masterPlaylistLoader,i=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach(function(n){e[n].activeGroup=y(n,t),e[n].activeTrack=v[n](n,t),e[n].onGroupChanged=h(n,t),e[n].onTrackChanged=p(n,t)});var a=e.AUDIO.activeGroup(),o=(a.filter(function(t){return t.default})[0]||a[0]).id;e.AUDIO.tracks[o].enabled=!0,e.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return e[t].onGroupChanged()})});var s=function(){e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"hls-audio-change"})};i.audioTracks().addEventListener("change",s),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",function(){i.audioTracks().removeEventListener("change",s),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(var u in e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[u])};e.setupMediaGroups=_;var b=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:u,activeTrack:u,onGroupChanged:u,onTrackChanged:u}}),t};e.createMediaTypes=b},873:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(811),a=function(t,e,n){return function(i){var a=t.master.playlists[e],o=(0,r.isIncompatible)(a),s=(0,r.isEnabled)(a);return"undefined"==typeof i?s:(i?delete a.disabled:a.disabled=!0,i===s||o||(n(),i?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),i)}},o=function t(e,n,r){i(this,t);var o=e.masterPlaylistController_.fastQualityChange_.bind(e.masterPlaylistController_);if(n.attributes.RESOLUTION){var s=n.attributes.RESOLUTION;this.width=s.width,this.height=s.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=r,this.enabled=a(e.playlists,n.uri,o)},s=function(t){var e=t.playlists;t.representations=function(){return e.master.playlists.filter(function(t){return!(0,r.isIncompatible)(t)}).map(function(e,n){return new o(t,e,e.uri)})}};e.default=s,t.exports=e.default},874:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(86),s=i(o),u=n(861),l=i(u),c=n(800),d=i(c),h=["seeking","seeked","pause","playing","error"],p=function(){function t(e){var n=this;r(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,e.debug&&(this.logger_=d.default.log.bind(d.default,"playback-watcher ->")),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},a=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},u=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",u),this.tech_.on("waiting",a),this.tech_.on(h,o),this.tech_.on("canplay",i),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",u),n.tech_.off("waiting",a),n.tech_.off(h,o),n.tech_.off("canplay",i),n.checkCurrentTimeTimeout_&&s.default.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return a(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&s.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=s.default.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();return this.lastRecordedTime===t&&(!e.length||t+l.default.SAFE_TIME_DELTA>=e.end(e.length-1))?this.techWaiting_():void(this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t))}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking(),e=this.seekable(),n=this.tech_.currentTime(),i=void 0;if(t&&this.afterSeekableWindow_(e,n)){var r=e.end(e.length-1);i=r}if(t&&this.beforeSeekableWindow_(e,n)){var a=e.start(0);i=a+l.default.SAFE_TIME_DELTA}return"undefined"!=typeof i&&(this.logger_("Trying to seek outside of seekable at time "+n+" with "+("seekable range "+l.default.printableRange(e)+". Seeking to ")+(i+".")),this.tech_.setCurrentTime(i),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),n=l.default.findRange(e,t);return n.length&&t+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region "+("["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var n=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var i=this.tech_.buffered(),r=l.default.findNextRange(i,e);if(this.videoUnderflow_(r,i,e))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var a=r.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e){return!!t.length&&e>t.end(t.length-1)+l.default.SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-l.default.SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(t,e,n){if(0===t.length){var i=this.gapFromVideoUnderflow_(e,n);if(i)return this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),n=this.tech_.currentTime(),i=l.default.findNextRange(e,n);this.cancelTimer_(),0!==i.length&&n===t&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+l.default.TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var n=l.default.findGaps(t),i=0;i<n.length;i++){var r=n.start(i),a=n.end(i);if(e-r<4&&e-r>2)return{start:r,end:a}}return null}},{key:"logger_",value:function(){}}]),t}();e.default=p,t.exports=e.default},875:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(800),a=i(r),o={errorInterval:30,getSource:function(t){var e=this.tech({IWillNotUseThisInPlugins:!0}),n=e.currentSource_;return t(n)}},s=function t(e,n){var i=0,r=0,s=a.default.mergeOptions(o,n);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var u=function(){r&&e.currentTime(r)},l=function(t){null!==t&&void 0!==t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",u),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},c=function(){return Date.now()-i<1e3*s.errorInterval?void e.trigger({type:"usage",name:"hls-error-reload-canceled"}):s.getSource&&"function"==typeof s.getSource?(i=Date.now(),s.getSource.call(e,l)):void a.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},d=function t(){e.off("loadedmetadata",u),e.off("error",c),e.off("dispose",t)},h=function(n){d(),t(e,n)};e.on("error",c),e.on("dispose",d),e.reloadSourceOnError=h},u=function(t){s(this,t)};e.default=u,t.exports=e.default},876:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return e("main",{staticClass:"mp-main"},[e("transition",{attrs:{name:"upShow"}},[t.toast_show?e("div",{staticClass:"toast"},["\n          "+t._s(t.toast_msg)+"\n      "]):t._e()])," ",e("audio",{attrs:{id:"js-mp-video"}})," ",e("div",{staticClass:"bg-blur"},[e("img",{attrs:{src:t.sound_now?t.sound_now.pic_100:"/v/app/assets/images/mini-player/90_fff.png"}})])," ",e("div",{staticClass:"mask"})," ",e("section",{staticClass:"mp-control"},[e("div",{staticClass:"panel-left"},[e("i",{staticClass:"prev",on:{click:t.prev}})," ",e("i",{staticClass:"next",on:{click:t.next}})])," ",e("div",{staticClass:"panel-center"},[t.sound_now?e("a",{staticClass:"thumb",attrs:{href:"#/sound/"+t.sound_now.id}},[e("img",{attrs:{src:t.sound_now.pic_100}})]):e("a",{staticClass:"thumb",attrs:{href:"javascript:void(0);"}},[e("img",{attrs:{src:n(877)}})])," "," ",t.sound_now?e("h1",[t._s(t.sound_now.name)]):e("h1",["echo 回声"])," "])," ",e("div",{staticClass:"panel-right"},[e("div",{staticClass:"loop-f",class:"loop-f-"+t.loop,on:{click:t.toggle_looppanel}},[t.show_looppanel?e("div",{staticClass:"loop",on:{mouseleave:t.toggle_looppanel}},[e("a",{staticClass:"loop1",attrs:{"data-num":"1",title:"随机播放"},on:{click:t.change_loop}})," ",e("a",{staticClass:"loop2",staticStyle:{display:"none"},attrs:{"data-num":"2",title:"关闭循环"},on:{click:t.change_loop}})," ",e("a",{staticClass:"loop3",attrs:{"data-num":"3",title:"单曲循环"},on:{click:t.change_loop}})," ",e("a",{staticClass:"loop4",attrs:{"data-num":"4",title:"列表循环"},on:{click:t.change_loop}})]):t._e()])," ",e("i",{staticClass:"like",class:{on:t.sound_now?t.sound_now.is_like:0},on:{click:function(e){t.sound_like(t.sound_now?t.sound_now.id:0)}}})," ",e("i",{staticClass:"unlike",class:{on:t.sound_now?t.sound_now.is_unlike:0},on:{click:function(e){t.sound_unlike(t.sound_now?t.sound_now.id:0)}}})," ",e("div",{staticClass:"panel-volume"})," ",e("i",{staticClass:"toggle-playlist",class:{on:t.show_playlist},on:{click:t.toggle_playlist}})])])," ",e("section",{staticClass:"mp-playlist",class:{on:t.show_playlist}},[e("ul",{staticClass:"panel-header clearfix"},[e("li",{staticClass:"current-list",class:{on:1==t.gid_show},attrs:{"data-type":"1"},on:{click:t.change_playlist}},["播放列表"])," ",e("li",{staticClass:"like-list",class:{on:2==t.gid_show},attrs:{"data-type":"2"},on:{click:t.change_playlist}},["我喜欢的"])," ",e("li",{staticClass:"guess-list",class:{on:3==t.gid_show},staticStyle:{display:"none"},attrs:{"data-type":"3"},on:{click:t.change_playlist}},["猜我喜欢"])," ",e("li",{staticClass:"local-list",class:{on:4==t.gid_show},attrs:{"data-type":"4"},on:{click:t.change_playlist}},["我的离线"])])," ",e("div",{staticClass:"panel-ctrl"},[1==t.gid_show?e("a",{on:{click:t.mp_list_clear}},["清空"]):e("a",{staticClass:"play-all",on:{click:t.play_gid}},["播放全部"])," "])," ",e("ul",{staticClass:"panel-center"},[e("div",{directives:[{name:"show",rawName:"v-show",value:null===t.sound_ids[t.gid_show]||""==t.sound_ids[t.gid_show],expression:"sound_ids[gid_show]===null || sound_ids[gid_show]==''"}],staticClass:"no-sound"},[e("h1",{directives:[{name:"show",rawName:"v-show",value:null===t.sound_ids[t.gid_show],expression:"sound_ids[gid_show]===null"}]},["loading"])," ",1==t.gid_show?[t._m(0)]:t._e()," ",2==t.gid_show?[e("div",{staticClass:"no-sound-text"},[e("img",{attrs:{src:n(878)}})," ",t._m(1)," ",t.self?t._e():e("div",{staticClass:"login-info"},["你还没有登录，点击",e("a",{on:{click:t.do_login}},["登录"])])])]:t._e()," ",4==t.gid_show?[t.is_vip?e("div",{staticClass:"no-sound-text"},[e("img",{attrs:{src:n(878)}})," ",t._m(2)," ",t.self?t._e():e("div",{staticClass:"login-info"},["你还没有登录，点击",e("a",{on:{click:t.do_login}},["登录"])])]):t._e()," ",t.is_vip?t._e():e("div",{staticClass:"no-sound-text"},[e("img",{attrs:{src:n(879)}})," ",t._m(3)," ",t.self?t._e():e("div",{staticClass:"login-info"},["你还没有登录，点击",e("a",{on:{click:t.do_login}},["登录"])])])]:t._e()])," ",t._l(t.sound_ids[t.gid_show],function(n){return e("li",{staticClass:"clearfix",class:{on:t.gid==t.gid_show&&t.sound_now.id==n},on:{click:function(e){t.play(n,t.gid_show)}}},[e("h1",[t._s(t.sound_sources[n].name)])," ",e("h4",[t._s(t._f("sec2his")(t.sound_sources[n].length))])," ",4==t.gid_show?e("h3",{on:{click:function(e){e.stopPropagation(),t.sound_offline_remove(n)}}}):t._e()," ",1==t.gid_show?e("h3",{on:{click:function(e){e.stopPropagation(),t.sound_remove(n)}}}):t._e()," ",1==t.gid_show||2==t.gid_show?e("h2",{class:{on:t.sound_sources[n].is_like},on:{click:function(e){e.stopPropagation(),t.sound_like(n)}}}):t._e()])})])])])},staticRenderFns:[function(){var t=this,e=t.$createElement;t._self._c||e;return e("div",{staticClass:"no-sound-text"},[e("img",{attrs:{src:n(878)}})," ",e("p",["什么都没有啊T T~ ",e("br"),e("a",{attrs:{href:"#/"}},["立即去逛逛 >"])])])},function(){var t=this,e=t.$createElement;t._self._c||e;return e("p",["什么都没有啊T T~",e("br"),"空空如也"])},function(){var t=this,e=t.$createElement;t._self._c||e;return e("p",["什么都没有啊T T~",e("br"),"空空如也"])},function(){var t=this,e=t.$createElement;t._self._c||e;return e("p",["这个是会员特权哦～",e("br"),e("a",{attrs:{href:"#/pay/membership"}},["了解详细 >"])])}]}},877:function(t,e,n){t.exports=n.p+"images/f0fc26f17b1b61a73540d0297f7cca71.png"},878:function(t,e,n){t.exports=n.p+"images/8f9fcc40318e0431f843723a335fb37a.png"},879:function(t,e,n){t.exports=n.p+"images/6eae3079ebbed26a4eb0ca700caac922.png"},880:function(t,e,n){var i,r;i=n(881);var a=n(883);r=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(r=i=i.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=i},881:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r,a=n(882),o=i(a);e.default={data:function(){return{show:!1,text:""}},methods:{init:function(t){this.show=!0,this.text=0===t.indexOf("http")?t:location.protocol+"//www.app-echo.com"+t,console.info("\\qr\\code %c%s","color:#f0f",this.text),"SoundInfo"==this.$route.name&&this.$http.get("api/integral/add-integral?type=3&sound_id="+this.$route.params.id),r?(r.clear(),r.makeCode(this.text)):r=new o.default(document.getElementById("qrcode"),{text:this.text,width:210,height:210,colorDark:"#000000",colorLight:"#ffffff",correctLevel:o.default.CorrectLevel.H})},hide:function(){this.show=!1}}}},882:function(t,e){"use strict";
// Copyright (c) 2009 Kazuhiko Arase
//
// URL: http://www.d-project.com/
//
// Licensed under the MIT license:
//   http://www.opensource.org/licenses/mit-license.php
//
// The word "QR Code" is registered trademark of 
// DENSO WAVE INCORPORATED
//   http://www.denso-wave.com/qrcode/faqpatent-e.html
//
//---------------------------------------------------------------------
function n(t){this.mode=h.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var i=[],r=this.data.charCodeAt(e);r>65536?(i[0]=240|(1835008&r)>>>18,i[1]=128|(258048&r)>>>12,i[2]=128|(4032&r)>>>6,i[3]=128|63&r):r>2048?(i[0]=224|(61440&r)>>>12,i[1]=128|(4032&r)>>>6,i[2]=128|63&r):r>128?(i[0]=192|(1984&r)>>>6,i[1]=128|63&r):i[0]=r,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function i(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function a(t,e){this.totalCount=t,this.dataCount=e}function o(){this.buffer=[],this.length=0}function s(){return"undefined"!=typeof CanvasRenderingContext2D}function u(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var n=e.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(t=parseFloat(n[1]))}return t}function l(t,e){for(var n=1,i=c(t),r=0,a=v.length;r<=a;r++){var o=0;switch(e){case p.L:o=v[r][0];break;case p.M:o=v[r][1];break;case p.Q:o=v[r][2];break;case p.H:o=v[r][3]}if(i<=o)break;n++}if(n>v.length)throw new Error("Too long data");return n}function c(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}Object.defineProperty(e,"__esModule",{value:!0});var d;n.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,n=this.parsedData.length;e<n;e++)t.put(this.parsedData[e],8)}},i.prototype={addData:function(t){var e=new n(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4?this.modules[t+n][e+i]=!0:this.modules[t+n][e+i]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=m.getLostPoint(this);(0==n||t>i)&&(t=i,e=n)}return e},createMovieClip:function(t,e,n){var i=t.createEmptyMovieClip(e,n),r=1;this.make();for(var a=0;a<this.modules.length;a++)for(var o=a*r,s=0;s<this.modules[a].length;s++){var u=s*r,l=this.modules[a][s];l&&(i.beginFill(0,100),i.moveTo(u,o),i.lineTo(u+r,o),i.lineTo(u+r,o+r),i.lineTo(u,o+r),i.endFill())}return i},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=m.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],r=t[n];if(null==this.modules[i][r])for(var a=-2;a<=2;a++)for(var o=-2;o<=2;o++)a==-2||2==a||o==-2||2==o||0==a&&0==o?this.modules[i+a][r+o]=!0:this.modules[i+a][r+o]=!1}},setupTypeNumber:function(t){for(var e=m.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(var n=0;n<18;n++){var i=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=m.getBCHTypeInfo(n),r=0;r<15;r++){var a=!t&&1==(i>>r&1);r<6?this.modules[r][8]=a:r<8?this.modules[r+1][8]=a:this.modules[this.moduleCount-15+r][8]=a}for(var r=0;r<15;r++){var a=!t&&1==(i>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=a:r<9?this.modules[8][15-r-1+1]=a:this.modules[8][15-r-1]=a}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,i=this.moduleCount-1,r=7,a=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;s<2;s++)if(null==this.modules[i][o-s]){var u=!1;a<t.length&&(u=1==(t[a]>>>r&1));var l=m.getMask(e,i,o-s);l&&(u=!u),this.modules[i][o-s]=u,r--,r==-1&&(a++,r=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}}},i.PAD0=236,i.PAD1=17,i.createData=function(t,e,n){for(var r=a.getRSBlocks(t,e),s=new o,u=0;u<n.length;u++){var l=n[u];s.put(l.mode,4),s.put(l.getLength(),m.getLengthInBits(l.mode,t)),l.write(s)}for(var c=0,u=0;u<r.length;u++)c+=r[u].dataCount;if(s.getLengthInBits()>8*c)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*c+")");for(s.getLengthInBits()+4<=8*c&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*c)break;if(s.put(i.PAD0,8),s.getLengthInBits()>=8*c)break;s.put(i.PAD1,8)}return i.createBytes(s,r)},i.createBytes=function(t,e){for(var n=0,i=0,a=0,o=new Array(e.length),s=new Array(e.length),u=0;u<e.length;u++){var l=e[u].dataCount,c=e[u].totalCount-l;i=Math.max(i,l),a=Math.max(a,c),o[u]=new Array(l);for(var d=0;d<o[u].length;d++)o[u][d]=255&t.buffer[d+n];n+=l;var h=m.getErrorCorrectPolynomial(c),p=new r(o[u],h.getLength()-1),f=p.mod(h);s[u]=new Array(h.getLength()-1);for(var d=0;d<s[u].length;d++){var g=d+f.getLength()-s[u].length;s[u][d]=g>=0?f.get(g):0}}for(var y=0,d=0;d<e.length;d++)y+=e[d].totalCount;for(var v=new Array(y),_=0,d=0;d<i;d++)for(var u=0;u<e.length;u++)d<o[u].length&&(v[_++]=o[u][d]);for(var d=0;d<a;d++)for(var u=0;u<e.length;u++)d<s[u].length&&(v[_++]=s[u][d]);return v};for(var h={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},p={L:1,M:0,Q:3,H:2},f={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},m={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;m.getBCHDigit(e)-m.getBCHDigit(m.G15)>=0;)e^=m.G15<<m.getBCHDigit(e)-m.getBCHDigit(m.G15);return(t<<10|e)^m.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;m.getBCHDigit(e)-m.getBCHDigit(m.G18)>=0;)e^=m.G18<<m.getBCHDigit(e)-m.getBCHDigit(m.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return m.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case f.PATTERN000:return(e+n)%2==0;case f.PATTERN001:return e%2==0;case f.PATTERN010:return n%3==0;case f.PATTERN011:return(e+n)%3==0;case f.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case f.PATTERN101:return e*n%2+e*n%3==0;case f.PATTERN110:return(e*n%2+e*n%3)%2==0;case f.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),n=0;n<t;n++)e=e.multiply(new r([1,g.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case h.MODE_NUMBER:return 10;case h.MODE_ALPHA_NUM:return 9;case h.MODE_8BIT_BYTE:return 8;case h.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case h.MODE_NUMBER:return 12;case h.MODE_ALPHA_NUM:return 11;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case h.MODE_NUMBER:return 14;case h.MODE_ALPHA_NUM:return 13;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var r=0;r<e;r++){for(var a=0,o=t.isDark(i,r),s=-1;s<=1;s++)if(!(i+s<0||e<=i+s))for(var u=-1;u<=1;u++)r+u<0||e<=r+u||0==s&&0==u||o==t.isDark(i+s,r+u)&&a++;a>5&&(n+=3+a-5)}for(var i=0;i<e-1;i++)for(var r=0;r<e-1;r++){var l=0;t.isDark(i,r)&&l++,t.isDark(i+1,r)&&l++,t.isDark(i,r+1)&&l++,t.isDark(i+1,r+1)&&l++,0!=l&&4!=l||(n+=3)}for(var i=0;i<e;i++)for(var r=0;r<e-6;r++)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(n+=40);for(var r=0;r<e;r++)for(var i=0;i<e-6;i++)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(n+=40);for(var c=0,r=0;r<e;r++)for(var i=0;i<e;i++)t.isDark(i,r)&&c++;var d=Math.abs(100*c/e/e-50)/5;return n+=10*d}},g={glog:function(t){if(t<1)throw new Error("glog("+t+")");return g.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return g.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},y=0;y<8;y++)g.EXP_TABLE[y]=1<<y;for(var y=8;y<256;y++)g.EXP_TABLE[y]=g.EXP_TABLE[y-4]^g.EXP_TABLE[y-5]^g.EXP_TABLE[y-6]^g.EXP_TABLE[y-8];for(var y=0;y<255;y++)g.LOG_TABLE[g.EXP_TABLE[y]]=y;r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=g.gexp(g.glog(this.get(n))+g.glog(t.get(i)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=g.glog(this.get(0))-g.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(var i=0;i<t.getLength();i++)n[i]^=g.gexp(g.glog(t.get(i))+e);return new r(n,0).mod(t)}},a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(t,e){var n=a.getRsBlockTable(t,e);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,r=[],o=0;o<i;o++)for(var s=n[3*o+0],u=n[3*o+1],l=n[3*o+2],c=0;c<s;c++)r.push(new a(u,l));return r},a.getRsBlockTable=function(t,e){switch(e){case p.L:return a.RS_BLOCK_TABLE[4*(t-1)+0];case p.M:return a.RS_BLOCK_TABLE[4*(t-1)+1];case p.Q:return a.RS_BLOCK_TABLE[4*(t-1)+2];case p.H:return a.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},o.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var v=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],_=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){function e(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var i in e)e.hasOwnProperty(i)&&n.setAttribute(i,e[i]);return n}var n=this._htOption,i=this._el,r=t.getModuleCount();Math.floor(n.width/r),Math.floor(n.height/r);this.clear();var a=e("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:n.colorLight});a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(a),a.appendChild(e("rect",{fill:n.colorLight,width:"100%",height:"100%"})),a.appendChild(e("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var o=0;o<r;o++)for(var s=0;s<r;s++)if(t.isDark(o,s)){var u=e("use",{x:String(s),y:String(o)});u.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),a.appendChild(u)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),b="svg"===document.documentElement.tagName.toLowerCase(),T=b?_:s()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function e(t,e){var n=this;if(n._fFail=e,n._fSuccess=t,null===n._bSupportDataURI){var i=document.createElement("img"),r=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)},a=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)};return i.onabort=r,i.onerror=r,i.onload=a,void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}n._bSupportDataURI===!0&&n._fSuccess?n._fSuccess.call(n):n._bSupportDataURI===!1&&n._fFail&&n._fFail.call(n)}var n=function(t,e){this._bIsPainted=!1,this._android=u(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return n.prototype.draw=function(t){var e=this._elImage,n=this._oContext,i=this._htOption,r=t.getModuleCount(),a=i.width/r,o=i.height/r,s=Math.round(a),u=Math.round(o);e.style.display="none",this.clear();for(var l=0;l<r;l++)for(var c=0;c<r;c++){var d=t.isDark(l,c),h=c*a,p=l*o;n.strokeStyle=d?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=d?i.colorDark:i.colorLight,n.fillRect(h,p,a,o),n.strokeRect(Math.floor(h)+.5,Math.floor(p)+.5,s,u),n.strokeRect(Math.ceil(h)-.5,Math.ceil(p)-.5,s,u)}this._bIsPainted=!0},n.prototype.makeImage=function(){this._bIsPainted&&e.call(this,t)},n.prototype.isPainted=function(){return this._bIsPainted},n.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},n.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},n}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,n=this._el,i=t.getModuleCount(),r=Math.floor(e.width/i),a=Math.floor(e.height/i),o=['<table style="border:0;border-collapse:collapse;">'],s=0;s<i;s++){o.push("<tr>");for(var u=0;u<i;u++)o.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+r+"px;height:"+a+"px;background-color:"+(t.isDark(s,u)?e.colorDark:e.colorLight)+';"></td>');o.push("</tr>")}o.push("</table>"),n.innerHTML=o.join("");var l=n.childNodes[0],c=(e.width-l.offsetWidth)/2,d=(e.height-l.offsetHeight)/2;c>0&&d>0&&(l.style.margin=d+"px "+c+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();d=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:p.H},"string"==typeof e&&(e={text:e}),e)for(var n in e)this._htOption[n]=e[n];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(T=_),this._android=u(),this._el=t,this._oQRCode=null,this._oDrawing=new T(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},d.prototype.makeCode=function(t){this._oQRCode=new i(l(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},d.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},d.prototype.clear=function(){this._oDrawing.clear()},d.CorrectLevel=p,e.default=d=d},883:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"qr-mask",on:{click:t.hide}})," ",e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"qr-body"},[e("div",{staticClass:"qr-main"},[e("h1",["分享到微信朋友圈",e("i",{staticClass:"close",on:{click:t.hide}},["×"])])," ",e("div",{attrs:{id:"qrcode"}})," ",e("h2",["打开微信，点击底部的“发现”，"])," ",e("h2",["使用“扫一扫”即可将网页分享至朋友圈。"])])])])},staticRenderFns:[]}},884:function(t,e,n){var i,r;i=n(885);var a=n(886);r=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(r=i=i.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=i},885:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{info:{},kuang:"",channels_info:{1:{name:"支付宝支付"},2:{name:"微信支付"}}}},watch:{channel_id:function(t,e){t?this.buy():this.kuang=""},show:function(t,e){0==t&&(this.info={},this.kuang="")}},computed:{channel_id:function(){return this.$store.state.pay_modal.channel_id},show:function(){return this.$store.state.pay_modal.show},pay_status:function(){return this.$store.state.pay_modal.pay_status},handlerObj:function(){return this.$store.state.pay_modal.handlerObj},params:function(){return this.$store.state.pay_modal.params},allow_channels_id:function(){return this.$store.state.pay_modal.allow_channels_id},self_user:function(){return this.$store.state.user_modal.self}},methods:{buy:function(){var t=this;if(!this.self_user.id)return void alert_msg("请先登录");if(!this.channel_id)return void alert_msg("请选择支付方式");var e={product_id:this.params.product_id,channel_id:this.channel_id,type:this.params.type,src:this.params.src};this.$http.get("api/pay-web-iframe/info",{params:e}).then(function(e){e=e.data,100==e.status?t.info=e.info:alert_msg(e.desc)},function(t){});var n="/api/pay-web-iframe/buy?"+$.param(e);this.kuang='<iframe id="echoQRIframe" frameborder="0" scrolling="no" src="'+n+'"></iframe>'},set_channel_id:function(t){this.$store.commit("pay_modal/set_channel_id",t)},cancel:function(){this.$store.commit("pay_modal/close"),this.channel_id=null},successHandler:function(){this.$store.state.pay_modal.successHandler(this.handlerObj.trade_no,this.channel_id)},errorHandler:function(){this.$store.state.pay_modal.errorHandler()}}}},886:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return e("div",[t.show?e("div",{staticClass:"pay-web-iframe-mask",on:{click:t.cancel}}):t._e()," ",e("transition",{attrs:{name:"fade"}},[t.show?e("section",{staticClass:"pay-web-iframe"},[e("div",{staticClass:"title"},[e("span",{domProps:{innerHTML:t._s("ing"==t.pay_status?"支付进行中":"温馨提示")}}),e("span",{staticClass:"close",on:{click:t.cancel}})])," ","ing"==t.pay_status?[e("div",{staticClass:"pay-title"},["商品名称：",e("h2",[t._s(t.info.name)])])," ",e("div",{staticClass:"pay-type"},[e("div",{staticClass:"tab-title"},[e("p",{class:{"wechat-on":2==t.channel_id},on:{click:function(e){t.set_channel_id(2)}}},["微信支付"])," ",e("p",{class:{"alipay-on":1==t.channel_id},on:{click:function(e){t.set_channel_id(1)}}},["支付宝支付"])])," ",e("div",{staticClass:"pay-info clearfix"},[e("div",{staticClass:"wechat-alipay-area"},[e("main",{staticClass:"kuang",domProps:{innerHTML:t._s(t.kuang)}})," ",e("span",["扫描二维码轻松支付"])," ",2==t.channel_id?e("em",{staticClass:"wechat"}):t._e()," ",1==t.channel_id?e("em",{staticClass:"alipay"}):t._e()])," ",e("div",{staticClass:"price-area"},[e("p",["付款金额："])," ",e("h5",["￥"+t._s(t.info.price)+" ",t.info.price<t.info.original_price?e("em",["¥"+t._s(t.info.original_price)]):t._e()])])])])]:t._e()," ","ing"!=t.pay_status?[e("div",{staticClass:"pay-web-status-iframe"},["success"==t.pay_status?e("img",{staticClass:"img1",attrs:{src:n(469)}}):t._e()," ","error"==t.pay_status?e("img",{staticClass:"img2",attrs:{src:n(470)}}):t._e()," ","success"==t.pay_status?e("h2",["支付成功，感谢你的支持！"]):t._e()," ","error"==t.pay_status?e("h2",[t._s(t.handlerObj.msg)]):t._e()," ","success"==t.pay_status?e("a",{on:{click:t.successHandler}},["我知道了"]):t._e()," ","error"==t.pay_status?e("a",{on:{click:t.errorHandler}},["再去看看"]):t._e()])]:t._e()]):t._e()])])},staticRenderFns:[]}},887:function(t,e,n){var i,r;i=n(888);var a=n(889);r=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(r=i=i.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=i},888:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{text:location.href,root:""}},mounted:function(){this.root=this.$http.options.root}}},889:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return e("div",{staticClass:"clearfix",attrs:{id:"nav"}},[e("h1",["root : "+t._s(t.text)])," ",e("h1",["ajax : "+t._s(t.root)])," ",e("ul",[e("router-link",{attrs:{to:{name:"Index"}}},["@ztt index"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"MvIndex"}}},["@wms mv index"])," ",e("router-link",{attrs:{to:{name:"MvUpload"}}},["@wcb mv upload"])," ",e("router-link",{attrs:{to:{name:"MvInfo",params:{id:610}}}},["@wms mv 610"])," ",e("router-link",{attrs:{to:{name:"MvInfo",params:{id:620}}}},["@wms mv 620"])," ",e("router-link",{attrs:{to:{name:"SitcomInfo",params:{id:8}}}},["@wms sitcom 8"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"FamousIndex"}}},["@wms famous"])," ",e("router-link",{attrs:{to:{name:"FamousList"}}},["@wms famous list"])," ",e("router-link",{attrs:{to:{name:"FamousApply"}}},["@wms famous apply"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"HotSound"}}},["@wms rank sound-hot"])," ",e("router-link",{attrs:{to:{name:"OriginSound"}}},["@wms rank sound-origin"])," ",e("router-link",{attrs:{to:{name:"HotMv"}}},["@wms rand mv-hot"])," ",e("router-link",{attrs:{to:{name:"GroupIndex"}}},["@tt group index"])," ",e("router-link",{attrs:{to:{name:"GroupAdd"}}},["@tt group add"])," ",e("router-link",{attrs:{to:{name:"GroupPreview",query:{id:"24"}}}},["@tt group preview"])," ",e("router-link",{attrs:{to:{name:"GroupUpload"}}},["@tt group upload"])," ",e("router-link",{attrs:{to:{name:"GroupAward",query:{id:17}}}},["@tt group award"])," ",e("router-link",{attrs:{to:{name:"GroupList"}}},["@tt group list"])," ",e("router-link",{attrs:{to:{name:"GroupAddress"}}},["@tt group address"])," ",e("router-link",{attrs:{to:{name:"GroupRankPreview",query:{id:"4"}}}},["@tt group rank-preview"])," ",e("router-link",{attrs:{to:{name:"GroupRankGift"}}},["@tt group rank-gift"])," ",e("router-link",{attrs:{to:{name:"GroupRankUpload"}}},["@tt group rank-upload"])])," ",e("ul",[e("router-link",{attrs:{to:{name:"SoundInfo",params:{id:1052101}}}},["@wcb sound 1052101"])," ",e("router-link",{attrs:{to:{name:"SoundInfo",params:{id:1119745}}}},["@wcb sound 1119745"])," ",e("router-link",{attrs:{to:{name:"SoundUpload"}}},["@wcb sound upload"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"ChannelIndex"}}},["@tl  channel"])," ",e("router-link",{attrs:{to:{name:"ChannelTag",params:{id:1013}}}},["@tl  channel tag 1013"])," ",e("router-link",{attrs:{to:{name:"ChannelTag",params:{id:1007}}}},["@tl  channel tag 1007"])," ",e("router-link",{attrs:{to:{name:"ChannelInfo",params:{id:190}}}},["@tl  channel 190"])," ",e("router-link",{attrs:{to:{name:"ChannelInfo",params:{id:1155}}}},["@tl  channel 1155"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"UserFeed",query:{uid:"12224215"}}}},["@wcb feeds 12224215"])," ",e("router-link",{attrs:{to:{name:"FeedInfo",params:{id:"76971444"}}}},["@wcb feed 76971444"])," ",e("router-link",{attrs:{to:{name:"FeedInfo",params:{id:"77099934"}}}},["@wcb feed 77099934"])])," ",e("ul",[e("router-link",{attrs:{to:{name:"UserLogin"}}},["@ztt user login"])," ",e("router-link",{attrs:{to:{name:"UserReg"}}},["@ztt user reg"])," ",e("router-link",{attrs:{to:{name:"UserForgetPwd"}}},["@ztt user forget-pwd"])," ",e("router-link",{attrs:{to:{name:"UserEdit"}}},["@ztt user edit"])," ",e("router-link",{attrs:{to:{name:"UserThridLogin"}}},["@tl  user thrid-login"])," ",e("router-link",{attrs:{to:{name:"UserBindMobile"}}},["@tl  user bind-mobile"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"PayMembership"}}},["@ztt pay membership"])," ",e("router-link",{attrs:{to:{name:"PayCoins"}}},["@ztt pay conis"])," ",e("router-link",{attrs:{to:{name:"PayStatus"}}},["@ztt pay status"])," ",e("router-link",{attrs:{to:{name:"PayOrder"}}},["@ztt pay order"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"StoreIndex"}}},["@zyj store index"])," ",e("router-link",{attrs:{to:{name:"StoreList",query:{category:"9"}}}},["@zyj store list"])," ",e("router-link",{attrs:{to:{name:"StoreMyStore"}}},["@ztt store my"])," ",e("router-link",{attrs:{to:{name:"StoreInfo",query:{goods_id:"39"}}}},["@wms store info 39"])," ",e("router-link",{attrs:{to:{name:"StoreOrder",query:{property_id:"61",goods_id:"40",num:"2"}}}},["@wcb store buy 40"])," ",e("router-link",{attrs:{to:{name:"StoreOrderInfo",query:{trade_no:"20160907155611299404380570"}}}},["@ztt store order-info"])])," ",e("ul",[e("router-link",{attrs:{to:{name:"UserSelf"}}},["@wcb user self"])," ",e("router-link",{attrs:{to:{name:"UserInfo",params:{id:12224215}}}},["@wcb user 12224215"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"UserInfo",params:{id:159723}}}},["@tl  star 官方账号"])," ",e("router-link",{attrs:{to:{name:"UserInfo",params:{id:22261}}}},["@tl  star 周杰伦"])," ",e("router-link",{attrs:{to:{name:"UserInfo",params:{id:11237210}}}},["@tl  star 薛之谦"])," ",e("router-link",{attrs:{to:{name:"UserInfo",params:{id:205443}}}},["@tl  star 双笙"])," ",e("router-link",{attrs:{to:{name:"UserInfo",params:{id:4134723}}}},["@tl  star 吴鹏飞"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"AlbumInfo",query:{id:"38"}}}},["@ztt album 38"])," ",e("router-link",{attrs:{to:{name:"AlbumInfo",query:{id:"57"}}}},["@ztt album 57"])," ",e("router-link",{attrs:{to:{name:"AlbumAdd"}}},["@ztt album add"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"UserAlbum",query:{id:22261}}}},["@ztt star album 22261"])," ",e("router-link",{attrs:{to:{name:"UserPhoto",query:{id:22261}}}},["@ztt user photo 22261"])," ",e("router-link",{attrs:{to:{name:"UserMv",query:{id:22261}}}},["@ztt user mv 22261"])])," ",e("ul",[e("router-link",{attrs:{to:{name:"Search",params:{keyword:"3d"}}}},["@wcb search '3d'"])," ",e("br")," ",e("router-link",{attrs:{to:{name:"IndexAbout"}}},["@tl  index about"])," ",e("br")," ",e("a",{attrs:{href:"https://www.825407762.com/test/ua.php"}},["@zyj ua"])," ",e("a",{attrs:{href:"https://www.825407762.com/test/viewport.php"}},["@zyj viewport"])])])},staticRenderFns:[]}}});