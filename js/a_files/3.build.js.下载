/*!
 * Project:    echo web
 * Buildat:    [hash]
 * Author:     zhaoyujie [825407762@qq.com](https://www.825407762.com)
 *             wangcaibin []()
 *             zhangtaotao []()
 *             taolei []()
 *             wangmengsha []()
 */
webpackJsonp([3],{317:function(t,e,s){function i(t){return t&&t.__esModule?t:{default:t}}var n,a,o,r=s(1),l=i(r);/*!
	 * jQuery UI Widget 1.8.21
	 *
	 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
	 * Dual licensed under the MIT or GPL Version 2 licenses.
	 * http://jquery.org/license
	 *
	 * http://docs.jquery.com/UI/Widget
	 */
!function(t,e){if(t.cleanData){var s=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(t){}s(e)}}else{var i=t.fn.remove;t.fn.remove=function(e,s){return this.each(function(){return s||(!e||t.filter(e,[this]).length)&&t("*",this).add([this]).each(function(){try{t(this).triggerHandler("remove")}catch(t){}}),i.call(t(this),e,s)})}}t.widget=function(e,s,i){var n,a=e.split(".")[0];e=e.split(".")[1],n=a+"-"+e,i||(i=s,s=t.Widget),t.expr[":"][n]=function(s){return!!t.data(s,e)},t[a]=t[a]||{},t[a][e]=function(t,e){arguments.length&&this._createWidget(t,e)};var o=new s;o.options=t.extend(!0,{},o.options),t[a][e].prototype=t.extend(!0,o,{namespace:a,widgetName:e,widgetEventPrefix:t[a][e].prototype.widgetEventPrefix||e,widgetBaseClass:n},i),t.widget.bridge(e,t[a][e])},t.widget.bridge=function(s,i){t.fn[s]=function(n){var a="string"==typeof n,o=Array.prototype.slice.call(arguments,1),r=this;return n=!a&&o.length?t.extend.apply(null,[!0,n].concat(o)):n,a&&"_"===n.charAt(0)?r:(a?this.each(function(){var i=t.data(this,s),a=i&&t.isFunction(i[n])?i[n].apply(i,o):i;if(a!==i&&a!==e)return r=a,!1}):this.each(function(){var e=t.data(this,s);e?e.option(n||{})._init():t.data(this,s,new i(n,this))}),r)}},t.Widget=function(t,e){arguments.length&&this._createWidget(t,e)},t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(e,s){t.data(s,this.widgetName,this),this.element=t(s),this.options=t.extend(!0,{},this.options,this._getCreateOptions(),e);var i=this;this.element.bind("remove."+this.widgetName,function(){i.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(s,i){var n=s;if(0===arguments.length)return t.extend({},this.options);if("string"==typeof s){if(i===e)return this.options[s];n={},n[s]=i}return this._setOptions(n),this},_setOptions:function(e){var s=this;return t.each(e,function(t,e){s._setOption(t,e)}),this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",e),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(e,s,i){var n,a,o=this.options[e];if(i=i||{},s=t.Event(s),s.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),s.target=this.element[0],a=s.originalEvent,a)for(n in a)n in s||(s[n]=a[n]);return this.element.trigger(s,i),!(t.isFunction(o)&&o.call(this.element[0],s,i)===!1||s.isDefaultPrevented())}}}(l.default);var u=/<.*>/;!function(i){"use strict";a=[s(1)],n=i,o="function"==typeof n?n.apply(e,a):n,!(void 0!==o&&(t.exports=o))}(function(t,e){"use strict";t.widget("mf.manifest",{options:{formatDisplay:function(t,e,s){return s?s.html():t},formatRemove:function(){return"×"},formatValue:function(t,e,s,i){return i?i.text():t},marcoPolo:!1,onAdd:null,onChange:null,onHighlight:null,onHighlightRemove:null,onRemove:null,onSelect:null,onSelectRemove:null,required:!1,separator:",",values:null,valuesName:null},_marcoPoloOptions:function(){var t=this,e=t.options;return{onFocus:function(){e.marcoPolo.onFocus&&e.marcoPolo.onFocus.call(this),t._resizeInput()},onRequestAfter:function(){t.$container.parent().removeClass("mf_busy"),e.marcoPolo.onRequestAfter&&e.marcoPolo.onRequestAfter.call(this)},onRequestBefore:function(){t.$container.parent().addClass("mf_busy"),e.marcoPolo.onRequestBefore&&e.marcoPolo.onRequestBefore.call(this)},onSelect:function(s,i){var n=!0;e.marcoPolo.onSelect&&(n=e.marcoPolo.onSelect.call(this,s,i)),n!==!1&&t.add(s,i,!0,!1)},required:e.required}},keys:{BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,RIGHT:39,UP:38,SPACEVAR:32},_create:function(){var e,s,i=this,n=i.options;i.$input=s=i.element.addClass("mf_input"),i.inputName="mf_"+(s.attr("name")||t.now()),i.$container=t('<div class="mf_container" />'),i.$list=t('<ol class="mf_list" />').attr({"aria-atomic":"false","aria-live":"polite","aria-multiselectable":"true",id:i.inputName+"_list",role:"listbox"}),i.$measure=t('<span class="mf_measure" />'),i.mousedown=!1,i.mpMousedown=!1,i.inputOriginals={"aria-owns":s.attr("aria-owns"),role:s.attr("role"),width:s.css("width")},n.marcoPolo?(e=s.val(),s.val(""),i._bindMarcoPolo(),s.attr("aria-owns",s.attr("aria-owns")+" "+i.$list.attr("id")),s.val(e)):s.attr({"aria-owns":i.$list.attr("id"),role:"combobox"}),i._bindInput()._bindList()._bindContainer()._bindDocument(),s.wrap(i.$container).before(i.$list).after(i.$measure),i.$container=s.parent(),n.values&&i.add(n.values,null,!1,!0),i._addInputValues()._styleMeasure()._resizeInput()},_setOption:function(e,s){var i=this,n=i.$input;switch(e){case"marcoPolo":i.options.marcoPolo?s?n.marcoPolo("option",t.extend({},s,i._marcoPoloOptions())):n.marcoPolo("destroy"):s&&(i._bindMarcoPolo(t.extend({},s,i._marcoPoloOptions())),n.marcoPolo("list").insertAfter(n.parent()));break;case"required":i.options.marcoPolo&&n.marcoPolo("option","required",s);break;case"values":i.add(s,null,!1,!1);break;case"valuesName":i.$list.find("input:hidden.mf_value").attr("name",s+"[]")}t.Widget.prototype._setOption.apply(i,arguments)},_bindMarcoPolo:function(s){var i=this,n=i.$input,a=i.options;return s===e&&(s=t.extend({},a.marcoPolo,i._marcoPoloOptions())),n.marcoPolo(s),n.marcoPolo("list").bind("mousedown.manifest",function(){i.mpMousedown=!0}),i},_bindInput:function(){var e=this,s=e.$input,i=e.options,n=i.marcoPolo&&0===i.marcoPolo.minChars,a=[e.keys.UP,e.keys.DOWN,e.keys.HOME,e.keys.END];return s.bind("keydown.manifest",function(o){if(e._resizeInput(),!i.required&&e._isSeparator(o.which))return o.preventDefault(),void(s.val()&&e.add(s.val(),null,!0,!1));if(o.which==e.keys.ENTER||o.which==e.keys.SPACEVAR)return o.preventDefault(),void(i.marcoPolo&&i.required?e._resizeInput():s.val()&&e.add(s.val(),null,!0,!1));if(!(s.val()||n&&t.inArray(o.which,a)!==-1))switch(o.which){case e.keys.BACKSPACE:case e.keys.DELETE:var r=e._selected();r.length?e.remove(r):e._selectPrev();break;case e.keys.LEFT:case e.keys.UP:e._selectPrev();break;case e.keys.RIGHT:case e.keys.DOWN:e._selectNext();break;case e.keys.HOME:e._selectFirst();break;case e.keys.END:e._selectLast();break;case e.keys:break;default:e._removeSelected()}}).bind("keypress.manifest",function(t){!i.required&&e._isSeparator(String.fromCharCode(t.which))&&(t.preventDefault(),s.val()&&e.add(s.val(),null,!0,!1))}).bind("keyup.manifest",function(){e._resizeInput()}).bind("paste.manifest",function(){setTimeout(function(){e._resizeInput(),!i.required&&s.val()&&e.add(e._splitBySeparator(s.val()),null,!0,!1)},1)}).bind("blur.manifest",function(){setTimeout(function(){if(e.mousedown||e._removeSelected(),!e.mpMousedown){s.val();i.marcoPolo&&i.required?e._resizeInput():s.val()&&e.add(s.val(),null,!0,!1)}},1)}),e},_bindList:function(){var e=this;return e.$list.delegate("li","mouseover",function(){e._addHighlight(t(this))}).delegate("li","mouseout",function(){e._removeHighlight(t(this))}).delegate("li","mousedown",function(){e.mousedown=!0}).delegate("li","click",function(s){t(s.target).is("a.mf_remove")?(e._removeSelected(),e.remove(t(this)),s.preventDefault()):e._toggleSelect(t(this))}),e},_bindContainer:function(){var t=this;return t.$container.bind("click.manifest",function(){t.$input.focus()}),t},_bindDocument:function(){var e=this,s=e.$input;return t(document).bind("mouseup.manifest",function(i){e.mousedown&&(e.mousedown=!1,t(i.target).is("li.mf_item, li.mf_item *")||e._removeSelected()),e.mpMousedown&&(e.mpMousedown=!1,e.options.required?e._resizeInput():s.val()&&e.add(s.val(),null,!0,!1))}),e},container:function(){return this.$container},list:function(){return this.$list},strlength:function(t){t=t.replace(/[^\u0000-\u00ff]/g,"aa");var e=Math.round(t.length/2);return e},add:function(e,s,i,n,a){for(var o,r=this,l=r.$input,c=r.options,d=t.isArray(e)?e:[e],f=t(),h=t(),m=t(),p=function(e,s,i){f.html(e),h.html(s),m.val(i),f.append(h,m),t.when(r._trigger("add",[o,f,!!n])).then(function(t){t!==!1&&(f.appendTo(r.$list),n||r._trigger("change",["add",o,f]))})},_=0,v=d.length;_<v;_++)o=d[_],o=o.replace(/\s+/g,""),"string"==typeof o&&(o=t.trim(o)),!o||t.isPlainObject(o)&&t.isEmptyObject(o)||r.strlength(o)>10||u.test(o)||(f=t('<li class="mf_item " role="option" aria-selected="false" />'),h=t('<a class="mf_remove" />'),m=t('<input type="hidden" class="mf_value" />'),c.valuesName?m.attr("name",c.valuesName+"[]"):m.attr("name",l.attr("name")+"_values[]"),f.data("manifest",o),t.when(c.formatDisplay.call(l,o,f,s),c.formatRemove.call(l,h,f),c.formatValue.call(l,o,m,f,s)).then(p));i&&r._clearInputValue()},_addInputValues:function(){var e=this,s=e.$input,i=s.data("values"),n=s.val(),a=[];return i?a=t.isArray(i)?i:[i]:n&&(a=e._splitBySeparator(n)),a.length&&e.add(a,null,!0,!0),e},remove:function(e){var s=this,i=t();i=e instanceof l.default?e:s.$list.children(e),i.each(function(){var e=t(this),i=e.data("manifest");t.when(s._trigger("remove",[i,e])).then(function(t){t!==!1&&(s._isSelected(e)&&s._removeSelect(e),e.remove(),s._trigger("change",["remove",i,e]))})})},values:function e(){var s=this,i=s.$list,e=[];return i.find("input:hidden.mf_value").each(function(){e.push(t(this).val())}),e},destroy:function(){var s=this,i=s.$input;s.options.marcoPolo&&i.marcoPolo("destroy"),s.$list.remove(),s.$measure.remove(),i.unwrap().removeClass("mf_input").val(s._joinWithSeparator(s.values())),t.each(s.inputOriginals,function(t,s){s===e?i.removeAttr(t):i.attr(t,s)}),t(document).unbind(".manifest"),t.Widget.prototype.destroy.apply(s,arguments)},_styleMeasure:function(){var t=this,e=t.$input;return t.$measure.css({"font-family":e.css("font-family"),"font-size":e.css("font-size"),"font-style":e.css("font-style"),"font-variant":e.css("font-variant"),"font-weight":e.css("font-weight"),left:-9999,"letter-spacing":e.css("letter-spacing"),position:"absolute","text-transform":e.css("text-transform"),top:-9999,"white-space":"nowrap",width:"auto","word-spacing":e.css("word-spacing")}),t},_measureText:function(t){var e,s=this.$measure;return e=t.replace(/&/g,"&amp;").replace(/\s/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),s.html(e),s.width()},_maxInputWidth:function(){var t=this,e=t.$container,s=t.$input;return e.width()-(s.outerWidth(!0)-s.width())},_resizeInput:function(){var t,e=this,s=e.$input;return t=e._measureText(s.val()+"---"),s.width(Math.min(t,e._maxInputWidth())),e},_clearInputValue:function(){var t=this,e=t.$input;return t.options.marcoPolo?e.marcoPolo("change",null):e.val(""),t._resizeInput(),t},_isSeparator:function(e){var s=this.options.separator;return t.isArray(s)?t.inArray(e,s)!==-1:e===s},_separators:function(e){var s=this.options.separator,i=t.isArray(s)?s:[s];return e&&(i=t.grep(i,function(t){return"string"==typeof t})),i},_firstSeparator:function(t){return this._separators(t).shift()},_splitBySeparator:function(e){var s=this._separators(!0),i=e;return s.length&&(i=e.split(new RegExp("[\\"+s.join("\\")+"]")),i=t.map(i,t.trim)),i},_joinWithSeparator:function(t){var e=this._firstSeparator(!0)||"";return t.join(e+" ")},_firstItem:function(){return this.$list.children("li:first")},_lastItem:function(){return this.$list.children("li:last")},_highlighted:function(){return this.$list.children("li.mf_highlighted")},_addHighlight:function(t){var e=this;return t.length?(e._removeHighlighted(),t.addClass("mf_highlighted"),e._trigger("highlight",[t.data("marcoPolo"),t]),e):e},_removeHighlight:function(t){var e=this;return t.length?(t.removeClass("mf_highlighted"),e._trigger("highlightRemove",[t.data("marcoPolo"),t]),e):e},_removeHighlighted:function(){return this._removeHighlight(this._highlighted())},_selected:function(){return this.$list.children("li.mf_selected")},_isSelected:function(t){return t.hasClass("mf_selected")},_addSelect:function(t){var e=this;return t.length?(e._removeSelected(),t.addClass("mf_selected").attr({"aria-selected":"true",id:e.inputName+"_selected"}),e.$list.attr("aria-activedescendant",t.attr("id")),e._trigger("select",[t.data("marcoPolo"),t]),e):e},_removeSelect:function(t){var e=this;return t.length?(t.removeClass("mf_selected").attr("aria-selected","false").removeAttr("id"),e.$list.removeAttr("aria-activedescendant"),e._trigger("selectRemove",[t.data("marcoPolo"),t]),e):e},_removeSelected:function(){return this._removeSelect(this._selected())},_toggleSelect:function(t){return this._isSelected(t)?this._removeSelect(t):this._addSelect(t)},_selectPrev:function(){var e=this,s=e._selected(),i=t();return i=s.length?s.prev():e._lastItem(),i.length&&e._addSelect(i),e},_selectNext:function(){var t=this,e=t._selected(),s=e.next();return s.length?t._addSelect(s):t._removeSelect(e)},_selectFirst:function(){return this._addSelect(this._firstItem())},_selectLast:function(){return this._addSelect(this._lastItem())},_trigger:function(t,e){var s=this,i="on"+t.charAt(0).toUpperCase()+t.slice(1),n=s.widgetEventPrefix.toLowerCase()+t.toLowerCase(),a=s.options[i];return s.element.trigger(n,e),a&&a.apply(s.element,e)}})})},319:function(t,e,s){var i,n;i=s(320);var a=s(345);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=a.render,n.staticRenderFns=a.staticRenderFns,t.exports=i},320:function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(297),a=i(n),o=s(321),r=i(o),l=s(337),u=i(l),c=s(341),d=i(c),f=s(280),h=i(f),m=s(200);s(317),e.default={components:{DanmuCard:h.default},data:function(){return{loading:!0,sound:{},tags:[],tags_hot:[],tags_mine:[],comments:[],bullet:"",show_filters:!1,types:{1:0,2:null,3:null,4:null,5:null},newtags:[],show_newtags:!1,troggle_danmu:!0,can_play:!0,error_msg:"因您所在国家（地区）的法律法规，此内容无法播放。",sv:null}},computed:{mp_modal:function(){var t=this.$store.state.mp_modal,e={playing:!1,progress:0,sound_now:null};return t.sound_now&&t.sound_now.id==this.sound.id?t:e},prestyle:function(){var t=this.types[2]?"f-"+this.types[2]:"",e=this.types[5]?"f-"+this.types[5]:"";return(t+" "+e).trim()},limitedComments:function(t){return this.comments.slice(0,10)},self_user:function(){return this.$store.state.user_modal.self}},created:function(){this.fetchData()},watch:{$route:"fetchData"},mounted:function(){},methods:{sec2his:m.sec2his,at_replace:m.at_replace,get_vip_lv:m.get_vip_lv,default_avatar:m.default_avatar,fetchData:function(){var t=this;this.sound.id=this.$route.params.id,this.$http.get("api/sound/info",{params:{id:this.sound.id,p_c:this.$route.query.p_c,comment:1}}).then(function(e){e=e.data,100==e.status?(t.can_play=!0,t.sound=e.info,t.comments=e.comments,!t.sound.is_bought&&t.sound.is_pay&&(t.sound.length=0),t.bind_manifest(),document.title=t.sound.name+TITLE_SUFFIX,2==Number(e.info.sound_type)&&setTimeout(function(){t.short_video_init()})):(t.can_play=!1,t.error_msg=e.desc)},function(e){t.can_play=!1}),this.$http.get("api/tag/sound?id="+this.sound.id).then(function(e){e=e.body,100==e.status&&(t.tags=e.tags,t.tags_hot=e.tags_hot,t.tags_mine=e.tags_mine)},function(t){})},short_video_init:function(){var t=this;this.sv=document.querySelector("video"),this.sv&&(this.sv.ontimeupdate=function(){t.$store.commit("mp_modal/progress",t.sv.currentTime)},this.sv.onplay=function(){t.$store.dispatch("mp_modal/toggle",!0),t.$root.mp&&t.$root.mp.pause(),t.$root.mp_mv&&t.$root.mp_mv.pause(),t.$root.mp_sitcom&&t.$root.mp_sitcom.pause()},this.sv.onpause=function(){t.$store.dispatch("mp_modal/toggle",!1)},this.sv.onended=function(){t.$store.dispatch("mp_modal/toggle",!1)},this.$root.mp_shortvideo=this.sv,this.sv.load())},toggle_video_play:function(){this.sv&&(this.sv.paused?(this.sv.play(),this.$store.commit("mp_modal/load",this.sound)):this.sv.pause())},bind_manifest:function(){var t=this;setTimeout(function(){$("#mf_input").manifest({valuesName:"tags",onAdd:function(e){t.newtags.push(e)},onRemove:function(e){var s=t.newtags;s.splice(s.indexOf(e),1)}})},100)},seek:function(t){if(this.mp_modal.sound_now&&this.mp_modal.sound_now.id==this.sound.id){var e=Math.floor(t.offsetX/620*this.sound.length);2==Number(this.sound.sound_type)&&this.sv?this.sv.currentTime=e:"undefined"!=typeof this.$root.mp&&this.$root.mp.currentTime(e)}},sound_like:function(){var t=this;this.self_user.id||this.$store.commit("login_modal/toggle_show"),this.$http.post("sound/api-like",{id:this.sound.id}).then(function(e){e=e.data,100==e.status&&(t.mp_modal.sound_now&&t.mp_modal.sound_now.id==t.sound.id?t.$store.commit("mp_modal/sound_now_set",{key:"is_like",val:~~e.ret}):t.sound.is_like=e.ret)},function(t){})},add_bullet:function(){var t=this;this.self_user.id||this.$store.commit("login_modal/toggle_show");var e={};for(var s in this.types)this.types[s]&&(e["type_id["+s+"]"]=this.types[s]);var i=(0,d.default)({id:this.sound.id,content:this.bullet.trim(),"type_id[1]":0,type:1,created_time:this.mp_modal.progress},e);this.$http.post("api/bullet/add",i).then(function(e){e=e.data,100==e.status?(alert_msg("发送成功"),t.$refs.dm.add(e.desc)):alert_msg(e.desc),t.bullet=""},function(t){})},checkit:function(t,e){this.types[t]==e?this.types[t]=null:this.types[t]=e},reply:function(t){this.bullet="@"+t+" "},select_tag:function(t){var e=$.Event("keydown");e.which=13,$("#mf_input").val(t).trigger(e)},bullet_like:function(t,e,s){var i=this;if(!this.self_user.id)return void alert_msg("请先登录");var n=~~!t;this.$http.post("sound/bullet-like",{sound_id:this.sound.id,bullet_id:e,type:n}).then(function(t){i.comments[s].is_like=n,i.comments[s].like=n?~~i.comments[s].like+1:~~i.comments[s].like-1},function(t){})},add_tags:function(){var t=this;if(!this.newtags.length)return void alert_msg("还没有添加标签");if(this.newtags.length>8)return void alert_msg("最多同时添加8个标签");var e=(0,u.default)(new r.default(this.newtags)),s=[this.tags.map(function(t){return t.content}),this.tags_mine.map(function(t){return t.name})],i=s[0],n=s[1];this.$http.post("api/tag/sound-add",{sound_id:this.sound.id,tags:e}).then(function(e){if(100==e.body.status){var s=e.body.desc,o=!0,r=!1,l=void 0;try{for(var u,c=(0,a.default)(s);!(o=(u=c.next()).done);o=!0){var d=u.value;i.includes(d.tag_name)||n.includes(d.tag_name)||t.tags_mine.push({id:d.tag_id,name:d.tag_name})}}catch(t){r=!0,l=t}finally{try{!o&&c.return&&c.return()}finally{if(r)throw l}}t.newtags=[],t.show_newtags=!1,$(".sound.sound-info .add-tags .mf_container .mf_list").html("")}},function(t){})},delete_tag:function(t,e){var s=this;this.$http.get("sound/del-diy-tag?sound_id="+this.sound.id+"&tag_id="+t).then(function(t){100==t.body.status&&s.tags_mine.splice(e,1)},function(t){})},pay_call:function(){var t=this;this.$store.dispatch("pay_modal/load",{params:{type:4,sound_id:this.sound.id,src:10,product_id:this.sound.id},successHandler:function(){t.fetchData(),t.$store.commit("pay_modal/close")}})},go_back:function(){this.$router.go(-1)},share_qrcode:function(t){this.$root.$refs.qr.init(t)},share_weibo:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){share_weibo({title:this.sound.name,pic:this.sound.pic})})}}},321:function(t,e,s){t.exports={default:s(322),__esModule:!0}},322:function(t,e,s){s(204),s(205),s(233),s(323),s(330),s(333),s(335),t.exports=s(184).Set},323:function(t,e,s){"use strict";var i=s(324),n=s(325),a="Set";t.exports=s(326)(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return i.def(n(this,a),t=0===t?0:t,t)}},i)},324:function(t,e,s){"use strict";var i=s(188).f,n=s(214),a=s(252),o=s(185),r=s(239),l=s(240),u=s(209),c=s(236),d=s(253),f=s(192),h=s(269).fastKey,m=s(325),p=f?"_s":"size",_=function(t,e){var s,i=h(e);if("F"!==i)return t._i[i];for(s=t._f;s;s=s.n)if(s.k==e)return s};t.exports={getConstructor:function(t,e,s,u){var c=t(function(t,i){r(t,c,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[p]=0,void 0!=i&&l(i,s,t[u],t)});return a(c.prototype,{clear:function(){for(var t=m(this,e),s=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete s[i.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var s=m(this,e),i=_(s,t);if(i){var n=i.n,a=i.p;delete s._i[i.i],i.r=!0,a&&(a.n=n),n&&(n.p=a),s._f==i&&(s._f=n),s._l==i&&(s._l=a),s[p]--}return!!i},forEach:function(t){m(this,e);for(var s,i=o(t,arguments.length>1?arguments[1]:void 0,3);s=s?s.n:this._f;)for(i(s.v,s.k,this);s&&s.r;)s=s.p},has:function(t){return!!_(m(this,e),t)}}),f&&i(c.prototype,"size",{get:function(){return m(this,e)[p]}}),c},def:function(t,e,s){var i,n,a=_(t,e);return a?a.v=s:(t._l=a={i:n=h(e,!0),k:e,v:s,p:i=t._l,n:void 0,r:!1},t._f||(t._f=a),i&&(i.n=a),t[p]++,"F"!==n&&(t._i[n]=a)),t},getEntry:_,setStrong:function(t,e,s){u(t,e,function(t,s){this._t=m(t,e),this._k=s,this._l=void 0},function(){for(var t=this,e=t._k,s=t._l;s&&s.r;)s=s.p;return t._t&&(t._l=s=s?s.n:t._t._f)?"keys"==e?c(0,s.k):"values"==e?c(0,s.v):c(0,[s.k,s.v]):(t._t=void 0,c(1))},s?"entries":"values",!s,!0),d(e)}}},325:function(t,e,s){var i=s(190);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},326:function(t,e,s){"use strict";var i=s(183),n=s(182),a=s(269),o=s(193),r=s(187),l=s(252),u=s(240),c=s(239),d=s(190),f=s(229),h=s(188).f,m=s(327)(0),p=s(192);t.exports=function(t,e,s,_,v,g){var y=i[t],w=y,C=v?"set":"add",b=w&&w.prototype,k={};return p&&"function"==typeof w&&(g||b.forEach&&!o(function(){(new w).entries().next()}))?(w=e(function(e,s){c(e,w,t,"_c"),e._c=new y,void 0!=s&&u(s,v,e[C],e)}),m("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in b&&(!g||"clear"!=t)&&r(w.prototype,t,function(s,i){if(c(this,w,t),!e&&g&&!d(s))return"get"==t&&void 0;var n=this._c[t](0===s?0:s,i);return e?this:n})}),g||h(w.prototype,"size",{get:function(){return this._c.size}})):(w=_.getConstructor(e,t,v,C),l(w.prototype,s),a.NEED=!0),f(w,t),k[t]=w,n(n.G+n.W+n.F,k),g||_.setStrong(w,t,v),w}},327:function(t,e,s){var i=s(185),n=s(219),a=s(232),o=s(222),r=s(328);t.exports=function(t,e){var s=1==t,l=2==t,u=3==t,c=4==t,d=6==t,f=5==t||d,h=e||r;return function(e,r,m){for(var p,_,v=a(e),g=n(v),y=i(r,m,3),w=o(g.length),C=0,b=s?h(e,w):l?h(e,0):void 0;w>C;C++)if((f||C in g)&&(p=g[C],_=y(p,C,v),t))if(s)b[C]=_;else if(_)switch(t){case 3:return!0;case 5:return p;case 6:return C;case 2:b.push(p)}else if(c)return!1;return d?-1:u||c?c:b}}},328:function(t,e,s){var i=s(329);t.exports=function(t,e){return new(i(t))(e)}},329:function(t,e,s){var i=s(190),n=s(274),a=s(230)("species");t.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),i(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},330:function(t,e,s){var i=s(182);i(i.P+i.R,"Set",{toJSON:s(331)("Set")})},331:function(t,e,s){var i=s(238),n=s(332);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},332:function(t,e,s){var i=s(240);t.exports=function(t,e){var s=[];return i(t,!1,s.push,s,e),s}},333:function(t,e,s){s(334)("Set")},334:function(t,e,s){"use strict";var i=s(182);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},335:function(t,e,s){s(336)("Set")},336:function(t,e,s){"use strict";var i=s(182),n=s(186),a=s(185),o=s(240);t.exports=function(t){i(i.S,t,{from:function(t){var e,s,i,r,l=arguments[1];return n(this),e=void 0!==l,e&&n(l),void 0==t?new this:(s=[],e?(i=0,r=a(l,arguments[2],2),o(t,!1,function(t){s.push(r(t,i++))})):o(t,!1,s.push,s),new this(s))}})}},337:function(t,e,s){t.exports={default:s(338),__esModule:!0}},338:function(t,e,s){s(205),s(339),t.exports=s(184).Array.from},339:function(t,e,s){"use strict";var i=s(185),n=s(182),a=s(232),o=s(241),r=s(242),l=s(222),u=s(340),c=s(243);n(n.S+n.F*!s(254)(function(t){Array.from(t)}),"Array",{from:function(t){var e,s,n,d,f=a(t),h="function"==typeof this?this:Array,m=arguments.length,p=m>1?arguments[1]:void 0,_=void 0!==p,v=0,g=c(f);if(_&&(p=i(p,m>2?arguments[2]:void 0,2)),void 0==g||h==Array&&r(g))for(e=l(f.length),s=new h(e);e>v;v++)u(s,v,_?p(f[v],v):f[v]);else for(d=g.call(f),s=new h;!(n=d.next()).done;v++)u(s,v,_?o(d,p,[n.value,v],!0):n.value);return s.length=v,s}})},340:function(t,e,s){"use strict";var i=s(188),n=s(196);t.exports=function(t,e,s){e in t?i.f(t,e,n(0,s)):t[e]=s}},345:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return e("div",{staticClass:"sound sound-info"},[t.can_play&&t.sound.name?[e("section",{staticClass:"main clearfix"},[e("nav",[e("a",{staticClass:"back",on:{click:t.go_back}},["返回"])," ",e("div",{staticClass:"share"},[e("span",["分享"])," ",e("a",{staticClass:"to-weixin",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.share_qrcode("/sound/"+t.sound.id)}}})," ",e("a",{staticClass:"to-weibo",attrs:{href:"javascript:void(0)"},on:{click:t.share_weibo}})])])," ",e("div",{staticClass:"sound-title clearfix"},[2==Number(t.sound.sound_type)?[t.sound.parent_sound?e("div",{staticClass:"short-video-title"},[e("div",{staticClass:"cover"},[e("img",{attrs:{src:t.sound.parent_sound.pic_100}})," ",e("a",{attrs:{href:"#/sound/"+t.sound.parent_id}})])," ",e("div",{staticClass:"text"},[e("h3",["此MV所属的回声"])," ",e("h1",[e("span",{staticClass:"name"},[t._s(t.sound.parent_sound.name)]),e("span",{staticClass:"time"},[t._s(t._f("sec2his")(t.sound.parent_sound.length))])])," ",t.sound.channel?e("h4",[e("router-link",{staticClass:"back",attrs:{to:{name:"ChannelInfo",params:{id:t.sound.channel.id}}}},[t._s(t.sound.channel.name)]),"频道"]):t._e()])]):t._e()]:[e("div",{staticClass:"title"},[t._s(t.sound.name)])]," "," ",e("div",{staticClass:"sound-status"},[t.sound.channel?e("h5",[2!=Number(t.sound.sound_type)?[t.sound.channel?e("router-link",{staticClass:"back",attrs:{to:{name:"ChannelInfo",params:{id:t.sound.channel.id}}}},[t._s(t.sound.channel.name)]):t._e(),"频道"]:t._e()," ",e("span",[t._s(t.sound.view_count)+"次"]),"播放\n\t\t\t\t"]):t._e()," ",e("div",{staticClass:"status"},[e("div",{staticClass:"td share"},[t._s(t._f("devide_10k")(t.sound.share_count))])," ",e("div",{staticClass:"td like"},[t._s(t._f("devide_10k")(t.sound.like_count))])," ",e("div",{staticClass:"td comment"},[t._s(t._f("devide_10k")(t.sound.comment_count))])])])])," ",e("div",{staticClass:"sound-bullets-wp"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.troggle_danmu,expression:"troggle_danmu"}],staticClass:"sound-dm"},[e("danmu-card",{ref:"dm",attrs:{type:1,id:t.sound.id}})])," ",e("div",{staticClass:"bg-mask-wp"},[e("img",{staticClass:"pic",attrs:{src:t.sound.pic_500}})," ",e("div",{staticClass:"bg-mask",class:{"need-pay":t.sound.is_pay,"is-bought":t.sound.is_bought&&t.sound.is_pay}})])," ",2==Number(t.sound.sound_type)?[e("div",{staticClass:"short-video"},[e("video",{attrs:{src:t.sound.web_source,poster:t.sound.pic_500}})," ",e("div",{staticClass:"video-play-btn",class:{off:t.mp_modal.playing},on:{click:t.toggle_video_play}})])]:[e("div",{staticClass:"sound-cover",class:{"need-pay":t.sound.is_pay,"is-bought":t.sound.is_bought&&t.sound.is_pay}},[e("img",{attrs:{src:t.sound.pic_500}})," ",t.sound.is_pay&&!t.sound.is_bought?e("div",{staticClass:"sound-cover-btn"},[e("div",{staticClass:"button",on:{click:t.pay_call}},["购买单曲"])," ",e("div",{staticClass:"price"},["￥"+t._s(t.sound.pay_cash)])]):t._e()," ",t.sound.is_pay&&t.sound.is_bought?e("div",{staticClass:"has-pay-tag"},["已购买"]):t._e()])]," "," ",t.sound.is_pay&&!t.sound.is_bought?e("div",{staticClass:"payment-sound-tips"},["您可以试听30秒钟 支持正版 购买单曲即可聆听完整单曲"]):t._e()," ",e("div",{staticClass:"sound-controls clearfix",class:{"up-zindex":!t.sound.is_bought&&t.sound.is_pay}},[2==Number(t.sound.sound_type)?[e("div",{class:["video-play-btn",t.mp_modal.playing?"is-playing":"is-paused"],on:{click:t.toggle_video_play}})]:[e("div",{class:["play-btn",t.mp_modal.playing?"is-playing":"is-paused"],attrs:{"data-sid":t.sound.id}})]," "," ",e("div",{staticClass:"duration time1"},[t._s(t._f("sec2his")(t.mp_modal.progress))])," ",e("div",{staticClass:"vmp-timeline",on:{click:function(e){t.seek(e)}}},[e("div",{staticClass:"vmp-buffer"})," ",e("div",{staticClass:"vmp-progress",style:{width:t.sound.length?100*~~t.mp_modal.progress/~~t.sound.length+"%":0}})])," ",e("div",{staticClass:"total-time"},[t._s(t._f("sec2his")(t.sound.length))])," ",e("i",{staticClass:"play-type loop"})," ",e("i",{staticClass:"icon-love",class:{on:t.mp_modal.sound_now&&t.sound.id==t.mp_modal.sound_now.id?t.mp_modal.sound_now.is_like:t.sound.is_like},on:{click:t.sound_like}})," ",e("div",{staticClass:"troggle-danmu",on:{click:function(e){t.troggle_danmu=!t.troggle_danmu}}},[t._s(t.troggle_danmu?"关闭弹幕":"打开弹幕")])])])," ",e("div",{staticClass:"user-ctrl-bar"},[e("div",{staticClass:"tags-area clearfix"},[e("div",{staticClass:"tags-list"},[e("ul",[t._l(t.tags,function(s){return s?e("li",[t._s(s.content)]):t._e()})," ",t._l(t.tags_mine,function(s,i){return e("li",{staticClass:"new"},[t._s(s.name),e("i",{staticClass:"delete",on:{click:function(e){t.delete_tag(s.id,i)}}},["×"])])})])," ",t.self_user.id?e("div",{staticClass:"addnew",on:{click:function(e){t.show_newtags=!0}}},["添加标签"]):t._e()])," ",t.sound.user?e("div",{staticClass:"adder-infos"},[e("router-link",{staticClass:"adder-user-avatar",class:"user-avatar icon-famous icon-famous"+t.sound.user.famous_type,attrs:{to:{name:"UserInfo",params:{id:t.sound.user.id}}}},[e("img",{attrs:{src:t.default_avatar(t.sound.user.avatar)}})])," ",e("div",{staticClass:"adder-text"},[e("router-link",{staticClass:"addername",attrs:{to:{name:"UserInfo",params:{id:t.sound.user.id}}}},[t._s(t.sound.user.name)])," ",e("small",[t._s(t._f("ymd")(t.sound.create_time))+" 上传"])])]):t._e()])," ",e("div",{staticClass:"user-comment clearfix"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.bullet,expression:"bullet",modifiers:{trim:!0}}],staticClass:"comment-input",attrs:{type:"text",placeholder:"在"+t.sec2his(t.mp_modal.progress)+"发个弹幕和评论"},domProps:{value:t._s(t.bullet)},on:{input:function(e){e.target.composing||(t.bullet=e.target.value.trim())}}})," ",e("div",{staticClass:"btn-submit",on:{click:t.add_bullet}},["发送"])," ",e("div",{staticClass:"select-filter",on:{click:function(e){t.show_filters=!t.show_filters}}},["特效"])])," "," ",e("transition",{attrs:{name:"slide"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show_filters,expression:"show_filters"}],staticClass:"choose-filter-wp"},[e("section",{staticClass:"choose-filter"},[e("div",{staticClass:"preview clearfix"},[e("div",{staticClass:"prev-title"},["弹幕预览"])," ",e("div",{staticClass:"prev-content",class:t.prestyle},[e("span",{staticClass:"author"},[t._s(t.self_user.name)])," ",e("span",{staticClass:"comment"},[t._s(t.bullet?t.bullet:"请在上方输入您要发送的内容")])])])," ",e("div",{staticClass:"options clearfix"},[e("div",{staticClass:"filter f-1",class:{on:1==t.types[2]},on:{click:function(e){t.checkit(2,1)}}},["微微闪光",e("span",["26"])])," ",e("div",{staticClass:"filter f-2",class:{on:2==t.types[2]},on:{click:function(e){t.checkit(2,2)}}},["闪闪发光",e("span",["50"])])," ",e("div",{staticClass:"filter f-8",class:{on:8==t.types[2]},on:{click:function(e){t.checkit(2,8)}}},["字体变大",e("span",["50"])])," ",e("div",{staticClass:"filter f-7",class:{on:7==t.types[3]},on:{click:function(e){t.checkit(3,7)}}},["减慢速度",e("span",["50"])])," ",e("div",{staticClass:"filter f-3",class:{on:3==t.types[4]},on:{click:function(e){t.checkit(4,3)}}},["静止1秒",e("span",["50"])])," ",e("div",{staticClass:"filter f-4",class:{on:4==t.types[4]
},on:{click:function(e){t.checkit(4,4)}}},["静止5秒",e("span",["88"])])," ",e("div",{staticClass:"filter f-5",class:{on:5==t.types[5]},on:{click:function(e){t.checkit(5,5)}}},["背景变色",e("span",["88"])])," ",e("div",{staticClass:"filter f-9",class:{on:9==t.types[5]},on:{click:function(e){t.checkit(5,9)}}},["背景变色",e("span",["88"])])," ",e("div",{staticClass:"filter f-10",class:{on:10==t.types[5]},on:{click:function(e){t.checkit(5,10)}}},["背景变色",e("span",["88"])])," ",e("div",{staticClass:"filter f-11",class:{on:11==t.types[5]},on:{click:function(e){t.checkit(5,11)}}},["背景变色",e("span",["88"])])," ",e("div",{staticClass:"filter f-12",class:{on:12==t.types[5]},on:{click:function(e){t.checkit(5,12)}}},["背景变色",e("span",["88"])])," ",e("div",{staticClass:"filter f-13",class:{on:13==t.types[5]},on:{click:function(e){t.checkit(5,13)}}},["背景变色",e("span",["88"])])])])])])])])," ",t._e()," ",e("section",{staticClass:"infos clearfix"},[e("div",{staticClass:"lyrics"},[e("h1",["简介"])," ",e("p",{staticClass:"infos"},[t.sound.song_info&&t.sound.song_info.name?[t._s(t.sound.song_info.name.type)+"："+t._s(t.sound.song_info.name.name)+" ",e("br")]:t._e()," ",t.sound.song_info&&t.sound.song_info.author?[t._s(t.sound.song_info.author.type)+"："+t._s(t.sound.song_info.author.name)+" ",e("br")]:t._e()," ",t.sound.song_info&&t.sound.song_info.album_name?[t._s(t.sound.song_info.album_name.type)+"："+t._s(t.sound.song_info.album_name.name)+" ",e("br")]:t._e(),"\n\t\t\t\t"+t._s(t.sound.info)+" ",e("br")," ",t.sound.lrc?[t._s(t.sound.lrc)]:t._e()])])," ",e("div",{staticClass:"comments"},[e("h1",["热门评论"])," ",e("ul",{staticClass:"comment-area"},[t._l(t.limitedComments,function(s,i){return s.user?e("li",{staticClass:"comment-list clearfix"},[e("router-link",{staticClass:"user-avatar",class:"user-avatar icon-famous icon-famous"+s.user.famous_type,attrs:{to:{name:"UserInfo",params:{id:s.user.id}}}},[e("img",{attrs:{src:t.default_avatar(s.user.avatar)}})])," ",e("div",{staticClass:"comment-inner-wp"},[e("div",{staticClass:"user-info"},[e("router-link",{staticClass:"user-name",attrs:{to:{name:"UserInfo",params:{id:s.user.id}}}},[t._s(s.user.name)])," ",e("span",{staticClass:"user-date"},[t._s(t._f("ymd")(s.create_time))])])," ",e("p",{staticClass:"user-comment-info",domProps:{innerHTML:t._s(t.at_replace(s.content,s.at_info,s.url_info,s.subject_info))}})," ",e("div",{staticClass:"status"},[e("span",{on:{click:function(e){t.reply(s.user.name)}}},["回复"])," ",e("span",{class:{on:s.is_like},on:{click:function(e){t.bullet_like(s.is_like,s.id,i)}}},["赞("+t._s(s.like)+")"])])])]):t._e()})])])])," "," ",e("transition",{attrs:{name:"tag-fade"}},[e("section",{directives:[{name:"show",rawName:"v-show",value:t.show_newtags,expression:"show_newtags"}],staticClass:"add-tags"},[e("div",{staticClass:"close",on:{click:function(e){t.show_newtags=!1}}},["×"])," ",e("h1",["添加标签"])," ",e("small",{staticClass:"rule"},["添加标签的回声会被更多人发现，用空格或回车进行分隔"])," ",e("input",{attrs:{type:"text",name:"mf_input",id:"mf_input",autocomplete:"off",autofocus:""}})," ",e("h3",["常用标签"])," ",e("ul",{staticClass:"tags-list"},[t._l(t.tags_hot,function(s){return e("li",{on:{click:function(e){t.select_tag(s)}}},[t._s(s)])})])," ",e("input",{attrs:{type:"submit",value:"发送"},on:{click:t.add_tags}})])])]:t._e()," "," ",t.can_play?t._e():[e("div",{staticClass:"container-box err"},[e("p",{staticClass:"text"},[t._s(t.error_msg)])," ",e("a",{staticClass:"back",attrs:{href:"/#"}},["返回"])])]])},staticRenderFns:[]}}});